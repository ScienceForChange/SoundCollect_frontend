"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7717],{37717:(C,_,a)=>{a.r(_),a.d(_,{ResultsPage:()=>L});var c=a(10467),s=a(54438),v=a(60177),m=a(89417),f=a(61494),l=a(35933),E=a(16817),d=a(13903),u=a(7981),R=a(75507),p=a(60248),F=a(63813),g=a(4286),h=a(3191),I=a(76783),x=a(85641);function M(n,i){1&n&&(s.j41(0,"span"),s.EFF(1,", "),s.k0s())}function T(n,i){if(1&n&&(s.j41(0,"strong"),s.DNE(1,M,2,0,"span",34),s.j41(2,"span"),s.EFF(3),s.nI1(4,"translate"),s.k0s()()),2&n){const o=i.$implicit,t=i.first;s.R7$(),s.Y8G("ngIf",!t),s.R7$(2),s.JRh(s.bMT(4,2,"observations.answers.Q1A"+o))}}function $(n,i){if(1&n&&(s.j41(0,"div",10)(1,"div",11)(2,"label"),s.EFF(3),s.nI1(4,"translate"),s.k0s()(),s.j41(5,"div")(6,"label"),s.EFF(7),s.nI1(8,"translate"),s.nrm(9,"br"),s.j41(10,"strong"),s.EFF(11),s.nI1(12,"translate"),s.k0s()()(),s.j41(13,"div")(14,"label"),s.EFF(15),s.nI1(16,"translate"),s.nrm(17,"br"),s.j41(18,"strong"),s.EFF(19),s.nI1(20,"translate"),s.k0s()()(),s.j41(21,"div")(22,"label"),s.EFF(23),s.nI1(24,"translate"),s.nrm(25,"br"),s.j41(26,"strong"),s.EFF(27),s.nI1(28,"translate"),s.k0s()()(),s.j41(29,"div")(30,"label"),s.EFF(31),s.nI1(32,"translate"),s.nrm(33,"br"),s.j41(34,"strong"),s.EFF(35),s.nI1(36,"translate"),s.k0s()()(),s.j41(37,"div")(38,"label"),s.EFF(39),s.nI1(40,"translate"),s.nrm(41,"br"),s.j41(42,"strong"),s.EFF(43),s.nI1(44,"translate"),s.k0s()()(),s.j41(45,"div")(46,"label"),s.EFF(47),s.nI1(48,"translate"),s.nrm(49,"br"),s.j41(50,"strong"),s.EFF(51),s.nI1(52,"translate"),s.k0s()()(),s.j41(53,"div")(54,"label"),s.EFF(55),s.nI1(56,"translate"),s.nrm(57,"br"),s.j41(58,"strong"),s.EFF(59),s.nI1(60,"translate"),s.k0s()()(),s.j41(61,"div")(62,"label"),s.EFF(63),s.nI1(64,"translate"),s.nrm(65,"br"),s.j41(66,"strong"),s.EFF(67),s.nI1(68,"translate"),s.k0s()()()()),2&n){const o=s.XpG();s.R7$(3),s.SpI(" ",s.bMT(4,17,"observations.questions.questionExp1"),": "),s.R7$(4),s.SpI(" ",s.bMT(8,19,"observations.answers.questionExp1A1"),": "),s.R7$(4),s.JRh(s.bMT(12,21,"observations.answers.QE1A"+o.observation.pleasant)),s.R7$(4),s.SpI(" ",s.bMT(16,23,"observations.answers.questionExp1A2"),": "),s.R7$(4),s.JRh(s.bMT(20,25,"observations.answers.QE1A"+o.observation.chaotic)),s.R7$(4),s.SpI(" ",s.bMT(24,27,"observations.answers.questionExp1A3"),": "),s.R7$(4),s.JRh(s.bMT(28,29,"observations.answers.QE1A"+o.observation.vibrant)),s.R7$(4),s.SpI(" ",s.bMT(32,31,"observations.answers.questionExp1A4"),": "),s.R7$(4),s.JRh(s.bMT(36,33,"observations.answers.QE1A"+o.observation.uneventful)),s.R7$(4),s.SpI(" ",s.bMT(40,35,"observations.answers.questionExp1A5"),": "),s.R7$(4),s.JRh(s.bMT(44,37,"observations.answers.QE1A"+o.observation.calm)),s.R7$(4),s.SpI(" ",s.bMT(48,39,"observations.answers.questionExp1A6"),": "),s.R7$(4),s.JRh(s.bMT(52,41,"observations.answers.QE1A"+o.observation.annoying)),s.R7$(4),s.SpI(" ",s.bMT(56,43,"observations.answers.questionExp1A7"),": "),s.R7$(4),s.JRh(s.bMT(60,45,"observations.answers.QE1A"+o.observation.eventful)),s.R7$(4),s.SpI(" ",s.bMT(64,47,"observations.answers.questionExp1A8"),": "),s.R7$(4),s.JRh(s.bMT(68,49,"observations.answers.QE1A"+o.observation.monotonous))}}function j(n,i){if(1&n&&(s.j41(0,"div",10)(1,"div",11)(2,"label"),s.EFF(3),s.nI1(4,"translate"),s.nrm(5,"br"),s.j41(6,"strong"),s.EFF(7),s.nI1(8,"translate"),s.k0s()()()()),2&n){const o=s.XpG();s.R7$(3),s.SpI(" ",s.bMT(4,2,"observations.questions.questionExp3"),": "),s.R7$(4),s.JRh(s.bMT(8,4,"observations.answers.questionExp3A"+o.observation.environment))}}function k(n,i){if(1&n&&(s.j41(0,"div",38),s.nrm(1,"ion-img",39),s.k0s()),2&n){const o=i.index,t=s.XpG(2);s.R7$(),s.Y8G("src",t.getImgUrl(o))}}function P(n,i){if(1&n&&(s.j41(0,"div",20)(1,"label",35),s.EFF(2),s.nI1(3,"translate"),s.k0s(),s.j41(4,"div",9)(5,"div",36),s.DNE(6,k,2,1,"div",37),s.k0s()()()),2&n){const o=s.XpG();s.R7$(2),s.JRh(s.bMT(3,2,"sounds.results.info_multimedia")),s.R7$(4),s.Y8G("ngForOf",o.fileList)}}function A(n,i){if(1&n&&(s.j41(0,"div",22),s.nrm(1,"img",23),s.j41(2,"strong"),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.EFF(5),s.k0s()),2&n){const o=s.XpG(2);s.R7$(3),s.JRh(s.bMT(4,2,"sounds.collect.process.sharpness_S")),s.R7$(2),s.SpI(": ",o.observation.sharpness_S," ")}}function y(n,i){if(1&n&&(s.j41(0,"div",22),s.nrm(1,"img",23),s.j41(2,"strong"),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.EFF(5),s.k0s()),2&n){const o=s.XpG(2);s.R7$(3),s.JRh(s.bMT(4,2,"sounds.collect.process.loudness_N")),s.R7$(2),s.SpI(": ",o.observation.loudness_N," ")}}function S(n,i){if(1&n&&(s.j41(0,"div",22),s.nrm(1,"img",23),s.j41(2,"strong"),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.EFF(5),s.k0s()),2&n){const o=s.XpG(2);s.R7$(3),s.JRh(s.bMT(4,2,"sounds.collect.process.fluctuation_strength_F")),s.R7$(2),s.SpI(": ",o.observation.fluctuation_strength_F," ")}}function O(n,i){1&n&&(s.j41(0,"div",25)(1,"div",22),s.nrm(2,"img",23),s.j41(3,"strong"),s.EFF(4),s.nI1(5,"translate"),s.k0s()()()),2&n&&(s.R7$(4),s.JRh(s.bMT(5,1,"sounds.collect.process.spectral")))}function D(n,i){if(1&n&&(s.j41(0,"div",40),s.DNE(1,A,6,4,"div",41)(2,y,6,4,"div",41)(3,S,6,4,"div",41)(4,O,6,3,"div",42),s.j41(5,"div",26),s.nrm(6,"app-spectral-graph",43),s.k0s()()),2&n){const o=s.XpG();s.R7$(),s.Y8G("ngIf","N/A"!==o.observation.sharpness_S),s.R7$(),s.Y8G("ngIf","N/A"!==o.observation.loudness_N),s.R7$(),s.Y8G("ngIf","N/A"!==o.observation.fluctuation_strength_F),s.R7$(),s.Y8G("ngIf",o.observation.segments.length>0&&(null==o.observation.segments[0].freq_3?null:o.observation.segments[0].freq_3.length)>0),s.R7$(2),s.Y8G("segments",o.observation.segments)}}let L=(()=>{var n;class i{constructor(t){this.alertController=t,this.navController=(0,s.WQX)(f.q9),this.router=(0,s.WQX)(E.Ix),this.observationsService=(0,s.WQX)(u.z),this.userService=(0,s.WQX)(g.D),this.translate=(0,s.WQX)(d.c$),this.commonService=(0,s.WQX)(p.hf),this.fileListUrl=[],this.isExpert=!1}ngOnInit(){var t=this;return(0,c.A)(function*(){var e;t.dataNavigation=null===(e=t.router.getCurrentNavigation())||void 0===e||null===(e=e.extras)||void 0===e?void 0:e.state,t.observation=t.dataNavigation.observation,t.fileList=t.dataNavigation.fileList,t.isExpert=t.dataNavigation.isExpert})()}goExit(){var t=this;return(0,c.A)(function*(){const e=yield t.translate.instant("sounds.results.alert"),r=yield t.translate.instant("sounds.results.yes"),b=yield t.translate.instant("sounds.results.no");var w;yield(yield t.alertController.create({header:e,mode:"ios",buttons:[{text:r,handler:(w=(0,c.A)(function*(){yield t.navController.navigateRoot("tabs/home",{animated:!1})}),function(){return w.apply(this,arguments)})},{text:b,handler:()=>{console.log("Confirm Cancel")}}]})).present()})()}goBack(){var t=this;return(0,c.A)(function*(){console.log("back");const e={state:{observation:t.observation,fileList:t.fileList}};yield t.navController.navigateBack("/collect-sound",e)})()}getImgUrl(t){return this.fileListUrl[t]||(this.fileListUrl[t]=URL.createObjectURL(this.fileList[t])),this.fileListUrl[t]}sendObservation(){var t=this;return(0,c.A)(function*(){try{yield t.commonService.showLoader(),yield t.observationsService.postObservation(t.observation),t.userService.notificationGaming=!0,yield t.commonService.hideLoader();const e=yield t.translate.instant("sounds.results.sended_ok");yield t.commonService.presentToast("",e,"success",2e3,p.xJ.top),yield t.navController.navigateRoot("tabs/home",{animated:!1})}catch(e){const r=yield t.translate.instant("sounds.results.sended_error");t.commonService.alertModal("",r),yield t.commonService.hideLoader(),console.error("Error al enviar la observaci\xf3n: ",e)}})()}observationToFormData(t){let e=new FormData;for(const r in t)"images"!==r&&"sound_types"!==r&&"segments"!==r&&t.hasOwnProperty(r)&&e.append(r,t[r]);for(let r=0;r<this.observation.sound_types.length;r++)e.append(`sound_types[${r}]`,this.observation.sound_types[r].toString());for(let r=0;r<this.observation.sound_types.length;r++)e.append(`segments[${r}]`,this.observation.segments[r]);for(let r=0;r<this.fileList.length;r++)e.append(`images[${r}]`,this.fileList[r]);return e}noOrder(){return!1}}return(n=i).\u0275fac=function(t){return new(t||n)(s.rXU(l.hG))},n.\u0275cmp=s.VBU({type:n,selectors:[["app-results"]],standalone:!0,features:[s.Jv_([u.z,R.g,g.D,h.q]),s.aNF],decls:139,vars:95,consts:[[1,"ion-no-border"],["color","secondary",1,"ion-no-margin","ion-no-padding","ion-no-border"],[1,"flex","items-center","justify-between","px-3"],["tappable","true","src","assets/images/SoundCollect/Iconos/back-white.svg","alt","back","width","24",1,"mt-1",3,"click"],[1,"H2-22-700","self-start","text-white"],["tappable","true","ngSrc","assets/images/SoundCollect/Iconos/close_white.svg","alt","back","width","24","height","24",1,"mt-1",3,"click"],[2,"--background","var(--ion-color-secondary) !important",3,"fullscreen"],[1,"flex","items-center","gap-4","pt-6","flex-col","justify-start","w-full","h-full"],[1,"H-20-700","text-white","text-start","w-full","ms-8","mt-5"],[1,"blue-box"],[1,"w-100","flex","flex-col"],[1,"H-16-400","my-text-header","flex"],[4,"ngFor","ngForOf"],[1,"w-100","flex","flex-col","mt-2"],[1,"w-100","flex","flex-col","my-2"],["class","w-100 flex flex-col",4,"ngIf"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-row","justify-between","items-center","w-full","ms-8","mt-5","pe-4"],[1,"H-20-700","text-white","text-start"],["buttonTextColor","light",3,"isExpert"],[1,"flex","flex-col"],[1,"H-16-400","my-text-header","flex","flex-col"],[1,"w-full","flex","m-2"],["ngSrc","assets/images/SoundCollect/Iconos/ellipse.svg","height","16","width","16","alt","",1,"me-1"],[1,"w-100","flex","justify-center","flex-col"],[1,"H-16-400","my-text-header","flex","items-center"],[1,"w-80"],[3,"dataset"],["class","mt-3",4,"ngIf"],[1,"ion-no-border",2,"background-color","var(--ion-color-secondary)"],[1,"ion-no-border","px-3","pt-2"],[1,"flex","w-full","flex-col","justify-evenly","gap-3"],[1,"my-btn-login-inverted","mx-auto",3,"click"],[1,"ion-text-nowrap"],[4,"ngIf"],[1,"H-20-700","text-white","text-start","w-full","mb-4","ms-2","mt-5"],[1,"flex","gap-2","justify-start","items-center","p-2",2,"overflow","scroll"],["class","img-box",4,"ngFor","ngForOf"],[1,"img-box"],[2,"aspect-ratio","109/128","object-fit","cover",3,"src"],[1,"mt-3"],["class","w-full flex m-2",4,"ngIf"],["class","H-16-400 my-text-header flex items-center",4,"ngIf"],[3,"segments"]],template:function(t,e){1&t&&(s.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"img",3),s.bIt("click",function(){return e.goBack()}),s.k0s(),s.j41(4,"ion-text",4),s.EFF(5),s.nI1(6,"translate"),s.k0s(),s.j41(7,"img",5),s.bIt("click",function(){return e.goExit()}),s.k0s()()()(),s.j41(8,"ion-content",6)(9,"div",7)(10,"label",8),s.EFF(11),s.nI1(12,"translate"),s.k0s(),s.j41(13,"div",9)(14,"div",10)(15,"div",11)(16,"label"),s.EFF(17),s.nI1(18,"translate"),s.nrm(19,"br"),s.DNE(20,T,5,4,"strong",12),s.k0s()()(),s.j41(21,"div",13)(22,"div",11)(23,"label"),s.EFF(24),s.nI1(25,"translate"),s.nrm(26,"br"),s.j41(27,"strong"),s.EFF(28),s.nI1(29,"translate"),s.k0s()()()(),s.j41(30,"div",14)(31,"div",11)(32,"label"),s.EFF(33),s.nI1(34,"translate"),s.nrm(35,"br"),s.j41(36,"strong"),s.EFF(37),s.nI1(38,"translate"),s.k0s()()()(),s.j41(39,"div",10)(40,"div",11)(41,"label"),s.EFF(42),s.nI1(43,"translate"),s.nrm(44,"br"),s.j41(45,"strong"),s.EFF(46),s.nI1(47,"translate"),s.k0s()()()(),s.j41(48,"div",10)(49,"div",11)(50,"label"),s.EFF(51),s.nI1(52,"translate"),s.nrm(53,"br"),s.j41(54,"strong"),s.EFF(55),s.nI1(56,"translate"),s.k0s()()()(),s.j41(57,"div",10)(58,"div",11)(59,"label"),s.EFF(60),s.nI1(61,"translate"),s.nrm(62,"br"),s.j41(63,"strong"),s.EFF(64),s.nI1(65,"translate"),s.k0s()()()(),s.j41(66,"div",10)(67,"div",11)(68,"label"),s.EFF(69),s.nI1(70,"translate"),s.nrm(71,"br"),s.j41(72,"strong"),s.EFF(73),s.k0s()()()(),s.DNE(74,$,69,51,"div",15)(75,j,9,6,"div",15),s.k0s(),s.DNE(76,P,7,4,"div",16),s.j41(77,"div",17)(78,"label",18),s.EFF(79),s.nI1(80,"translate"),s.k0s(),s.nrm(81,"app-parameters-explanation",19),s.k0s(),s.j41(82,"div",9)(83,"div",20)(84,"div",21)(85,"div",22),s.nrm(86,"img",23),s.j41(87,"strong"),s.EFF(88),s.nI1(89,"translate"),s.k0s(),s.EFF(90),s.nI1(91,"number"),s.k0s(),s.j41(92,"div",22),s.nrm(93,"img",23),s.j41(94,"strong"),s.EFF(95),s.nI1(96,"translate"),s.k0s(),s.EFF(97),s.nI1(98,"number"),s.k0s(),s.j41(99,"div",22),s.nrm(100,"img",23),s.j41(101,"strong"),s.EFF(102),s.nI1(103,"translate"),s.k0s(),s.EFF(104),s.nI1(105,"number"),s.k0s(),s.j41(106,"div",22),s.nrm(107,"img",23),s.j41(108,"strong"),s.EFF(109),s.nI1(110,"translate"),s.k0s(),s.EFF(111),s.nI1(112,"number"),s.k0s(),s.j41(113,"div",22),s.nrm(114,"img",23),s.j41(115,"strong"),s.EFF(116),s.nI1(117,"translate"),s.k0s(),s.EFF(118),s.nI1(119,"number"),s.k0s(),s.j41(120,"div",24)(121,"div",25)(122,"div",22),s.nrm(123,"img",23),s.j41(124,"strong"),s.EFF(125),s.nI1(126,"translate"),s.k0s()()(),s.j41(127,"div",26),s.nrm(128,"app-graph",27),s.k0s()(),s.DNE(129,D,7,5,"div",28),s.k0s()()(),s.j41(130,"div"),s.EFF(131,"\xa0"),s.k0s()()(),s.j41(132,"ion-footer",29)(133,"div",30)(134,"div",31)(135,"button",32),s.bIt("click",function(){return e.sendObservation()}),s.j41(136,"ion-text",33),s.EFF(137),s.nI1(138,"translate"),s.k0s()()()()()),2&t&&(s.R7$(5),s.SpI(" ",s.bMT(6,36,"sounds.results.title")," "),s.R7$(3),s.Y8G("fullscreen",!0),s.R7$(3),s.JRh(s.bMT(12,38,"sounds.results.more_info")),s.R7$(6),s.SpI(" ",s.bMT(18,40,"observations.questions.question1"),": "),s.R7$(3),s.Y8G("ngForOf",e.observation.sound_types),s.R7$(4),s.SpI(" ",s.bMT(25,42,"observations.questions.question2"),": "),s.R7$(4),s.JRh(s.bMT(29,44,"observations.answers.Q2A"+e.observation.quiet)),s.R7$(5),s.SpI(" ",s.bMT(34,46,"observations.questions.question3"),": "),s.R7$(4),s.JRh(s.bMT(38,48,"observations.answers.Q3A"+e.observation.cleanliness)),s.R7$(5),s.SpI(" ",s.bMT(43,50,"observations.questions.question4"),": "),s.R7$(4),s.JRh(s.bMT(47,52,"observations.answers.Q4A"+e.observation.accessibility)),s.R7$(5),s.SpI(" ",s.bMT(52,54,"observations.questions.question5"),": "),s.R7$(4),s.JRh(s.bMT(56,56,"observations.answers.Q5A"+e.observation.safety)),s.R7$(5),s.SpI(" ",s.bMT(61,58,"observations.questions.question6"),": "),s.R7$(4),s.JRh(s.bMT(65,60,"observations.answers.Q6A"+e.observation.influence)),s.R7$(5),s.SpI(" ",s.bMT(70,62,"observations.questions.question8"),": "),s.R7$(4),s.JRh(e.observation.protection),s.R7$(),s.Y8G("ngIf",e.isExpert),s.R7$(),s.Y8G("ngIf",e.isExpert),s.R7$(),s.Y8G("ngIf",e.fileList.length>0),s.R7$(3),s.JRh(s.bMT(80,64,"sounds.collect.details")),s.R7$(2),s.Y8G("isExpert",e.isExpert),s.R7$(7),s.JRh(s.bMT(89,66,"sounds.collect.process.L10")),s.R7$(2),s.SpI(": ",s.i5U(91,68,e.observation.L10,"1.0-0")," "),s.R7$(5),s.JRh(s.bMT(96,71,"sounds.collect.process.L90")),s.R7$(2),s.SpI(": ",s.i5U(98,73,e.observation.L90,"1.0-0")," "),s.R7$(5),s.JRh(s.bMT(103,76,"sounds.collect.process.Leq")),s.R7$(2),s.SpI(": ",s.i5U(105,78,e.observation.Leq,"1.0-0")," "),s.R7$(5),s.JRh(s.bMT(110,81,"sounds.collect.process.LAmax")),s.R7$(2),s.SpI(": ",s.i5U(112,83,e.observation.LAmax,"1.0-0")," "),s.R7$(5),s.JRh(s.bMT(117,86,"sounds.collect.process.LAmin")),s.R7$(2),s.SpI(": ",s.i5U(119,88,e.observation.LAmin,"1.0-0")," "),s.R7$(7),s.SpI("",s.bMT(126,91,"sounds.collect.process.LAeqT"),":"),s.R7$(3),s.Y8G("dataset",e.observation.LAeqT),s.R7$(),s.Y8G("ngIf",e.isExpert),s.R7$(8),s.SpI(" ",s.bMT(138,93,"sounds.btn.send")," "))},dependencies:[l.bv,l.W9,l.M0,l.eU,l.KW,l.IO,l.ai,v.MD,v.Sq,v.bT,v.QX,m.YN,d.h,d.D9,v.kt,F.u,I.D,x.o],styles:["ion-content[_ngcontent-%COMP%]{--offset-bottom:0px !important}.blue-box[_ngcontent-%COMP%]{padding:21px;width:95vw;height:auto;border-radius:20px;background:#d9d9d9;display:flex;flex-direction:column;gap:8px}.img-box[_ngcontent-%COMP%]{width:109px;height:127px;flex-shrink:0;border-radius:20px;border:2px solid #206A71;background-repeat:no-repeat;background-position:center;background-size:cover;overflow:hidden}ion-range[_ngcontent-%COMP%]{--bar-height: 6px;--bar-border-radius: 100px;--knob-background: var(--ion-color-primary);--knob-size: 22px;--pin-background: rgba(255, 175, 204, 0);--pin-color: #fff}"]}),i})()}}]);