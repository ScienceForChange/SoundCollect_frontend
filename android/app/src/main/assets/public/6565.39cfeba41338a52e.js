(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6565],{26565:(K,Q,S)=>{"use strict";S.r(Q),S.d(Q,{CollectSoundPage:()=>Ke});var R=S(10467),e=S(54438),s=S(60177),_=S(89417),p=S(61494),b=S(35933),I=S(16817),E=S(82739),A=S(15293),x=S(96943),$=S(5981),t=S(41319),n=S(35797),a=S(60248),u=S(45877),v=S(7981),g=S(75507),f=S(21626),w=S(15083),M=S(65677),j=S(77917),G=S.n(j),O=S(13903),X=S(56603),q=S(63813),P=function(l){return l.Prompt="PROMPT",l.Camera="CAMERA",l.Photos="PHOTOS",l}(P||{}),H=function(l){return l.Rear="REAR",l.Front="FRONT",l}(H||{}),J=function(l){return l.Uri="uri",l.Base64="base64",l.DataUrl="dataUrl",l}(J||{});class Y extends w.E_{getPhoto(c){var i=this;return(0,R.A)(function*(){return new Promise(function(){var o=(0,R.A)(function*(r,d){if(c.webUseInput||c.source===P.Photos)i.fileInputExperience(c,r,d);else if(c.source===P.Prompt){let m=document.querySelector("pwa-action-sheet");m||(m=document.createElement("pwa-action-sheet"),document.body.appendChild(m)),m.header=c.promptLabelHeader||"Photo",m.cancelable=!1,m.options=[{title:c.promptLabelPhoto||"From Photos"},{title:c.promptLabelPicture||"Take Picture"}],m.addEventListener("onSelection",function(){var h=(0,R.A)(function*(y){0===y.detail?i.fileInputExperience(c,r,d):i.cameraExperience(c,r,d)});return function(y){return h.apply(this,arguments)}}())}else i.cameraExperience(c,r,d)});return function(r,d){return o.apply(this,arguments)}}())})()}pickImages(c){var i=this;return(0,R.A)(function*(){return new Promise(function(){var o=(0,R.A)(function*(r,d){i.multipleFileInputExperience(r,d)});return function(r,d){return o.apply(this,arguments)}}())})()}cameraExperience(c,i,o){var r=this;return(0,R.A)(function*(){if(customElements.get("pwa-camera-modal")){const d=document.createElement("pwa-camera-modal");d.facingMode=c.direction===H.Front?"user":"environment",document.body.appendChild(d);try{yield d.componentOnReady(),d.addEventListener("onPhoto",function(){var m=(0,R.A)(function*(h){const y=h.detail;null===y?o(new w.I9("User cancelled photos app")):y instanceof Error?o(y):i(yield r._getCameraPhoto(y,c)),d.dismiss(),document.body.removeChild(d)});return function(h){return m.apply(this,arguments)}}()),d.present()}catch{r.fileInputExperience(c,i,o)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),r.fileInputExperience(c,i,o)})()}fileInputExperience(c,i,o){let r=document.querySelector("#_capacitor-camera-input");const d=()=>{var m;null===(m=r.parentNode)||void 0===m||m.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",m=>{const h=r.files[0];let y="jpeg";if("image/png"===h.type?y="png":"image/gif"===h.type&&(y="gif"),"dataUrl"===c.resultType||"base64"===c.resultType){const T=new FileReader;T.addEventListener("load",()=>{if("dataUrl"===c.resultType)i({dataUrl:T.result,format:y});else if("base64"===c.resultType){const k=T.result.split(",")[1];i({base64String:k,format:y})}d()}),T.readAsDataURL(h)}else i({webPath:URL.createObjectURL(h),format:y}),d()}),r.addEventListener("cancel",m=>{o(new w.I9("User cancelled photos app")),d()})),r.accept="image/*",r.capture=!0,c.source===P.Photos||c.source===P.Prompt?r.removeAttribute("capture"):c.direction===H.Front?r.capture="user":c.direction===H.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(c,i){let o=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var d;null===(d=o.parentNode)||void 0===d||d.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input-multiple",o.type="file",o.hidden=!0,o.multiple=!0,document.body.appendChild(o),o.addEventListener("change",d=>{const m=[];for(let h=0;h<o.files.length;h++){const y=o.files[h];let T="jpeg";"image/png"===y.type?T="png":"image/gif"===y.type&&(T="gif"),m.push({webPath:URL.createObjectURL(y),format:T})}c({photos:m}),r()}),o.addEventListener("cancel",d=>{i(new w.I9("User cancelled photos app")),r()})),o.accept="image/*",o.click()}_getCameraPhoto(c,i){return new Promise((o,r)=>{const d=new FileReader,m=c.type.split("/")[1];"uri"===i.resultType?o({webPath:URL.createObjectURL(c),format:m,saved:!1}):(d.readAsDataURL(c),d.onloadend=()=>{const h=d.result;o("dataUrl"===i.resultType?{dataUrl:h,format:m,saved:!1}:{base64String:h.split(",")[1],format:m,saved:!1})},d.onerror=h=>{r(h)})})}checkPermissions(){var c=this;return(0,R.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw c.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw c.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var c=this;return(0,R.A)(function*(){throw c.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var c=this;return(0,R.A)(function*(){throw c.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var c=this;return(0,R.A)(function*(){throw c.unavailable("Not implemented on web.")})()}}new Y;const B=(0,w.F3)("Camera",{web:()=>new Y});class Z{constructor(c){this.tiempoInicial=c,this.tiempoRestante=c,this.estado="detenido"}formatearTiempo(c){const i=Math.floor(c/3600),o=Math.floor(c%3600/60),r=c%60;return`${this.agregarCero(i)}:${this.agregarCero(o)}:${this.agregarCero(r)}`}agregarCero(c){return c<10?`0${c}`:`${c}`}iniciar(){("detenido"===this.estado||"pausado"===this.estado)&&(this.estado="iniciado",this.intervalId=setInterval(()=>{this.tiempoRestante--,this.tiempoRestante<=0&&this.detener()},1e3))}pausar(){"iniciado"===this.estado&&(clearInterval(this.intervalId),this.estado="pausado")}continuar(){"pausado"===this.estado&&(this.estado="iniciado",this.intervalId=setInterval(()=>{this.tiempoRestante--,this.tiempoRestante<=0&&this.detener()},1e3))}detener(){clearInterval(this.intervalId),this.estado="detenido",this.tiempoRestante=this.tiempoInicial}obtenerTiempoRestante(){return this.formatearTiempo(this.tiempoRestante)}obtenerEstado(){return this.estado}}var z=S(4286),se=S(3191),le=S(76783),ce=S(85641),ee=S(31635),ue=S(71985),fe=S(33726),_e={error:"cordova_not_available"},pe={error:"plugin_not_installed"};function U(l){if(typeof window<"u"&&window.angular){var i=window.document,o=window.angular.element(i.querySelector("[ng-app]")||i.body).injector();if(o)return o.get("$q")(function(d,m){l(d,m)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(d,m){l(d,m)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function te(l,c,i){var o,r;"string"==typeof l?o=l:(o=l.constructor.getPluginRef(),i=l.constructor.getPluginName(),r=l.constructor.getPluginInstallName());var d=re(o);return!(!d||c&&typeof d[c]>"u")||(typeof window>"u"||!window.cordova?(function we(l,c){typeof process>"u"&&console.warn(c?"Native: tried calling "+l+"."+c+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+l+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(i,c),_e):(function ye(l,c,i){console.warn(i?"Native: tried calling "+l+"."+i+", but the "+l+" plugin is not installed.":"Native: tried accessing the "+l+" plugin but it's not installed."),c&&console.warn("Install the "+l+" plugin: 'ionic cordova plugin add "+c+"'")}(i,r,c),pe))}function V(l,c,i,o,r,d){void 0===o&&(o={}),i=function ne(l,c,i,o){if(void 0===c&&(c={}),c.sync)return l;if("reverse"===c.callbackOrder)l.unshift(o),l.unshift(i);else if("node"===c.callbackStyle)l.push(function(h,y){h?o(h):i(y)});else if("object"===c.callbackStyle&&c.successName&&c.errorName){var r={};r[c.successName]=i,r[c.errorName]=o,l.push(r)}else if(typeof c.successIndex<"u"||typeof c.errorIndex<"u"){var d=function(){c.successIndex>l.length?l[c.successIndex]=i:l.splice(c.successIndex,0,i)},m=function(){c.errorIndex>l.length?l[c.errorIndex]=o:l.splice(c.errorIndex,0,o)};c.successIndex>c.errorIndex?(m(),d()):(d(),m())}else l.push(i),l.push(o);return l}(i,o,r,d);var m=te(l,c);if(!0===m){var h=re(l.constructor.getPluginRef());return h[c].apply(h,i)}return m}function re(l){return typeof window<"u"?oe(window,l):null}function oe(l,c){for(var i=c.split("."),o=l,r=0;r<i.length;r++){if(!o)return null;o=o[i[r]]}return o}var Ie=function(){function l(){}return l.installed=function(){return!0===te(this.pluginRef)},l.getPlugin=function(){return typeof window<"u"?function xe(l,c){for(var i=c.split("."),o=l,r=0;r<i.length;r++){if(!o)return null;o=o[i[r]]}return o}(window,this.pluginRef):null},l.getPluginName=function(){return this.pluginName},l.getPluginRef=function(){return this.pluginRef},l.getPluginInstallName=function(){return this.plugin},l.getSupportedPlatforms=function(){return this.platforms},l.pluginName="",l.pluginRef="",l.plugin="",l.repo="",l.platforms=[],l.install="",l}();function ie(l,c,i,o){return function(l,c,i){return void 0===i&&(i={}),function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return i.sync?V(l,c,o,i):i.observable?function ge(l,c,i,o){return void 0===o&&(o={}),new ue.c(function(r){var d;return d=o.destruct?V(l,c,i,o,function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];return r.next(m)},function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];return r.error(m)}):V(l,c,i,o,r.next.bind(r),r.error.bind(r)),d&&d.error&&(r.error(d.error),r.complete()),function(){try{if(o.clearFunction)return o.clearWithArgs?V(l,o.clearFunction,i,o,r.next.bind(r),r.error.bind(r)):V(l,o.clearFunction,[])}catch(m){console.warn("Unable to clear the previous observable watch for",l.constructor.getPluginName(),c),console.warn(m)}}})}(l,c,o,i):i.eventObservable&&i.event?function he(l,c){return c=typeof window<"u"&&c?oe(window,c):c||(typeof window<"u"?window:{}),(0,fe.R)(c,l)}(i.event,i.element):i.otherPromise?function me(l,c,i,o){return void 0===o&&(o={}),U(function(r,d){var m=V(l,c,i,o);m?m.error?d(m.error):m.then&&m.then(r).catch(d):d({error:"unexpected_error"})})}(l,c,o,i):function ve(l,c,i,o){void 0===o&&(o={});var r,d,m=U(function(h,y){r=o.destruct?V(l,c,i,o,function(){for(var T=[],k=0;k<arguments.length;k++)T[k]=arguments[k];return h(T)},function(){for(var T=[],k=0;k<arguments.length;k++)T[k]=arguments[k];return y(T)}):V(l,c,i,o,h,y),d=y});return r&&r.error&&(m.catch(function(){}),"function"==typeof d&&d(r.error)),m}(l,c,o,i)}}(l,c,i).apply(this,o)}!function de(){if(typeof process>"u"){var l=typeof window<"u"?window:{},i=Date.now(),o=!1;l.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-i)+" ms"),o=!0}),setTimeout(function(){!o&&l.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var ae=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,ee.C6)(c,l),c.prototype.keepAwake=function(){return ie(this,"keepAwake",{},arguments)},c.prototype.allowSleepAgain=function(){return ie(this,"allowSleepAgain",{},arguments)},c.\u0275fac=(()=>{let i;return function(r){return(i||(i=e.xGo(c)))(r||c)}})(),c.\u0275prov=e.jDH({token:c,factory:c.\u0275fac}),c.pluginName="Insomnia",c.plugin="cordova-plugin-insomnia",c.pluginRef="plugins.insomnia",c.repo="https://github.com/EddyVerbruggen/Insomnia-PhoneGap-Plugin",c.platforms=["Android","Browser","Firefox OS","iOS","Windows","Windows Phone 8"],c=(0,ee.Cg)([],c)}(Ie);const Re=["fileUpload"],ke=["range"];function Se(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",29)(1,"div",30)(2,"label",31)(3,"p"),e.EFF(4),e.k0s()()(),e.j41(5,"div",32)(6,"div",33),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.recording?r.pauseRecording():!r.stoped&&r.resumeRecording())}),e.nrm(7,"img",34),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",33),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.recording&&r.seconds>=r.minSeconds&&r.stopRecording())}),e.nrm(11,"img",35),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",33),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.resetRecording())}),e.nrm(15,"img",36),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}if(2&l){const i=e.XpG(3);e.R7$(4),e.JRh(i.timer),e.R7$(2),e.Y8G("ngClass",i.stoped?"opacity-50":""),e.R7$(),e.Mz_("ngSrc","assets/images/SoundCollect/",i.recording?"pause":"continue",".svg"),e.R7$(),e.SpI(" ",e.bMT(9,9,i.recording?"sounds.collect.pause":"sounds.collect.continue")," "),e.R7$(2),e.Y8G("ngClass",!i.recording||i.seconds<i.minSeconds+1?"opacity-50":""),e.R7$(2),e.SpI(" ",e.bMT(13,11,"sounds.collect.stop")," "),e.R7$(2),e.Y8G("ngClass",i.recording?"opacity-50":""),e.R7$(2),e.SpI(" ",e.bMT(17,13,"sounds.collect.reset")," ")}}function Fe(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"label",21),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",22)(8,"div",23),e.bIt("click",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(!r.recording&&(r.stoped?r.initRecord():r.resumeRecording()))}),e.nrm(9,"div",24)(10,"div",25),e.j41(11,"div",26),e.nrm(12,"ion-icon",27),e.k0s()()(),e.DNE(13,Se,18,15,"div",28),e.nrm(14,"br")(15,"br")(16,"br")(17,"br")(18,"br"),e.k0s()}if(2&l){const i=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,4,"sounds.collect.title"),""),e.R7$(3),e.JRh(e.bMT(6,6,"sounds.collect.30Seg")),e.R7$(5),e.Y8G("ngClass",i.recording?"animated-circle-full":""),e.R7$(3),e.Y8G("ngIf",i.flagViewControls)}}function Me(l,c){if(1&l){const i=e.RV6();e.j41(0,"ion-button",49),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.start(!1))}),e.nrm(1,"img",50),e.k0s()}}function Ee(l,c){if(1&l){const i=e.RV6();e.j41(0,"ion-button",49),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.start(!0))}),e.nrm(1,"img",50),e.k0s()}}function Pe(l,c){if(1&l&&(e.j41(0,"div",53),e.nrm(1,"img",54),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.EFF(5),e.nI1(6,"number"),e.k0s()),2&l){const i=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"sounds.collect.process."+i.key)),e.R7$(2),e.SpI(": ",e.i5U(6,4,i.value,"1.0-0")," ")}}function Ce(l,c){if(1&l&&(e.j41(0,"div",52),e.DNE(1,Pe,7,7,"div",56),e.k0s()),2&l){const i=c.$implicit;e.R7$(),e.Y8G("ngIf","Leq"!==i.key&&"LAeqT"!==i.key&&"sharpness_S"!==i.key&&"loudness_N"!==i.key&&"roughtness_R"!==i.key&&"fluctuation_strength_F"!==i.key)}}function je(l,c){if(1&l&&(e.j41(0,"div",51)(1,"div",52)(2,"div",53),e.nrm(3,"img",54),e.j41(4,"strong"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.nI1(8,"number"),e.k0s()(),e.DNE(9,Ce,2,1,"div",55),e.nI1(10,"keyvalue"),e.k0s()),2&l){const i=e.XpG(3);e.R7$(5),e.JRh(e.bMT(6,3,"sounds.collect.process.Leq")),e.R7$(2),e.SpI(": ",e.i5U(8,5,i.soundRecordResponse.Leq,"1.0-0")," "),e.R7$(2),e.Y8G("ngForOf",e.bMT(10,8,i.soundRecordResponse))}}function $e(l,c){if(1&l&&(e.j41(0,"div",57)(1,"div",52)(2,"div",53),e.nrm(3,"img",54),e.j41(4,"strong"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7,": "),e.k0s()(),e.j41(8,"div",58),e.nrm(9,"app-graph",59),e.k0s()()),2&l){const i=e.XpG(3);e.R7$(5),e.JRh(e.bMT(6,2,"sounds.collect.process.LAeqT")),e.R7$(4),e.Y8G("dataset",null==i.observation?null:i.observation.LAeqT)}}function Le(l,c){if(1&l&&(e.j41(0,"div")(1,"div",60)(2,"div",53),e.nrm(3,"img",54),e.j41(4,"strong"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()(),e.j41(8,"div",52)(9,"div",53),e.nrm(10,"img",54),e.j41(11,"strong"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.EFF(14),e.k0s()(),e.j41(15,"div",52)(16,"div",53),e.nrm(17,"img",54),e.j41(18,"strong"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.EFF(21),e.k0s()(),e.j41(22,"div",52)(23,"div",53),e.nrm(24,"img",54),e.j41(25,"strong"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.j41(28,"div",58),e.nrm(29,"app-spectral-graph",61),e.k0s()()),2&l){const i=e.XpG(3);e.R7$(5),e.JRh(e.bMT(6,8,"sounds.collect.process.sharpness_S")),e.R7$(2),e.SpI(": ",i.soundRecordResponse.sharpness_S," "),e.R7$(5),e.JRh(e.bMT(13,10,"sounds.collect.process.loudness_N")),e.R7$(2),e.SpI(": ",i.soundRecordResponse.loudness_N," "),e.R7$(5),e.JRh(e.bMT(20,12,"sounds.collect.process.fluctuation_strength_F")),e.R7$(2),e.SpI(": ",i.soundRecordResponse.fluctuation_strength_F," "),e.R7$(5),e.JRh(e.bMT(27,14,"sounds.collect.process.spectral")),e.R7$(3),e.Y8G("segments",i.observation.segments)}}function Ge(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",37)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",38),e.DNE(5,Me,2,0,"ion-button",39)(6,Ee,2,0,"ion-button",39),e.j41(7,"ion-range",40,0),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.progress,r)||(d.progress=r),e.Njj(r)}),e.bIt("touchend",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.seek())})("mouseup",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.seek())}),e.k0s(),e.j41(9,"label",41)(10,"p"),e.EFF(11),e.k0s()()(),e.j41(12,"div",42)(13,"label",43),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"app-parameters-explanation",44),e.k0s(),e.j41(17,"div",45),e.DNE(18,je,11,10,"div",46),e.k0s(),e.DNE(19,$e,10,4,"div",47)(20,Le,30,16,"div",48),e.nrm(21,"br")(22,"br")(23,"br")(24,"br")(25,"br")(26,"br")(27,"br")(28,"br")(29,"br")(30,"br"),e.k0s()}if(2&l){const i=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,10,"sounds.collect.registered")),e.R7$(3),e.Y8G("ngIf",!i.isPlaying),e.R7$(),e.Y8G("ngIf",i.isPlaying),e.R7$(),e.R50("ngModel",i.progress),e.R7$(4),e.JRh(i.timer),e.R7$(3),e.SpI(" ",e.bMT(15,12,"sounds.collect.parameters")," "),e.R7$(2),e.Y8G("isExpert",i.isExpert),e.R7$(2),e.Y8G("ngIf",i.soundRecordResponse),e.R7$(),e.Y8G("ngIf",i.showGraph),e.R7$(),e.Y8G("ngIf",i.isExpert)}}function Be(l,c){if(1&l){const i=e.RV6();e.j41(0,"img",70),e.bIt("click",function(){e.eBV(i);const r=e.XpG().index,d=e.XpG(3);return e.Njj(d.deleteImage(r))}),e.k0s()}}function De(l,c){if(1&l&&(e.j41(0,"div",67),e.nrm(1,"ion-img",68),e.DNE(2,Be,1,0,"img",69),e.k0s()),2&l){const i=c.index,o=e.XpG(3);e.R7$(),e.Y8G("src",o.getImgUrl(i)),e.R7$(),e.Y8G("ngIf",!o.boxContent)}}function Oe(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",19)(1,"input",62,1),e.bIt("click",function(r){return e.eBV(i),e.Njj(r.target.value=null)}),e.k0s(),e.j41(3,"label",63),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",64),e.DNE(7,De,3,2,"div",65),e.j41(8,"div",66),e.bIt("click",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.takePicture())}),e.k0s()(),e.nrm(9,"br")(10,"br")(11,"br")(12,"br")(13,"br"),e.k0s()}if(2&l){const i=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,2,"sounds.collect.images")),e.R7$(3),e.Y8G("ngForOf",i.fileList)}}function Ne(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",86)(1,"label",73),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div")(5,"ion-item",91)(6,"ion-select",92),e.nI1(7,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.pleasant,r)||(d.observation.pleasant=r),e.Njj(r)}),e.j41(8,"ion-select-option",93),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"ion-select-option",94),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"ion-select-option",95),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"ion-select-option",96),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"ion-select-option",97),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()(),e.j41(23,"ion-item",91)(24,"ion-select",98),e.nI1(25,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.chaotic,r)||(d.observation.chaotic=r),e.Njj(r)}),e.j41(26,"ion-select-option",93),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"ion-select-option",94),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"ion-select-option",95),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"ion-select-option",96),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"ion-select-option",97),e.EFF(39),e.nI1(40,"translate"),e.k0s()()(),e.j41(41,"ion-item",91)(42,"ion-select",99),e.nI1(43,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.vibrant,r)||(d.observation.vibrant=r),e.Njj(r)}),e.j41(44,"ion-select-option",93),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"ion-select-option",94),e.EFF(48),e.nI1(49,"translate"),e.k0s(),e.j41(50,"ion-select-option",95),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"ion-select-option",96),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"ion-select-option",97),e.EFF(57),e.nI1(58,"translate"),e.k0s()()(),e.j41(59,"ion-item",91)(60,"ion-select",100),e.nI1(61,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.uneventful,r)||(d.observation.uneventful=r),e.Njj(r)}),e.j41(62,"ion-select-option",93),e.EFF(63),e.nI1(64,"translate"),e.k0s(),e.j41(65,"ion-select-option",94),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"ion-select-option",95),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"ion-select-option",96),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"ion-select-option",97),e.EFF(75),e.nI1(76,"translate"),e.k0s()()(),e.j41(77,"ion-item",91)(78,"ion-select",101),e.nI1(79,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.calm,r)||(d.observation.calm=r),e.Njj(r)}),e.j41(80,"ion-select-option",93),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.j41(83,"ion-select-option",94),e.EFF(84),e.nI1(85,"translate"),e.k0s(),e.j41(86,"ion-select-option",95),e.EFF(87),e.nI1(88,"translate"),e.k0s(),e.j41(89,"ion-select-option",96),e.EFF(90),e.nI1(91,"translate"),e.k0s(),e.j41(92,"ion-select-option",97),e.EFF(93),e.nI1(94,"translate"),e.k0s()()(),e.j41(95,"ion-item",91)(96,"ion-select",102),e.nI1(97,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.annoying,r)||(d.observation.annoying=r),e.Njj(r)}),e.j41(98,"ion-select-option",93),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"ion-select-option",94),e.EFF(102),e.nI1(103,"translate"),e.k0s(),e.j41(104,"ion-select-option",95),e.EFF(105),e.nI1(106,"translate"),e.k0s(),e.j41(107,"ion-select-option",96),e.EFF(108),e.nI1(109,"translate"),e.k0s(),e.j41(110,"ion-select-option",97),e.EFF(111),e.nI1(112,"translate"),e.k0s()()(),e.j41(113,"ion-item",91)(114,"ion-select",103),e.nI1(115,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.eventful,r)||(d.observation.eventful=r),e.Njj(r)}),e.j41(116,"ion-select-option",93),e.EFF(117),e.nI1(118,"translate"),e.k0s(),e.j41(119,"ion-select-option",94),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"ion-select-option",95),e.EFF(123),e.nI1(124,"translate"),e.k0s(),e.j41(125,"ion-select-option",96),e.EFF(126),e.nI1(127,"translate"),e.k0s(),e.j41(128,"ion-select-option",97),e.EFF(129),e.nI1(130,"translate"),e.k0s()()(),e.j41(131,"ion-item",91)(132,"ion-select",104),e.nI1(133,"translate"),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.monotonous,r)||(d.observation.monotonous=r),e.Njj(r)}),e.j41(134,"ion-select-option",93),e.EFF(135),e.nI1(136,"translate"),e.k0s(),e.j41(137,"ion-select-option",94),e.EFF(138),e.nI1(139,"translate"),e.k0s(),e.j41(140,"ion-select-option",95),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.j41(143,"ion-select-option",96),e.EFF(144),e.nI1(145,"translate"),e.k0s(),e.j41(146,"ion-select-option",97),e.EFF(147),e.nI1(148,"translate"),e.k0s()()()()}if(2&l){const i=e.XpG(3);e.R7$(2),e.SpI("",e.bMT(3,57,"observations.questions.questionExp1")," (*)"),e.R7$(4),e.FS9("label",e.bMT(7,59,"observations.answers.questionExp1A1")),e.R50("ngModel",i.observation.pleasant),e.R7$(3),e.JRh(e.bMT(10,61,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(13,63,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(16,65,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(19,67,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(22,69,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(25,71,"observations.answers.questionExp1A2")),e.R50("ngModel",i.observation.chaotic),e.R7$(3),e.JRh(e.bMT(28,73,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(31,75,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(34,77,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(37,79,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(40,81,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(43,83,"observations.answers.questionExp1A3")),e.R50("ngModel",i.observation.vibrant),e.R7$(3),e.JRh(e.bMT(46,85,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(49,87,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(52,89,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(55,91,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(58,93,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(61,95,"observations.answers.questionExp1A4")),e.R50("ngModel",i.observation.uneventful),e.R7$(3),e.JRh(e.bMT(64,97,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(67,99,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(70,101,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(73,103,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(76,105,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(79,107,"observations.answers.questionExp1A5")),e.R50("ngModel",i.observation.calm),e.R7$(3),e.JRh(e.bMT(82,109,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(85,111,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(88,113,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(91,115,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(94,117,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(97,119,"observations.answers.questionExp1A6")),e.R50("ngModel",i.observation.annoying),e.R7$(3),e.JRh(e.bMT(100,121,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(103,123,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(106,125,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(109,127,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(112,129,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(115,131,"observations.answers.questionExp1A7")),e.R50("ngModel",i.observation.eventful),e.R7$(3),e.JRh(e.bMT(118,133,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(121,135,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(124,137,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(127,139,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(130,141,"observations.answers.QE1A5")),e.R7$(3),e.FS9("label",e.bMT(133,143,"observations.answers.questionExp1A8")),e.R50("ngModel",i.observation.monotonous),e.R7$(3),e.JRh(e.bMT(136,145,"observations.answers.QE1A1")),e.R7$(3),e.JRh(e.bMT(139,147,"observations.answers.QE1A2")),e.R7$(3),e.JRh(e.bMT(142,149,"observations.answers.QE1A3")),e.R7$(3),e.JRh(e.bMT(145,151,"observations.answers.QE1A4")),e.R7$(3),e.JRh(e.bMT(148,153,"observations.answers.QE1A5"))}}function Ve(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",86)(1,"label",73),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"ion-radio-group",87),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(3);return e.DH7(d.observation.overall,r)||(d.observation.overall=r),e.Njj(r)}),e.j41(5,"div",19)(6,"ion-radio",81)(7,"div",75),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"ion-radio",82)(11,"div",75),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"ion-radio",83)(15,"div",75),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"ion-radio",84)(19,"div",75),e.EFF(20),e.nI1(21,"translate"),e.k0s()(),e.j41(22,"ion-radio",85)(23,"div",75),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()}if(2&l){const i=e.XpG(3);e.R7$(2),e.SpI("",e.bMT(3,7,"observations.questions.questionExp3")," (*)"),e.R7$(2),e.R50("ngModel",i.observation.overall),e.R7$(4),e.SpI(" ",e.bMT(9,9,"observations.answers.questionExp3A1")," "),e.R7$(4),e.SpI(" ",e.bMT(13,11,"observations.answers.questionExp3A2")," "),e.R7$(4),e.SpI(" ",e.bMT(17,13,"observations.answers.questionExp3A3")," "),e.R7$(4),e.SpI(" ",e.bMT(21,15,"observations.answers.questionExp3A4")," "),e.R7$(4),e.SpI(" ",e.bMT(25,17,"observations.answers.questionExp3A5")," ")}}function He(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",19)(1,"label",71),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",72)(5,"label",73),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ion-radio-group")(9,"div",19)(10,"ion-checkbox",74),e.bIt("ionChange",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.toggleCheckbox(1))}),e.j41(11,"div",75),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"ion-checkbox",76),e.bIt("ionChange",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.toggleCheckbox(2))}),e.j41(15,"div",75),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"ion-checkbox",77),e.bIt("ionChange",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.toggleCheckbox(3))}),e.j41(19,"div",75),e.EFF(20),e.nI1(21,"translate"),e.k0s()(),e.j41(22,"ion-checkbox",78),e.bIt("ionChange",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.toggleCheckbox(4))}),e.j41(23,"div",75),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()(),e.j41(26,"div",79)(27,"label",73),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"ion-radio-group",80),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.quiet,r)||(d.observation.quiet=r),e.Njj(r)}),e.j41(31,"div",19)(32,"ion-radio",81)(33,"div",75),e.EFF(34),e.nI1(35,"translate"),e.k0s()(),e.j41(36,"ion-radio",82)(37,"div",75),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"ion-radio",83)(41,"div",75),e.EFF(42),e.nI1(43,"translate"),e.k0s()(),e.j41(44,"ion-radio",84)(45,"div",75),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"ion-radio",85)(49,"div",75),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()()(),e.j41(52,"div",86)(53,"label",73),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"ion-radio-group",87),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.cleanliness,r)||(d.observation.cleanliness=r),e.Njj(r)}),e.j41(57,"div",19)(58,"ion-radio",81)(59,"div",75),e.EFF(60),e.nI1(61,"translate"),e.k0s()(),e.j41(62,"ion-radio",82)(63,"div",75),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.j41(66,"ion-radio",83)(67,"div",75),e.EFF(68),e.nI1(69,"translate"),e.k0s()(),e.j41(70,"ion-radio",84)(71,"div",75),e.EFF(72),e.nI1(73,"translate"),e.k0s()(),e.j41(74,"ion-radio",85)(75,"div",75),e.EFF(76),e.nI1(77,"translate"),e.k0s()()()()(),e.j41(78,"div",86)(79,"label",73),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"ion-radio-group",87),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.accessibility,r)||(d.observation.accessibility=r),e.Njj(r)}),e.j41(83,"div",19)(84,"ion-radio",81)(85,"div",75),e.EFF(86),e.nI1(87,"translate"),e.k0s()(),e.j41(88,"ion-radio",82)(89,"div",75),e.EFF(90),e.nI1(91,"translate"),e.k0s()(),e.j41(92,"ion-radio",83)(93,"div",75),e.EFF(94),e.nI1(95,"translate"),e.k0s()(),e.j41(96,"ion-radio",84)(97,"div",75),e.EFF(98),e.nI1(99,"translate"),e.k0s()(),e.j41(100,"ion-radio",85)(101,"div",75),e.EFF(102),e.nI1(103,"translate"),e.k0s()()()()(),e.j41(104,"div",86)(105,"label",73),e.EFF(106),e.nI1(107,"translate"),e.k0s(),e.j41(108,"ion-radio-group",87),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.safety,r)||(d.observation.safety=r),e.Njj(r)}),e.j41(109,"div",19)(110,"ion-radio",81)(111,"div",75),e.EFF(112),e.nI1(113,"translate"),e.k0s()(),e.j41(114,"ion-radio",82)(115,"div",75),e.EFF(116),e.nI1(117,"translate"),e.k0s()(),e.j41(118,"ion-radio",83)(119,"div",75),e.EFF(120),e.nI1(121,"translate"),e.k0s()(),e.j41(122,"ion-radio",84)(123,"div",75),e.EFF(124),e.nI1(125,"translate"),e.k0s()(),e.j41(126,"ion-radio",85)(127,"div",75),e.EFF(128),e.nI1(129,"translate"),e.k0s()()()()(),e.j41(130,"div",86)(131,"label",73),e.EFF(132),e.nI1(133,"translate"),e.k0s(),e.j41(134,"ion-radio-group",80),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.influence,r)||(d.observation.influence=r),e.Njj(r)}),e.j41(135,"div",19)(136,"ion-radio",81)(137,"div",75),e.EFF(138),e.nI1(139,"translate"),e.k0s()(),e.j41(140,"ion-radio",82)(141,"div",75),e.EFF(142),e.nI1(143,"translate"),e.k0s()(),e.j41(144,"ion-radio",83)(145,"div",75),e.EFF(146),e.nI1(147,"translate"),e.k0s()(),e.j41(148,"ion-radio",84)(149,"div",75),e.EFF(150),e.nI1(151,"translate"),e.k0s()(),e.j41(152,"ion-radio",85)(153,"div",75),e.EFF(154),e.nI1(155,"translate"),e.k0s()()()()(),e.j41(156,"div",86)(157,"label",73),e.EFF(158),e.nI1(159,"translate"),e.k0s(),e.j41(160,"textarea",88),e.mxI("ngModelChange",function(r){e.eBV(i);const d=e.XpG(2);return e.DH7(d.observation.protection,r)||(d.observation.protection=r),e.Njj(r)}),e.k0s(),e.j41(161,"span",89),e.EFF(162),e.nI1(163,"translate"),e.k0s()(),e.DNE(164,Ne,149,155,"div",90)(165,Ve,26,19,"div",90),e.nrm(166,"br")(167,"br")(168,"br")(169,"br")(170,"br")(171,"br")(172,"br"),e.k0s()}if(2&l){const i=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,46,"sounds.results.more_info")),e.R7$(4),e.SpI("",e.bMT(7,48,"observations.questions.question1")," (*)"),e.R7$(6),e.SpI(" ",e.bMT(13,50,"observations.answers.Q1A1")," "),e.R7$(4),e.SpI(" ",e.bMT(17,52,"observations.answers.Q1A2")," "),e.R7$(4),e.SpI(" ",e.bMT(21,54,"observations.answers.Q1A3")," "),e.R7$(4),e.SpI(" ",e.bMT(25,56,"observations.answers.Q1A4")," "),e.R7$(4),e.SpI("",e.bMT(29,58,"observations.questions.question2")," (*)"),e.R7$(2),e.R50("ngModel",i.observation.quiet),e.R7$(4),e.SpI(" ",e.bMT(35,60,"observations.answers.Q2A1")," "),e.R7$(4),e.SpI(" ",e.bMT(39,62,"observations.answers.Q2A2")," "),e.R7$(4),e.SpI(" ",e.bMT(43,64,"observations.answers.Q2A3")," "),e.R7$(4),e.SpI(" ",e.bMT(47,66,"observations.answers.Q2A4")," "),e.R7$(4),e.SpI(" ",e.bMT(51,68,"observations.answers.Q2A5")," "),e.R7$(4),e.SpI("",e.bMT(55,70,"observations.questions.question3")," (*)"),e.R7$(2),e.R50("ngModel",i.observation.cleanliness),e.R7$(4),e.SpI(" ",e.bMT(61,72,"observations.answers.Q3A1")," "),e.R7$(4),e.SpI(" ",e.bMT(65,74,"observations.answers.Q3A2")," "),e.R7$(4),e.SpI(" ",e.bMT(69,76,"observations.answers.Q3A3")," "),e.R7$(4),e.SpI(" ",e.bMT(73,78,"observations.answers.Q3A4")," "),e.R7$(4),e.SpI(" ",e.bMT(77,80,"observations.answers.Q3A5")," "),e.R7$(4),e.SpI("",e.bMT(81,82,"observations.questions.question4")," (*)"),e.R7$(2),e.R50("ngModel",i.observation.accessibility),e.R7$(4),e.SpI(" ",e.bMT(87,84,"observations.answers.Q4A1")," "),e.R7$(4),e.SpI(" ",e.bMT(91,86,"observations.answers.Q4A2")," "),e.R7$(4),e.SpI(" ",e.bMT(95,88,"observations.answers.Q4A3")," "),e.R7$(4),e.SpI(" ",e.bMT(99,90,"observations.answers.Q4A4")," "),e.R7$(4),e.SpI(" ",e.bMT(103,92,"observations.answers.Q4A5")," "),e.R7$(4),e.SpI("",e.bMT(107,94,"observations.questions.question5")," (*)"),e.R7$(2),e.R50("ngModel",i.observation.safety),e.R7$(4),e.SpI(" ",e.bMT(113,96,"observations.answers.Q5A1")," "),e.R7$(4),e.SpI(" ",e.bMT(117,98,"observations.answers.Q5A2")," "),e.R7$(4),e.SpI(" ",e.bMT(121,100,"observations.answers.Q5A3")," "),e.R7$(4),e.SpI(" ",e.bMT(125,102,"observations.answers.Q5A4")," "),e.R7$(4),e.SpI(" ",e.bMT(129,104,"observations.answers.Q5A5")," "),e.R7$(4),e.JRh(e.bMT(133,106,"observations.questions.question6")),e.R7$(2),e.R50("ngModel",i.observation.influence),e.R7$(4),e.SpI(" ",e.bMT(139,108,"observations.answers.Q6A1")," "),e.R7$(4),e.SpI(" ",e.bMT(143,110,"observations.answers.Q6A2")," "),e.R7$(4),e.SpI(" ",e.bMT(147,112,"observations.answers.Q6A3")," "),e.R7$(4),e.SpI(" ",e.bMT(151,114,"observations.answers.Q6A4")," "),e.R7$(4),e.SpI(" ",e.bMT(155,116,"observations.answers.Q6A5")," "),e.R7$(4),e.JRh(e.bMT(159,118,"observations.questions.question8")),e.R7$(2),e.R50("ngModel",i.observation.protection),e.R7$(2),e.JRh(e.bMT(163,120,"sounds.collect.required")),e.R7$(2),e.Y8G("ngIf",i.isExpert),e.R7$(),e.Y8G("ngIf",i.isExpert)}}function Qe(l,c){if(1&l&&(e.j41(0,"div",16),e.DNE(1,Fe,19,8,"div",17)(2,Ge,31,14,"div",18)(3,Oe,14,4,"div",17)(4,He,173,122,"div",17),e.k0s()),2&l){const i=e.XpG();e.R7$(),e.Y8G("ngIf",1===i.myStep),e.R7$(),e.Y8G("ngIf",2===i.myStep),e.R7$(),e.Y8G("ngIf",3===i.myStep),e.R7$(),e.Y8G("ngIf",4===i.myStep)}}function Xe(l,c){1&l&&(e.j41(0,"div",105),e.nrm(1,"app-no-user-auth"),e.k0s())}function qe(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",106)(1,"div",107)(2,"div",108)(3,"div",109)(4,"div",110),e.bIt("click",function(){e.eBV(i);const r=e.XpG();return e.Njj(r.takePicture())}),e.nrm(5,"ion-icon",111),e.j41(6,"ion-text",112),e.EFF(7,"Take Picture"),e.k0s()(),e.j41(8,"div",110),e.bIt("click",function(){e.eBV(i);const r=e.XpG();return e.Njj(r.addImages())}),e.nrm(9,"ion-icon",113),e.j41(10,"ion-text",112),e.EFF(11,"File Picker"),e.k0s()(),e.j41(12,"div",110),e.bIt("click",function(){e.eBV(i);const r=e.XpG();return e.Njj(r.closeImagePane())}),e.j41(13,"div",114),e.nrm(14,"ion-icon",115),e.j41(15,"ion-text",112),e.EFF(16,"close"),e.k0s()()()()()()()}}function Je(l,c){if(1&l){const i=e.RV6();e.j41(0,"button",120),e.bIt("click",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.next(r.myStep))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const i=e.XpG(2);e.Y8G("disabled",i.seconds<i.minSeconds||i.recording||i.sendingSounds>0)("ngClass",i.seconds<i.minSeconds||i.recording||i.sendingSounds>0?"opacity-50":""),e.R7$(),e.SpI(" ",e.bMT(2,3,"sounds.btn.analyze-sound")," ")}}function Ye(l,c){if(1&l){const i=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.next())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"sounds.btn.next")," "))}function Ue(l,c){if(1&l){const i=e.RV6();e.j41(0,"button",126),e.bIt("click",function(){e.eBV(i);const r=e.XpG(3);return e.Njj(r.resume())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const i=e.XpG(3);e.Y8G("disabled",!i.isValid())("ngClass",i.isValid()?"":"opacity-50"),e.R7$(),e.SpI(" ",e.bMT(2,3,"sounds.btn.resume")," ")}}function We(l,c){if(1&l){const i=e.RV6();e.j41(0,"div",121)(1,"button",122),e.bIt("click",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.back())}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,Ye,3,3,"button",123)(5,Ue,3,5,"button",124),e.k0s()}if(2&l){const i=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"sounds.btn.back")," "),e.R7$(2),e.Y8G("ngIf",i.myStep<=3),e.R7$(),e.Y8G("ngIf",4===i.myStep)}}function Ze(l,c){if(1&l&&(e.j41(0,"div",116)(1,"div",117),e.DNE(2,Je,3,5,"button",118)(3,We,6,5,"div",119),e.k0s()()),2&l){const i=e.XpG();e.R7$(2),e.Y8G("ngIf",1===i.myStep),e.R7$(),e.Y8G("ngIf",i.myStep>=2)}}let Ke=(()=>{var l;class c{constructor(){this.navController=(0,e.WQX)(p.q9),this.locationService=(0,e.WQX)(x.N),this.commonService=(0,e.WQX)(a.hf),this.observationsService=(0,e.WQX)(v.z),this.authService=(0,e.WQX)(a.uR),this.translate=(0,e.WQX)(O.c$),this.http=(0,e.WQX)(f.Qq),this.router=(0,e.WQX)(I.Ix),this.userService=(0,e.WQX)(z.D),this.insomnia=(0,e.WQX)(ae),this.recording=!1,this.stoped=!0,this.flagViewControls=!1,this.storedFileNames=[],this.comentario="",this.timer="00:00:00",this.seconds=0,this.maxSeconds=1800,this.minSeconds=30,this.fileList=[],this.fileListUrl=[],this.observation={Leq:void 0,LAeqT:void 0,LAmax:void 0,LAmin:void 0,L90:void 0,L10:void 0,sharpness_S:void 0,loudness_N:void 0,roughtness_R:void 0,fluctuation_strength_F:void 0,images:[],latitude:"",longitude:"",sound_types:[],quiet:"",cleanliness:"",accessibility:"",safety:"",influence:"",landmark:"question_removed",protection:"",pleasant:"",chaotic:"",vibrant:"",uneventful:"",calm:"",annoying:"",eventful:"",monotonous:"",overall:"",path:"",segments:[]},this.player=null,this.path_="",this.isPlaying=!1,this.progress=0,this.dataset=[],this.showGraph=!1,this.imagePanelVar=!1,this.jwtTokenName="jwt_token",this.isExpert=!1,this.autocalibration=0,this.segments=[],this.blobs=[],this.audios64=[],this.pathCoords=[],this.recordInterval=10,this.sendingSounds=0,this.myStep=1,this.marker={title:"",snippet:"",iconSize:{height:35,width:35},coordinate:{lat:0,lng:0},track:{name:"",path:""}}}ngOnInit(){var o=this;return(0,R.A)(function*(){var r;(yield o.commonService.getItem(o.jwtTokenName))&&(o.isUserAuth=!0),yield o.getAutocalibration();let m=null===(r=o.router.getCurrentNavigation())||void 0===r||null===(r=r.extras)||void 0===r?void 0:r.state;m&&m.observation&&m.fileList?(o.observation=m.observation,o.fileList=m.fileList):(o.myStep=1,yield o.clearFilesSystem()),yield A.R.requestAudioRecordingPermission(),o.isExpert=yield o.userService.isExpert()})()}getAutocalibration(){var o=this;return(0,R.A)(function*(){try{const r=yield o.authService.getUser();"success"===r.status&&(o.autocalibration=r.data.attributes.autocalibration)}catch(r){console.log(r)}})()}clearFilesSystem(){var o=this;return(0,R.A)(function*(){E.YA.readdir({path:"",directory:E.__.Data}).then(r=>{r.files.forEach(function(){var m=(0,R.A)(function*(h){yield E.YA.deleteFile({path:h.name,directory:E.__.Data})});return function(h){return m.apply(this,arguments)}}())}),o.storedFileNames=[]})()}startRecording(){var o=this;return(0,R.A)(function*(){if((yield A.R.hasAudioRecordingPermission()).value)yield o.startRecordingPart2();else{const d=yield o.translate.instant("sounds.collect.micro_permission");yield o.commonService.presentToast("",d,"warning",3e3,a.xJ.top),yield A.R.requestAudioRecordingPermission(),yield o.startRecordingPart2()}})()}startRecordingPart2(){var o=this;return(0,R.A)(function*(){A.R.startRecording().then(()=>{o.recording=!0,o.stoped=!1,o.flagViewControls=!0,o.startTimer()})})()}resetRecording(){var o=this;return(0,R.A)(function*(){yield o.clearFilesSystem(),o.stoped||(yield A.R.stopRecording()),o.pathCoords=[],o.segments=[],o.blobs=[],o.resetTimer(),yield o.startRecording()})()}stopRecording(){var o=this;return(0,R.A)(function*(){try{if(!o.recording&&"PAUSED"!==(yield A.R.getCurrentStatus()).status)return void console.log("No STOP");if(o.seconds%o.recordInterval>1||o.seconds===o.maxSeconds){yield o.commonService.showLoader(),o.recording=!1,o.stoped=!0;const r=yield A.R.stopRecording();o.stopTimer();const d=yield o.locationService.getCoordinates();o.pathCoords.push({lat:d.coords.latitude,lng:d.coords.longitude}),o.observation.path=JSON.stringify(o.pathCoords),yield o.processAudio(r);const m=(new Date).getTime()+".wav";yield E.YA.writeFile({path:m,directory:E.__.Data,data:o.audios64[0]}),localStorage.setItem("audioName",m),console.log(o.segments),yield o.commonService.hideLoader()}}catch(r){console.log(r),yield o.commonService.hideLoader()}})()}pauseRecording(){var o=this;return(0,R.A)(function*(){yield A.R.pauseRecording(),o.recording=!1,o.stoped=!1,o.stopTimer()})()}resumeRecording(){var o=this;return(0,R.A)(function*(){console.log("Resume"),yield A.R.resumeRecording(),o.recording=!0,o.stoped=!1,o.startTimer()})()}playFile(o){return(0,R.A)(function*(){const d=(yield E.YA.readFile({path:o,directory:E.__.Data})).data,m=new Audio(`data:audio/aac;base64,${d}`);m.oncanplaythrough=()=>m.play(),m.load()})()}goBack(){var o=this;return(0,R.A)(function*(){o.insomnia.allowSleepAgain(),(!o.stoped||"PAUSED"===(yield A.R.getCurrentStatus()).status)&&(yield A.R.stopRecording()),o.flagViewControls=!1,yield o.clearFilesSystem(),o.resetTimer(),o.navController.navigateBack("/tabs/home")})()}next(o){var r=this;return(0,R.A)(function*(){if(1===o){yield r.commonService.showLoaderWithMsg("loading_processing_sound"),r.stoped||(yield r.stopRecording());let m=[],h=0,y=0,T=0;r.segments.forEach(C=>{m.push(...C.LAeqT),h+=C.sharpness,y+=C.loudness,T+=C.fluctuation;let L={...C,LAmax:C.Lmax,LAmin:C.Lmin,LAeq:C.Leq};delete L.Lmax,delete L.Lmin,delete L.Leq,delete L.fluctuation,delete L.loudness,delete L.roughness,delete L.sharpness,r.observation.segments.push(L)});const{L90:k,L10:F}=r.calculateL10L90([...m]);r.soundRecordResponse={Leq:r.calculateLAeq(m),LAeqT:m,LAmax:Math.max(...m),LAmin:Math.min(...m),L90:k,L10:F,sharpness_S:parseFloat((h/r.segments.length).toFixed(5)),loudness_N:parseFloat((y/r.segments.length).toFixed(5)),fluctuation_strength_F:parseFloat((T/r.segments.length).toFixed(5))},r.copyRecordIntoObservation(r.soundRecordResponse,r.observation),r.observation.latitude=r.pathCoords[0].lat,r.observation.longitude=r.pathCoords[0].lng,r.showGraph=!0,r.commonService.hideLoader()}else if(3===r.myStep)try{yield r.commonService.showLoader(),yield r.commonService.hideLoader()}catch(d){console.log(d),yield r.commonService.hideLoader()}r.myStep++})()}back(){this.myStep--}startTimer(){var o=this;this.timerSubscription=(0,u.Y)(1e3).subscribe(()=>{let r=Math.floor(this.seconds/3600),d=Math.floor(this.seconds%3600/60),m=this.seconds%60;if(this.timer=`${this.formatTime(r)}:${this.formatTime(d)}:${this.formatTime(m)}`,this.seconds===this.maxSeconds)this.stopRecording();else{const h=this.seconds;setTimeout((0,R.A)(function*(){if(h%o.recordInterval==0){const y=yield o.locationService.getCoordinates();o.pathCoords.push({lat:y.coords.latitude,lng:y.coords.longitude}),o.observation.path=JSON.stringify(o.pathCoords),0!==h&&(yield o.sendEvery10S(h))}})),this.seconds++}})}sendEvery10S(o){var r=this;return(0,R.A)(function*(){try{const d=Math.floor(o/r.recordInterval)-1,m=yield A.R.stopRecording();!r.stoped&&(yield A.R.startRecording()),yield r.processAudio(m,d)}catch(d){console.log(d)}})()}base64ToArrayBuffer(o){for(var r=window.atob(o),d=r.length,m=new Uint8Array(d),h=0;h<d;h++)m[h]=r.charCodeAt(h);return m.buffer}processAudio(o,r=-1){var d=this;return(0,R.A)(function*(){try{if(d.sendingSounds++,o.value&&o.value.recordDataBase64){const m=o.value.recordDataBase64;d.audios64.push(m);let h=d.base64ToArrayBuffer(m);yield(new AudioContext).decodeAudioData(h).then(function(){var T=(0,R.A)(function*(k){const F=G()(k),C=new Blob([F],{type:"audio/wav"});r<0?d.blobs.push(C):d.blobs[r]=C;let L=new FormData;L.append("uploaded_file",C,"audio.wav");const D=yield d.observationsService.calSoundParameters(L,d.autocalibration);"success"===(yield null==D?void 0:D.status)?(r<0?r=d.segments.push(null==D?void 0:D.data)-1:d.segments[r]=null==D?void 0:D.data,d.segments[r].start_latitude=d.pathCoords[r].lat,d.segments[r].start_longitude=d.pathCoords[r].lng,d.segments[r].end_latitude=d.pathCoords[r+1].lat,d.segments[r].end_longitude=d.pathCoords[r+1].lng):console.error("Error al guardar el archivo:",D.statusText)});return function(k){return T.apply(this,arguments)}}()).catch(T=>{console.error("Error al decodificar el audio:",T)})}d.sendingSounds--}catch(m){d.sendingSounds--,console.log(m)}})()}stopTimer(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.seconds<1&&(this.seconds=0,this.timer="00:00:00"))}resetTimer(){this.timer="00:00:00",this.seconds=0,this.recording=!1,this.stoped=!0}formatTime(o){return o<10?`0${o}`:`${o}`}ngOnDestroy(){var o=this;return(0,R.A)(function*(){o.resetTimer(),o.stopTimer(),yield o.clearFilesSystem()})()}start(o){var r=this;return(0,R.A)(function*(){const d=localStorage.getItem("audioName");var m,h;d&&(yield E.YA.getUri({directory:E.__.Data,path:d}).then(y=>{r.path_=w.Ii.convertFileSrc(y.uri)})),r.player||(r.player=new M.Howl({src:[r.path_],html5:!0,onplay:()=>{var y,T;r.isPlaying=!0,r.updateProgress(),r.duration=null!==(y=null===(T=r.player)||void 0===T?void 0:T.duration())&&void 0!==y?y:0,r.temporizador=new Z(r.duration),r.temporizador.iniciar()},onend:()=>{}})),r.isPlaying=!o,o?null===(m=r.player)||void 0===m||m.pause():null===(h=r.player)||void 0===h||h.play()})()}seek(){var o,r,d,m,h;let y=null!==(o=null===(r=this.range)||void 0===r?void 0:r.value)&&void 0!==o?o:0,T=null!==(d=null===(m=this.player)||void 0===m?void 0:m.duration())&&void 0!==d?d:0;null===(h=this.player)||void 0===h||h.seek(T*(y/100))}updateProgress(){var o,r,d,m;let h=null!==(o=null===(r=this.player)||void 0===r?void 0:r.seek())&&void 0!==o?o:0,y=null!==(d=null===(m=this.player)||void 0===m?void 0:m.duration())&&void 0!==d?d:0;this.progress=h/y*100||0,this.duration=Math.round(this.progress-y),setTimeout(()=>{this.updateProgress()},100)}addImages(){var o=this;return(0,R.A)(function*(){const r=o.fileUpload.nativeElement;r.onchange=()=>{for(let m=0;m<r.files.length;m++){const h=r.files[m],y=new FileReader;y.onload=T=>{var k;const F=new Image,C=null===(k=T.target)||void 0===k?void 0:k.result;"string"==typeof C&&(F.src=C),F.onload=()=>{o.fileList.push(h)}},y.readAsDataURL(h)}o.closeImagePane()},r.click()})()}getImgUrl(o){return this.fileListUrl[o]||(this.fileListUrl[o]=URL.createObjectURL(this.fileList[o])),this.fileListUrl[o]}deleteImage(o){this.fileList.splice(o,1),this.fileListUrl.splice(o,1)}copyRecordIntoObservation(o,r){for(const d in o)o.hasOwnProperty(d)&&(r[d]=o[d])}toggleCheckbox(o){var r,d;null!==(r=this.observation.sound_types)&&void 0!==r&&r.includes(o)?this.observation.sound_types=this.observation.sound_types.filter(m=>m!==o):null===(d=this.observation.sound_types)||void 0===d||d.push(o)}resume(){var o=this;return(0,R.A)(function*(){yield o.goToResume()})()}isValid(){return!!(this.observation.sound_types.length>0&&this.observation.quiet&&this.observation.cleanliness&&this.observation.accessibility&&this.observation.safety&&this.observation.influence&&this.observation.protection&&(!this.isExpert||this.observation.overall&&this.observation.pleasant&&this.observation.chaotic&&this.observation.vibrant&&this.observation.uneventful&&this.observation.calm&&this.observation.annoying&&this.observation.eventful&&this.observation.monotonous))}goToResume(){var o=this;return(0,R.A)(function*(){const r={state:{observation:o.observation,fileList:o.fileList,isExpert:o.isExpert}};yield o.clearFilesSystem(),o.insomnia.allowSleepAgain(),yield o.navController.navigateForward("/results",r)})()}initRecord(){var o=this;return(0,R.A)(function*(){console.log("Record"),o.recording||(o.insomnia.keepAwake(),!o.autocalibration&&(yield o.getAutocalibration()),yield o.startRecording())})()}takePicture(){var o=this;return(0,R.A)(function*(){if(!(yield o.checkCameraPermission()))return yield B.requestPermissions(),console.log("No se tienen los permisos necesarios para acceder a la c\xe1mara"),void o.commonService.alertModal(o.translate.instant("sounds.collect.camera_permission"),"Error");try{yield o.commonService.showLoader();const d=yield B.getPhoto({quality:90,source:P.Prompt,width:600,resultType:J.DataUrl,promptLabelHeader:o.translate.instant("sounds.collect.images"),promptLabelPhoto:o.translate.instant("sounds.collect.file_picker"),promptLabelPicture:o.translate.instant("sounds.collect.take_photo")}),m=yield o.convertDataUrlToBlob(d.dataUrl),h=new File([m],"captured_image.jpg",{type:"image/jpeg"});o.fileList.push(h),yield o.closeImagePane(),yield o.commonService.hideLoader()}catch(d){console.log(d),yield o.commonService.hideLoader()}})()}convertDataUrlToBlob(o){return(0,R.A)(function*(){if(!o)throw new Error("El Data URL es undefined.");const r=o.split(",")[1],d=atob(r),m=new Uint8Array(d.length);for(let h=0;h<d.length;h++)m[h]=d.charCodeAt(h);return new Blob([m],{type:"image/jpeg"})})()}checkCameraPermission(){return(0,R.A)(function*(){return"granted"===(yield B.checkPermissions()).camera||"granted"===(yield B.requestPermissions({permissions:["camera"]})).camera})()}openFilePicker(){this.fileUpload.nativeElement.click()}showImagePane(){var o=this;return(0,R.A)(function*(){o.imagePanelVar=!0})()}closeImagePane(){var o=this;return(0,R.A)(function*(){o.imagePanelVar=!1})()}noOrder(){return!1}calculateLAeq(o=[41,66,45,53,45,50,61,58,57,63]){const r=o.length,m=o.map(y=>Math.pow(10,+y/10)).reduce((y,T)=>y+T,0)/r;return Math.round(10*Math.log10(m))}calculateL10L90(o=[16,9,8,27,31,9,8,8,8]){let r=o.slice().sort((h,y)=>h-y);return{L90:r[Math.floor(.1*r.length)],L10:r[Math.floor(.9*r.length)]}}}return(l=c).\u0275fac=function(o){return new(o||l)},l.\u0275cmp=e.VBU({type:l,selectors:[["app-collect-sound"]],viewQuery:function(o,r){if(1&o&&(e.GBs(Re,5),e.GBs(ke,5)),2&o){let d;e.mGM(d=e.lsd())&&(r.fileUpload=d.first),e.mGM(d=e.lsd())&&(r.range=d.first)}},standalone:!0,features:[e.Jv_([$.K,x.N,n.L,t.K,v.z,g.g,z.D,se.q,ae]),e.aNF],decls:25,vars:12,consts:[["range",""],["fileUpload",""],[1,"ion-no-border"],["color","ligth",1,"ion-no-margin","ion-no-padding","ion-no-border","bg-white"],[1,"flex","items-center","justify-start","px-3"],["tappable","true","src","assets/images/SoundCollect/Iconos/back.svg","alt","back","width","24",1,"mt-1",3,"click"],[1,"H2-22-700","self-start","ms-16","my-text-header"],[3,"fullscreen"],[1,"flex","items-center","px-3","py-2","w-full","justify-between"],[1,"text-center","flex","items-center","justify-center",2,"border-radius","50%","min-width","32px","height","32px","border","2px solid #fda568",3,"ngClass"],[1,"w-full",2,"height","2px","background-color","#fda568"],["class","flex-col flex w-full justify-between items-center p-3","style","height: 77vh",4,"ngIf"],["class","my-5",4,"ngIf"],[2,"background-color","#e7ffff !important"],["class","w-100 qualud-coupertino fixed-bottom d-flex justify-content-center align-items-end",4,"ngIf"],["class","ion-no-border px-3 pt-2",4,"ngIf"],[1,"flex-col","flex","w-full","justify-between","items-center","p-3",2,"height","77vh"],["class","w-full flex flex-col",4,"ngIf"],["class","w-full flex flex-col","style","overflow-y: scroll",4,"ngIf"],[1,"w-full","flex","flex-col"],[1,"H-20-700","mt-4","my-text-header","w-full","flex","justify-between","items-center"],[1,"H-16-400","my-text-header","mt-2"],[1,"w-full","flex","justify-center","p-3"],["tappable","",1,"circle-container",3,"click"],[1,"circle","back-circle"],[1,"circle","w-100",3,"ngClass"],[1,"circle","center-circle"],["name","mic",1,"icon-mic-style"],["class","w-full flex flex-col justify-center align-middle text-center",4,"ngIf"],[1,"w-full","flex","flex-col","justify-center","align-middle","text-center"],[1,"flex","justify-center","text-center","my-5"],[1,"H-20-700","mt-4","my-text-header","flex","items-center"],[1,"flex","flex-row","justify-center","mt-3"],["tappable","",1,"w-full","flex","flex-col","justify-center","ion-align-items-center","mb-3",3,"click","ngClass"],["height","40","width","40","alt","",3,"ngSrc"],["ngSrc","assets/images/SoundCollect/stop.svg","height","40","width","40","alt",""],["ngSrc","assets/images/SoundCollect/restart_s.svg","height","40","width","40","alt",""],[1,"w-full","flex","flex-col",2,"overflow-y","scroll"],[1,"flex","gap-5","mt-2","justify-between","items-center","px-2","pe-4",2,"border-radius","100px","background","#deeeef"],["fill","clear",3,"click",4,"ngIf"],["max","100",3,"ngModelChange","touchend","mouseup","ngModel"],[1,"H8-12-400-SpaceGrotesk","my-text-header","flex","items-center"],[1,"flex","flex-row","justify-between","items-center","mt-8"],[1,"H-20-700","my-text-header"],[3,"isExpert"],[1,"flex","w-full","mt-2","justify-between","items-center"],["class","flex flex-col",4,"ngIf"],["class","w-100 flex justify-center flex-col",4,"ngIf"],[4,"ngIf"],["fill","clear",3,"click"],["ngSrc","assets/images/SoundCollect/Iconos/play.svg","alt","","height","32","width","32"],[1,"flex","flex-col"],[1,"H-16-400","my-text-header","flex","items-center"],[1,"w-full","flex","m-2"],["ngSrc","assets/images/SoundCollect/Iconos/ellipse.svg","height","16","width","16","alt","",1,"me-1"],["class","H-16-400 my-text-header flex items-center",4,"ngFor","ngForOf"],["class","w-full flex m-2",4,"ngIf"],[1,"w-100","flex","justify-center","flex-col"],[1,"w-80"],[3,"dataset"],[1,"H-16-400","my-text-header","flex","items-center","mt-2"],[3,"segments"],["type","file","multiple","","id","fileUpload","accept","image/*",1,"invisible",3,"click"],[1,"H-20-700","px-2","my-text-header","w-full","flex","justify-start","items-center"],[1,"flex","flex-wrap","gap-2","justify-start","items-center","p-2"],["class","img-box flex justify-end items-start",4,"ngFor","ngForOf"],[1,"img-box",2,"background-image","url(assets/images/SoundCollect/Iconos/plus.svg)",3,"click"],[1,"img-box","flex","justify-end","items-start"],[2,"aspect-ratio","109/128","object-fit","cover",3,"src"],["ngSrc","assets/images/SoundCollect/Iconos/delete-white.svg","width","24","height","24","alt","","class","delete-image",3,"click",4,"ngIf"],["ngSrc","assets/images/SoundCollect/Iconos/delete-white.svg","width","24","height","24","alt","",1,"delete-image",3,"click"],[1,"H-20-700","my-text-header","w-full","flex","justify-start","items-start","mb-2"],[1,"w-full","mt-3"],[1,"H3-18-700","my-text-header"],["value","1","labelPlacement","end","justify","start","mode","md",1,"around","flex",3,"ionChange"],[1,"ion-text-wrap"],["value","2","labelPlacement","end","justify","start","mode","md",1,"around","my-1",3,"ionChange"],["value","3","labelPlacement","end","justify","start","mode","md",1,"around","my-1",3,"ionChange"],["value","4","labelPlacement","end","justify","start","mode","md",1,"around","my-1",3,"ionChange"],[1,"mt-3","d-flex","flex-wrap","justify-content-between"],["required","",3,"ngModelChange","ngModel"],["value","1","labelPlacement","end","justify","start",1,"around","my-1"],["value","2","labelPlacement","end","justify","start",1,"around","my-1"],["value","3","labelPlacement","end","justify","start",1,"around","my-1"],["value","4","labelPlacement","end","justify","start",1,"around","my-1"],["value","5","labelPlacement","end","justify","start",1,"around","my-1"],[1,"mt-4"],[3,"ngModelChange","ngModel"],[1,"input",3,"ngModelChange","ngModel"],[1,"require"],["class","mt-4",4,"ngIf"],[2,"background","none"],["aria-label","pleasent","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["aria-label","chaotic","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","vibrant","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","uneventful","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","calm","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","annoying","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","eventful","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],["aria-label","monotonous","interface","popover","placeholder","","label-placement","floating","required","true",3,"ngModelChange","label","ngModel"],[1,"my-5"],[1,"w-100","qualud-coupertino","fixed-bottom","d-flex","justify-content-center","align-items-end"],[1,"w-100","bg-white","content","d-flex","flex-column","gap-3","pt-1"],[1,"wrapper","w-100"],[1,"wrapper"],[1,"container",3,"click"],["name","camera-outline","size","large"],[1,"card-title-14-500"],["name","image-outline","size","large"],[1,"ion-text-center","card-title-14-500-sans","w-100"],["name","close-outline","size","large"],[1,"ion-no-border","px-3","pt-2"],[1,"flex","w-full","flex-col","justify-evenly","gap-3"],["class","my-btn-login mx-auto",3,"disabled","ngClass","click",4,"ngIf"],["class","flex gap-6 justify-evenly",4,"ngIf"],[1,"my-btn-login","mx-auto",3,"click","disabled","ngClass"],[1,"flex","gap-6","justify-evenly"],[1,"my-btn-login",2,"background","#b2eaee","color","black",3,"click"],["class","my-btn-login",3,"click",4,"ngIf"],["class","my-btn-login",3,"disabled","ngClass","click",4,"ngIf"],[1,"my-btn-login",3,"click"],[1,"my-btn-login",3,"click","disabled","ngClass"]],template:function(o,r){1&o&&(e.j41(0,"ion-header",2)(1,"ion-toolbar",3)(2,"div",4)(3,"img",5),e.bIt("click",function(){return r.goBack()}),e.k0s(),e.j41(4,"ion-text",6),e.EFF(5),e.nI1(6,"translate"),e.k0s()()()(),e.j41(7,"ion-content",7)(8,"div",8)(9,"div",9),e.EFF(10," 1 "),e.k0s(),e.nrm(11,"div",10),e.j41(12,"div",9),e.EFF(13," 2 "),e.k0s(),e.nrm(14,"div",10),e.j41(15,"div",9),e.EFF(16," 3 "),e.k0s(),e.nrm(17,"div",10),e.j41(18,"div",9),e.EFF(19," 4 "),e.k0s()(),e.DNE(20,Qe,5,4,"div",11)(21,Xe,2,0,"div",12),e.k0s(),e.j41(22,"ion-footer",13),e.DNE(23,qe,17,0,"div",14)(24,Ze,4,2,"div",15),e.k0s()),2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,10,"sounds.collect.add")," "),e.R7$(2),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("ngClass",r.myStep>=1?"orange-bg":""),e.R7$(3),e.Y8G("ngClass",r.myStep>=2?"orange-bg":""),e.R7$(3),e.Y8G("ngClass",r.myStep>=3?"orange-bg":""),e.R7$(3),e.Y8G("ngClass",r.myStep>=4?"orange-bg":""),e.R7$(2),e.Y8G("ngIf",r.isUserAuth),e.R7$(),e.Y8G("ngIf",!r.isUserAuth),e.R7$(2),e.Y8G("ngIf",r.imagePanelVar),e.R7$(),e.Y8G("ngIf",r.isUserAuth))},dependencies:[b.bv,b.Jm,b.eY,b.W9,b.M0,b.eU,b.iq,b.KW,b.uz,b.KO,b.f0,b.Ob,b.Nm,b.Ip,b.IO,b.ai,b.hB,b.uR,b.Je,b.Gw,s.MD,s.YU,s.Sq,s.bT,s.QX,s.lG,_.YN,_.me,_.BC,_.YS,_.vS,_.X1,O.h,O.D9,s.kt,X.k,q.u,le.D,ce.o],styles:[".orange-bg[_ngcontent-%COMP%]{background-color:#fda568}ion-range[_ngcontent-%COMP%]{--bar-height: 6px;--bar-border-radius: 100px;--knob-background: var(--ion-color-primary);--knob-size: 22px;--pin-background: rgba(255, 175, 204, 0);--pin-color: #fff}.img-box[_ngcontent-%COMP%]{width:109px;height:127px;flex-shrink:0;border-radius:20px;border:2px solid #206a71;background-repeat:no-repeat;background-position:center;background-size:cover;overflow:hidden;position:relative}.img-box[_ngcontent-%COMP%]   .delete-image[_ngcontent-%COMP%]{position:absolute;top:7px;right:7px}ion-radio.source[_ngcontent-%COMP%]::part(container){width:20px;height:20px;border-radius:3px!important;border:2px solid #ddd}ion-radio.around[_ngcontent-%COMP%]::part(container){width:20px;height:20px;border-radius:50%!important;border:2px solid #ddd}ion-radio[_ngcontent-%COMP%]::part(mark){background:none;transition:none;transform:none;border-radius:0}ion-radio.source[_ngcontent-%COMP%]::part(mark){background:none;transition:none;transform:none}ion-radio.radio-checked[_ngcontent-%COMP%]::part(container){background:var(--ion-color-primary);border-color:transparent}ion-radio.radio-checked[_ngcontent-%COMP%]::part(mark){width:6px;height:10px;border-width:0 2px 2px 0;border-style:solid;border-color:#fff;transform:rotate(45deg)}.icon-mic-style[_ngcontent-%COMP%]{font-size:300%;display:block;color:#fff}.circle-container[_ngcontent-%COMP%]{position:relative;width:60vw;height:60vw}.circle[_ngcontent-%COMP%]{position:absolute;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00f}.animated-circle-full[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#206a7163;opacity:.5;animation:_ngcontent-%COMP%_decreaseScale 2.5s ease-out infinite,increaseScale 2.5s ease-in infinite}.icon-btn-mic[_ngcontent-%COMP%]{font-size:200%;display:block;color:#fff}.center-circle[_ngcontent-%COMP%]{width:50%;height:50%;background-color:var(--ion-color-primary);display:flex;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_increaseScale{0%{transform:translate(-50%,-50%) scale(.4)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_decreaseScale{0%{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-50%) scale(.4)}}.circle-small[_ngcontent-%COMP%]{width:32px;aspect-ratio:1;border-radius:50%;background:#cbd2f726}.done[_ngcontent-%COMP%]{background:#cfd3c4}.require[_ngcontent-%COMP%]{font-size:small;color:red;position:relative;display:block;margin-top:-4px}button[_ngcontent-%COMP%]:disabled{opacity:.5!important}ion-popover[_ngcontent-%COMP%]{--width: 98vw}ion-item[_ngcontent-%COMP%]::part(native){background:none}"]}),c})()},65677:(K,Q)=>{var R;!function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var t=this||s;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator=typeof window<"u"&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var n=this||s;if(t=parseFloat(t),n.ctx||$(),typeof t<"u"&&t>=0&&t<=1){if(n._volume=t,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t,s.ctx.currentTime);for(var a=0;a<n._howls.length;a++)if(!n._howls[a]._webAudio)for(var u=n._howls[a]._getSoundIds(),v=0;v<u.length;v++){var g=n._howls[a]._soundById(u[v]);g&&g._node&&(g._node.volume=g._volume*t)}return n}return n._volume},mute:function(t){var n=this||s;n.ctx||$(),n._muted=t,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t?0:n._volume,s.ctx.currentTime);for(var a=0;a<n._howls.length;a++)if(!n._howls[a]._webAudio)for(var u=n._howls[a]._getSoundIds(),v=0;v<u.length;v++){var g=n._howls[a]._soundById(u[v]);g&&g._node&&(g._node.muted=!!t||g._muted)}return n},stop:function(){for(var t=this||s,n=0;n<t._howls.length;n++)t._howls[n].stop();return t},unload:function(){for(var t=this||s,n=t._howls.length-1;n>=0;n--)t._howls[n].unload();return t.usingWebAudio&&t.ctx&&typeof t.ctx.close<"u"&&(t.ctx.close(),t.ctx=null,$()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return t}if(!n||"function"!=typeof n.canPlayType)return t;var a=n.canPlayType("audio/mpeg;").replace(/^no$/,""),u=t._navigator?t._navigator.userAgent:"",v=u.match(/OPR\/(\d+)/g),g=v&&parseInt(v[0].split("/")[1],10)<33,f=-1!==u.indexOf("Safari")&&-1===u.indexOf("Chrome"),w=u.match(/Version\/(.*?) /),M=f&&w&&parseInt(w[1],10)<15;return t._codecs={mp3:!(g||!a&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!a,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(M||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(M||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||s;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,!t._mobileUnloaded&&44100!==t.ctx.sampleRate&&(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(a){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,t._releaseHtml5Audio(u)}catch{t.noAudio=!0;break}for(var v=0;v<t._howls.length;v++)if(!t._howls[v]._webAudio)for(var g=t._howls[v]._getSoundIds(),f=0;f<g.length;f++){var w=t._howls[v]._soundById(g[f]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}t._autoResume();var M=t.ctx.createBufferSource();M.buffer=t._scratchBuffer,M.connect(t.ctx.destination),typeof M.start>"u"?M.noteOn(0):M.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),M.onended=function(){M.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var j=0;j<t._howls.length;j++)t._howls[j]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),t}},_obtainHtml5Audio:function(){var t=this||s;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var n=(new Audio).play();return n&&typeof Promise<"u"&&(n instanceof Promise||"function"==typeof n.then)&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var n=this||s;return t._unlocked&&n._html5AudioPool.push(t),n},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&!(typeof t.ctx.suspend>"u")&&s.usingWebAudio){for(var n=0;n<t._howls.length;n++)if(t._howls[n]._webAudio)for(var a=0;a<t._howls[n]._sounds.length;a++)if(!t._howls[n]._sounds[a]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var u=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(u,u)}},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&!(typeof t.ctx.resume>"u")&&s.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new e,_=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};_.prototype={init:function(t){var n=this;return s.ctx||$(),n._autoplay=t.autoplay||!1,n._format="string"!=typeof t.format?t.format:[t.format],n._html5=t.html5||!1,n._muted=t.mute||!1,n._loop=t.loop||!1,n._pool=t.pool||5,n._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,n._rate=t.rate||1,n._sprite=t.sprite||{},n._src="string"!=typeof t.src?t.src:[t.src],n._volume=void 0!==t.volume?t.volume:1,n._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=t.onend?[{fn:t.onend}]:[],n._onfade=t.onfade?[{fn:t.onfade}]:[],n._onload=t.onload?[{fn:t.onload}]:[],n._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],n._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],n._onpause=t.onpause?[{fn:t.onpause}]:[],n._onplay=t.onplay?[{fn:t.onplay}]:[],n._onstop=t.onstop?[{fn:t.onstop}]:[],n._onmute=t.onmute?[{fn:t.onmute}]:[],n._onvolume=t.onvolume?[{fn:t.onvolume}]:[],n._onrate=t.onrate?[{fn:t.onrate}]:[],n._onseek=t.onseek?[{fn:t.onseek}]:[],n._onunlock=t.onunlock?[{fn:t.onunlock}]:[],n._onresume=[],n._webAudio=s.usingWebAudio&&!n._html5,typeof s.ctx<"u"&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&"none"!==n._preload&&n.load(),n},load:function(){var t=this,n=null;if(s.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var a=0;a<t._src.length;a++){var u,v;if(t._format&&t._format[a])u=t._format[a];else{if("string"!=typeof(v=t._src[a])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(u=/^data:audio\/([^;,]+);/i.exec(v))||(u=/\.([^.]+)$/.exec(v.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&s.codecs(u)){n=t._src[a];break}}if(n)return t._src=n,t._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new p(t),t._webAudio&&I(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var a=this,u=null;if("number"==typeof t)u=t,t=null;else{if("string"==typeof t&&"loaded"===a._state&&!a._sprite[t])return null;if(typeof t>"u"&&(t="__default",!a._playLock)){for(var v=0,g=0;g<a._sounds.length;g++)a._sounds[g]._paused&&!a._sounds[g]._ended&&(v++,u=a._sounds[g]._id);1===v?t=null:u=null}}var f=u?a._soundById(u):a._inactiveSound();if(!f)return null;if(u&&!t&&(t=f._sprite||"__default"),"loaded"!==a._state){f._sprite=t,f._ended=!1;var w=f._id;return a._queue.push({event:"play",action:function(){a.play(w)}}),w}if(u&&!f._paused)return n||a._loadQueue("play"),f._id;a._webAudio&&s._autoResume();var M=Math.max(0,f._seek>0?f._seek:a._sprite[t][0]/1e3),j=Math.max(0,(a._sprite[t][0]+a._sprite[t][1])/1e3-M),G=1e3*j/Math.abs(f._rate),O=a._sprite[t][0]/1e3,X=(a._sprite[t][0]+a._sprite[t][1])/1e3;f._sprite=t,f._ended=!1;var q=function(){f._paused=!1,f._seek=M,f._start=O,f._stop=X,f._loop=!(!f._loop&&!a._sprite[t][2])};if(!(M>=X)){var P=f._node;if(a._webAudio){var H=function(){a._playLock=!1,q(),a._refreshBuffer(f),P.gain.setValueAtTime(f._muted||a._muted?0:f._volume,s.ctx.currentTime),f._playStart=s.ctx.currentTime,typeof P.bufferSource.start>"u"?P.bufferSource.noteGrainOn(0,M,f._loop?86400:j):P.bufferSource.start(0,M,f._loop?86400:j),G!==1/0&&(a._endTimers[f._id]=setTimeout(a._ended.bind(a,f),G)),n||setTimeout(function(){a._emit("play",f._id),a._loadQueue()},0)};"running"===s.state&&"interrupted"!==s.ctx.state?H():(a._playLock=!0,a.once("resume",H),a._clearTimer(f._id))}else{var J=function(){P.currentTime=M,P.muted=f._muted||a._muted||s._muted||P.muted,P.volume=f._volume*s.volume(),P.playbackRate=f._rate;try{var B=P.play();if(B&&typeof Promise<"u"&&(B instanceof Promise||"function"==typeof B.then)?(a._playLock=!0,q(),B.then(function(){a._playLock=!1,P._unlocked=!0,n?a._loadQueue():a._emit("play",f._id)}).catch(function(){a._playLock=!1,a._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),f._ended=!0,f._paused=!0})):n||(a._playLock=!1,q(),a._emit("play",f._id)),P.playbackRate=f._rate,P.paused)return void a._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||f._loop?a._endTimers[f._id]=setTimeout(a._ended.bind(a,f),G):(a._endTimers[f._id]=function(){a._ended(f),P.removeEventListener("ended",a._endTimers[f._id],!1)},P.addEventListener("ended",a._endTimers[f._id],!1))}catch(Z){a._emit("playerror",f._id,Z)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===P.src&&(P.src=a._src,P.load());var Y=window&&window.ejecta||!P.readyState&&s._navigator.isCocoonJS;if(P.readyState>=3||Y)J();else{a._playLock=!0,a._state="loading";var W=function(){a._state="loaded",J(),P.removeEventListener(s._canPlayEvent,W,!1)};P.addEventListener(s._canPlayEvent,W,!1),a._clearTimer(f._id)}}return f._id}a._ended(f)},pause:function(t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(t)}}),n;for(var a=n._getSoundIds(t),u=0;u<a.length;u++){n._clearTimer(a[u]);var v=n._soundById(a[u]);if(v&&!v._paused&&(v._seek=n.seek(a[u]),v._rateSeek=0,v._paused=!0,n._stopFade(a[u]),v._node))if(n._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),n._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||n._emit("pause",v?v._id:null)}return n},stop:function(t,n){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"stop",action:function(){a.stop(t)}}),a;for(var u=a._getSoundIds(t),v=0;v<u.length;v++){a._clearTimer(u[v]);var g=a._soundById(u[v]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,a._stopFade(u[v]),g._node&&(a._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),a._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&a._clearSound(g._node))),n||a._emit("stop",g._id))}return a},mute:function(t,n){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(t,n)}}),a;if(typeof n>"u"){if("boolean"!=typeof t)return a._muted;a._muted=t}for(var u=a._getSoundIds(n),v=0;v<u.length;v++){var g=a._soundById(u[v]);g&&(g._muted=t,g._interval&&a._stopFade(g._id),a._webAudio&&g._node?g._node.gain.setValueAtTime(t?0:g._volume,s.ctx.currentTime):g._node&&(g._node.muted=!!s._muted||t),a._emit("mute",g._id))}return a},volume:function(){var a,u,f,t=this,n=arguments;if(0===n.length)return t._volume;if(1===n.length||2===n.length&&typeof n[1]>"u"?t._getSoundIds().indexOf(n[0])>=0?u=parseInt(n[0],10):a=parseFloat(n[0]):n.length>=2&&(a=parseFloat(n[0]),u=parseInt(n[1],10)),!(typeof a<"u"&&a>=0&&a<=1))return(f=u?t._soundById(u):t._sounds[0])?f._volume:0;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,n)}}),t;typeof u>"u"&&(t._volume=a),u=t._getSoundIds(u);for(var w=0;w<u.length;w++)(f=t._soundById(u[w]))&&(f._volume=a,n[2]||t._stopFade(u[w]),t._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(a,s.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=a*s.volume()),t._emit("volume",f._id));return t},fade:function(t,n,a,u){var v=this;if("loaded"!==v._state||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(t,n,a,u)}}),v;t=Math.min(Math.max(0,parseFloat(t)),1),n=Math.min(Math.max(0,parseFloat(n)),1),a=parseFloat(a),v.volume(t,u);for(var g=v._getSoundIds(u),f=0;f<g.length;f++){var w=v._soundById(g[f]);if(w){if(u||v._stopFade(g[f]),v._webAudio&&!w._muted){var M=s.ctx.currentTime,j=M+a/1e3;w._volume=t,w._node.gain.setValueAtTime(t,M),w._node.gain.linearRampToValueAtTime(n,j)}v._startFadeInterval(w,t,n,a,g[f],typeof u>"u")}}return v},_startFadeInterval:function(t,n,a,u,v,g){var f=this,w=n,M=a-n,j=Math.abs(M/.01),G=Math.max(4,j>0?u/j:u),O=Date.now();t._fadeTo=a,t._interval=setInterval(function(){var X=(Date.now()-O)/u;O=Date.now(),w+=M*X,w=Math.round(100*w)/100,w=M<0?Math.max(a,w):Math.min(a,w),f._webAudio?t._volume=w:f.volume(w,t._id,!0),g&&(f._volume=w),(a<n&&w<=a||a>n&&w>=a)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,f.volume(a,t._id),f._emit("fade",t._id))},G)},_stopFade:function(t){var n=this,a=n._soundById(t);return a&&a._interval&&(n._webAudio&&a._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(a._interval),a._interval=null,n.volume(a._fadeTo,t),a._fadeTo=null,n._emit("fade",t)),n},loop:function(){var a,u,v,t=this,n=arguments;if(0===n.length)return t._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(v=t._soundById(parseInt(n[0],10)))&&v._loop;t._loop=a=n[0]}else 2===n.length&&(a=n[0],u=parseInt(n[1],10));for(var g=t._getSoundIds(u),f=0;f<g.length;f++)(v=t._soundById(g[f]))&&(v._loop=a,t._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=a,a&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,t.playing(g[f])&&(t.pause(g[f],!0),t.play(g[f],!0)))));return t},rate:function(){var a,u,f,t=this,n=arguments;if(0===n.length?u=t._sounds[0]._id:1===n.length?t._getSoundIds().indexOf(n[0])>=0?u=parseInt(n[0],10):a=parseFloat(n[0]):2===n.length&&(a=parseFloat(n[0]),u=parseInt(n[1],10)),"number"!=typeof a)return(f=t._soundById(u))?f._rate:t._rate;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,n)}}),t;typeof u>"u"&&(t._rate=a),u=t._getSoundIds(u);for(var w=0;w<u.length;w++)if(f=t._soundById(u[w])){t.playing(u[w])&&(f._rateSeek=t.seek(u[w]),f._playStart=t._webAudio?s.ctx.currentTime:f._playStart),f._rate=a,t._webAudio&&f._node&&f._node.bufferSource?f._node.bufferSource.playbackRate.setValueAtTime(a,s.ctx.currentTime):f._node&&(f._node.playbackRate=a);var M=t.seek(u[w]),G=1e3*((t._sprite[f._sprite][0]+t._sprite[f._sprite][1])/1e3-M)/Math.abs(f._rate);(t._endTimers[u[w]]||!f._paused)&&(t._clearTimer(u[w]),t._endTimers[u[w]]=setTimeout(t._ended.bind(t,f),G)),t._emit("rate",f._id)}return t},seek:function(){var a,u,t=this,n=arguments;if(0===n.length?t._sounds.length&&(u=t._sounds[0]._id):1===n.length?t._getSoundIds().indexOf(n[0])>=0?u=parseInt(n[0],10):t._sounds.length&&(u=t._sounds[0]._id,a=parseFloat(n[0])):2===n.length&&(a=parseFloat(n[0]),u=parseInt(n[1],10)),typeof u>"u")return 0;if("number"==typeof a&&("loaded"!==t._state||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,n)}}),t;var f=t._soundById(u);if(f){if(!("number"==typeof a&&a>=0)){if(t._webAudio){var G=t.playing(u)?s.ctx.currentTime-f._playStart:0;return f._seek+((f._rateSeek?f._rateSeek-f._seek:0)+G*Math.abs(f._rate))}return f._node.currentTime}var w=t.playing(u);w&&t.pause(u,!0),f._seek=a,f._ended=!1,t._clearTimer(u),!t._webAudio&&f._node&&!isNaN(f._node.duration)&&(f._node.currentTime=a);var M=function(){w&&t.play(u,!0),t._emit("seek",u)};if(w&&!t._webAudio){var j=function(){t._playLock?setTimeout(j,0):M()};setTimeout(j,0)}else M()}return t},playing:function(t){var n=this;if("number"==typeof t){var a=n._soundById(t);return!!a&&!a._paused}for(var u=0;u<n._sounds.length;u++)if(!n._sounds[u]._paused)return!0;return!1},duration:function(t){var n=this,a=n._duration,u=n._soundById(t);return u&&(a=n._sprite[u._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var t=this,n=t._sounds,a=0;a<n.length;a++)n[a]._paused||t.stop(n[a]._id),t._webAudio||(t._clearSound(n[a]._node),n[a]._node.removeEventListener("error",n[a]._errorFn,!1),n[a]._node.removeEventListener(s._canPlayEvent,n[a]._loadFn,!1),n[a]._node.removeEventListener("ended",n[a]._endFn,!1),s._releaseHtml5Audio(n[a]._node)),delete n[a]._node,t._clearTimer(n[a]._id);var u=s._howls.indexOf(t);u>=0&&s._howls.splice(u,1);var v=!0;for(a=0;a<s._howls.length;a++)if(s._howls[a]._src===t._src||t._src.indexOf(s._howls[a]._src)>=0){v=!1;break}return b&&v&&delete b[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,n,a,u){return"function"==typeof n&&this["_on"+t].push(u?{id:a,fn:n,once:u}:{id:a,fn:n}),this},off:function(t,n,a){var u=this,v=u["_on"+t],g=0;if("number"==typeof n&&(a=n,n=null),n||a)for(g=0;g<v.length;g++){var f=a===v[g].id;if(n===v[g].fn&&f||!n&&f){v.splice(g,1);break}}else if(t)u["_on"+t]=[];else{var w=Object.keys(u);for(g=0;g<w.length;g++)0===w[g].indexOf("_on")&&Array.isArray(u[w[g]])&&(u[w[g]]=[])}return u},once:function(t,n,a){return this.on(t,n,a,1),this},_emit:function(t,n,a){for(var u=this,v=u["_on"+t],g=v.length-1;g>=0;g--)(!v[g].id||v[g].id===n||"load"===t)&&(setTimeout(function(f){f.call(this,n,a)}.bind(u,v[g].fn),0),v[g].once&&u.off(t,v[g].fn,v[g].id));return u._loadQueue(t),u},_loadQueue:function(t){var n=this;if(n._queue.length>0){var a=n._queue[0];a.event===t&&(n._queue.shift(),n._loadQueue()),t||a.action()}return n},_ended:function(t){var n=this,a=t._sprite;if(!n._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(n._ended.bind(n,t),100),n;var u=!(!t._loop&&!n._sprite[a][2]);if(n._emit("end",t._id),!n._webAudio&&u&&n.stop(t._id,!0).play(t._id),n._webAudio&&u){n._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var v=1e3*(t._stop-t._start)/Math.abs(t._rate);n._endTimers[t._id]=setTimeout(n._ended.bind(n,t),v)}return n._webAudio&&!u&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,n._clearTimer(t._id),n._cleanBuffer(t._node),s._autoSuspend()),!n._webAudio&&!u&&n.stop(t._id,!0),n},_clearTimer:function(t){var n=this;if(n._endTimers[t]){if("function"!=typeof n._endTimers[t])clearTimeout(n._endTimers[t]);else{var a=n._soundById(t);a&&a._node&&a._node.removeEventListener("ended",n._endTimers[t],!1)}delete n._endTimers[t]}return n},_soundById:function(t){for(var n=this,a=0;a<n._sounds.length;a++)if(t===n._sounds[a]._id)return n._sounds[a];return null},_inactiveSound:function(){var t=this;t._drain();for(var n=0;n<t._sounds.length;n++)if(t._sounds[n]._ended)return t._sounds[n].reset();return new p(t)},_drain:function(){var t=this,n=t._pool,a=0,u=0;if(!(t._sounds.length<n)){for(u=0;u<t._sounds.length;u++)t._sounds[u]._ended&&a++;for(u=t._sounds.length-1;u>=0;u--){if(a<=n)return;t._sounds[u]._ended&&(t._webAudio&&t._sounds[u]._node&&t._sounds[u]._node.disconnect(0),t._sounds.splice(u,1),a--)}}},_getSoundIds:function(t){if(typeof t>"u"){for(var a=[],u=0;u<this._sounds.length;u++)a.push(this._sounds[u]._id);return a}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=b[this._src],t._node.bufferSource.connect(t._panner?t._panner:t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,s.ctx.currentTime),this},_cleanBuffer:function(t){var a=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return this;if(s._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),a))try{t.bufferSource.buffer=s._scratchBuffer}catch{}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var p=function(t){this._parent=t,this.init()};p.prototype={init:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,n._sounds.push(t),t.create(),t},create:function(){var t=this,n=t._parent,a=s._muted||t._muted||t._parent._muted?0:t._volume;return n._webAudio?(t._node=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),t._node.gain.setValueAtTime(a,s.ctx.currentTime),t._node.paused=!0,t._node.connect(s.masterGain)):s.noAudio||(t._node=s._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(s._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=n._src,t._node.preload=!0===n._preload?"auto":n._preload,t._node.volume=a*s.volume(),t._node.load()),t},reset:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,n=t._parent;n._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),t._node.removeEventListener(s._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,n=t._parent;n._duration===1/0&&(n._duration=Math.ceil(10*t._node.duration)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=1e3*n._duration),n._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var b={},I=function(t){var n=t._src;if(b[n])return t._duration=b[n].duration,void x(t);if(/^data:[^;]+;base64,/.test(n)){for(var a=atob(n.split(",")[1]),u=new Uint8Array(a.length),v=0;v<a.length;++v)u[v]=a.charCodeAt(v);A(u.buffer,t)}else{var g=new XMLHttpRequest;g.open(t._xhr.method,n,!0),g.withCredentials=t._xhr.withCredentials,g.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(f){g.setRequestHeader(f,t._xhr.headers[f])}),g.onload=function(){var f=(g.status+"")[0];"0"===f||"2"===f||"3"===f?A(g.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".")},g.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete b[n],t.load())},E(g)}},E=function(t){try{t.send()}catch{t.onerror()}},A=function(t,n){var a=function(){n._emit("loaderror",null,"Decoding audio data failed.")},u=function(v){v&&n._sounds.length>0?(b[n._src]=v,x(n,v)):a()};typeof Promise<"u"&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(t).then(u).catch(a):s.ctx.decodeAudioData(t,u,a)},x=function(t,n){n&&!t._duration&&(t._duration=n.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},$=function(){if(s.usingWebAudio){try{typeof AudioContext<"u"?s.ctx=new AudioContext:typeof webkitAudioContext<"u"?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch{s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),n=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=n?parseInt(n[1],10):null;if(t&&a&&a<9){var u=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!u&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0!==(R=function(){return{Howler:s,Howl:_}}.apply(Q,[]))&&(K.exports=R),Q.Howler=s,Q.Howl=_,typeof global<"u"?(global.HowlerGlobal=e,global.Howler=s,global.Howl=_,global.Sound=p):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=s,window.Howl=_,window.Sound=p)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(s){var _=this;if(!_.ctx||!_.ctx.listener)return _;for(var p=_._howls.length-1;p>=0;p--)_._howls[p].stereo(s);return _},HowlerGlobal.prototype.pos=function(s,_,p){var b=this;return b.ctx&&b.ctx.listener?"number"!=typeof s?b._pos:(b._pos=[s,_="number"!=typeof _?b._pos[1]:_,p="number"!=typeof p?b._pos[2]:p],typeof b.ctx.listener.positionX<"u"?(b.ctx.listener.positionX.setTargetAtTime(b._pos[0],Howler.ctx.currentTime,.1),b.ctx.listener.positionY.setTargetAtTime(b._pos[1],Howler.ctx.currentTime,.1),b.ctx.listener.positionZ.setTargetAtTime(b._pos[2],Howler.ctx.currentTime,.1)):b.ctx.listener.setPosition(b._pos[0],b._pos[1],b._pos[2]),b):b},HowlerGlobal.prototype.orientation=function(s,_,p,b,I,E){var A=this;if(!A.ctx||!A.ctx.listener)return A;var x=A._orientation;return"number"!=typeof s?x:(A._orientation=[s,_="number"!=typeof _?x[1]:_,p="number"!=typeof p?x[2]:p,b="number"!=typeof b?x[3]:b,I="number"!=typeof I?x[4]:I,E="number"!=typeof E?x[5]:E],typeof A.ctx.listener.forwardX<"u"?(A.ctx.listener.forwardX.setTargetAtTime(s,Howler.ctx.currentTime,.1),A.ctx.listener.forwardY.setTargetAtTime(_,Howler.ctx.currentTime,.1),A.ctx.listener.forwardZ.setTargetAtTime(p,Howler.ctx.currentTime,.1),A.ctx.listener.upX.setTargetAtTime(b,Howler.ctx.currentTime,.1),A.ctx.listener.upY.setTargetAtTime(I,Howler.ctx.currentTime,.1),A.ctx.listener.upZ.setTargetAtTime(E,Howler.ctx.currentTime,.1)):A.ctx.listener.setOrientation(s,_,p,b,I,E),A)},Howl.prototype.init=function(s){return function(_){var p=this;return p._orientation=_.orientation||[1,0,0],p._stereo=_.stereo||null,p._pos=_.pos||null,p._pannerAttr={coneInnerAngle:typeof _.coneInnerAngle<"u"?_.coneInnerAngle:360,coneOuterAngle:typeof _.coneOuterAngle<"u"?_.coneOuterAngle:360,coneOuterGain:typeof _.coneOuterGain<"u"?_.coneOuterGain:0,distanceModel:typeof _.distanceModel<"u"?_.distanceModel:"inverse",maxDistance:typeof _.maxDistance<"u"?_.maxDistance:1e4,panningModel:typeof _.panningModel<"u"?_.panningModel:"HRTF",refDistance:typeof _.refDistance<"u"?_.refDistance:1,rolloffFactor:typeof _.rolloffFactor<"u"?_.rolloffFactor:1},p._onstereo=_.onstereo?[{fn:_.onstereo}]:[],p._onpos=_.onpos?[{fn:_.onpos}]:[],p._onorientation=_.onorientation?[{fn:_.onorientation}]:[],s.call(this,_)}}(Howl.prototype.init),Howl.prototype.stereo=function(s,_){var p=this;if(!p._webAudio)return p;if("loaded"!==p._state)return p._queue.push({event:"stereo",action:function(){p.stereo(s,_)}}),p;var b=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof _>"u"){if("number"!=typeof s)return p._stereo;p._stereo=s,p._pos=[s,0,0]}for(var I=p._getSoundIds(_),E=0;E<I.length;E++){var A=p._soundById(I[E]);if(A){if("number"!=typeof s)return A._stereo;A._stereo=s,A._pos=[s,0,0],A._node&&(A._pannerAttr.panningModel="equalpower",(!A._panner||!A._panner.pan)&&e(A,b),"spatial"===b?typeof A._panner.positionX<"u"?(A._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),A._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),A._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):A._panner.setPosition(s,0,0):A._panner.pan.setValueAtTime(s,Howler.ctx.currentTime)),p._emit("stereo",A._id)}}return p},Howl.prototype.pos=function(s,_,p,b){var I=this;if(!I._webAudio)return I;if("loaded"!==I._state)return I._queue.push({event:"pos",action:function(){I.pos(s,_,p,b)}}),I;if(_="number"!=typeof _?0:_,p="number"!=typeof p?-.5:p,typeof b>"u"){if("number"!=typeof s)return I._pos;I._pos=[s,_,p]}for(var E=I._getSoundIds(b),A=0;A<E.length;A++){var x=I._soundById(E[A]);if(x){if("number"!=typeof s)return x._pos;x._pos=[s,_,p],x._node&&((!x._panner||x._panner.pan)&&e(x,"spatial"),typeof x._panner.positionX<"u"?(x._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),x._panner.positionY.setValueAtTime(_,Howler.ctx.currentTime),x._panner.positionZ.setValueAtTime(p,Howler.ctx.currentTime)):x._panner.setPosition(s,_,p)),I._emit("pos",x._id)}}return I},Howl.prototype.orientation=function(s,_,p,b){var I=this;if(!I._webAudio)return I;if("loaded"!==I._state)return I._queue.push({event:"orientation",action:function(){I.orientation(s,_,p,b)}}),I;if(_="number"!=typeof _?I._orientation[1]:_,p="number"!=typeof p?I._orientation[2]:p,typeof b>"u"){if("number"!=typeof s)return I._orientation;I._orientation=[s,_,p]}for(var E=I._getSoundIds(b),A=0;A<E.length;A++){var x=I._soundById(E[A]);if(x){if("number"!=typeof s)return x._orientation;x._orientation=[s,_,p],x._node&&(x._panner||(x._pos||(x._pos=I._pos||[0,0,-.5]),e(x,"spatial")),typeof x._panner.orientationX<"u"?(x._panner.orientationX.setValueAtTime(s,Howler.ctx.currentTime),x._panner.orientationY.setValueAtTime(_,Howler.ctx.currentTime),x._panner.orientationZ.setValueAtTime(p,Howler.ctx.currentTime)):x._panner.setOrientation(s,_,p)),I._emit("orientation",x._id)}}return I},Howl.prototype.pannerAttr=function(){var p,b,I,s=this,_=arguments;if(!s._webAudio)return s;if(0===_.length)return s._pannerAttr;if(1===_.length){if("object"!=typeof _[0])return(I=s._soundById(parseInt(_[0],10)))?I._pannerAttr:s._pannerAttr;p=_[0],typeof b>"u"&&(p.pannerAttr||(p.pannerAttr={coneInnerAngle:p.coneInnerAngle,coneOuterAngle:p.coneOuterAngle,coneOuterGain:p.coneOuterGain,distanceModel:p.distanceModel,maxDistance:p.maxDistance,refDistance:p.refDistance,rolloffFactor:p.rolloffFactor,panningModel:p.panningModel}),s._pannerAttr={coneInnerAngle:typeof p.pannerAttr.coneInnerAngle<"u"?p.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:typeof p.pannerAttr.coneOuterAngle<"u"?p.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:typeof p.pannerAttr.coneOuterGain<"u"?p.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:typeof p.pannerAttr.distanceModel<"u"?p.pannerAttr.distanceModel:s._distanceModel,maxDistance:typeof p.pannerAttr.maxDistance<"u"?p.pannerAttr.maxDistance:s._maxDistance,refDistance:typeof p.pannerAttr.refDistance<"u"?p.pannerAttr.refDistance:s._refDistance,rolloffFactor:typeof p.pannerAttr.rolloffFactor<"u"?p.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:typeof p.pannerAttr.panningModel<"u"?p.pannerAttr.panningModel:s._panningModel})}else 2===_.length&&(p=_[0],b=parseInt(_[1],10));for(var E=s._getSoundIds(b),A=0;A<E.length;A++)if(I=s._soundById(E[A])){var x=I._pannerAttr;x={coneInnerAngle:typeof p.coneInnerAngle<"u"?p.coneInnerAngle:x.coneInnerAngle,coneOuterAngle:typeof p.coneOuterAngle<"u"?p.coneOuterAngle:x.coneOuterAngle,coneOuterGain:typeof p.coneOuterGain<"u"?p.coneOuterGain:x.coneOuterGain,distanceModel:typeof p.distanceModel<"u"?p.distanceModel:x.distanceModel,maxDistance:typeof p.maxDistance<"u"?p.maxDistance:x.maxDistance,refDistance:typeof p.refDistance<"u"?p.refDistance:x.refDistance,rolloffFactor:typeof p.rolloffFactor<"u"?p.rolloffFactor:x.rolloffFactor,panningModel:typeof p.panningModel<"u"?p.panningModel:x.panningModel};var $=I._panner;$||(I._pos||(I._pos=s._pos||[0,0,-.5]),e(I,"spatial"),$=I._panner),$.coneInnerAngle=x.coneInnerAngle,$.coneOuterAngle=x.coneOuterAngle,$.coneOuterGain=x.coneOuterGain,$.distanceModel=x.distanceModel,$.maxDistance=x.maxDistance,$.refDistance=x.refDistance,$.rolloffFactor=x.rolloffFactor,$.panningModel=x.panningModel}return s},Sound.prototype.init=function(s){return function(){var _=this,p=_._parent;_._orientation=p._orientation,_._stereo=p._stereo,_._pos=p._pos,_._pannerAttr=p._pannerAttr,s.call(this),_._stereo?p.stereo(_._stereo):_._pos&&p.pos(_._pos[0],_._pos[1],_._pos[2],_._id)}}(Sound.prototype.init),Sound.prototype.reset=function(s){return function(){var _=this,p=_._parent;return _._orientation=p._orientation,_._stereo=p._stereo,_._pos=p._pos,_._pannerAttr=p._pannerAttr,_._stereo?p.stereo(_._stereo):_._pos?p.pos(_._pos[0],_._pos[1],_._pos[2],_._id):_._panner&&(_._panner.disconnect(0),_._panner=void 0,p._refreshBuffer(_)),s.call(this)}}(Sound.prototype.reset);var e=function(s,_){"spatial"===(_=_||"spatial")?(s._panner=Howler.ctx.createPanner(),s._panner.coneInnerAngle=s._pannerAttr.coneInnerAngle,s._panner.coneOuterAngle=s._pannerAttr.coneOuterAngle,s._panner.coneOuterGain=s._pannerAttr.coneOuterGain,s._panner.distanceModel=s._pannerAttr.distanceModel,s._panner.maxDistance=s._pannerAttr.maxDistance,s._panner.refDistance=s._pannerAttr.refDistance,s._panner.rolloffFactor=s._pannerAttr.rolloffFactor,s._panner.panningModel=s._pannerAttr.panningModel,typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(s._pos[0],Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(s._pos[1],Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(s._pos[2],Howler.ctx.currentTime)):s._panner.setPosition(s._pos[0],s._pos[1],s._pos[2]),typeof s._panner.orientationX<"u"?(s._panner.orientationX.setValueAtTime(s._orientation[0],Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(s._orientation[1],Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(s._orientation[2],Howler.ctx.currentTime)):s._panner.setOrientation(s._orientation[0],s._orientation[1],s._orientation[2])):(s._panner=Howler.ctx.createStereoPanner(),s._panner.pan.setValueAtTime(s._stereo,Howler.ctx.currentTime)),s._panner.connect(s._node),s._paused||s._parent.pause(s._id,!0).play(s._id,!0)}}()}}]);