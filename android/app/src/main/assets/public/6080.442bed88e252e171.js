"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6080],{96080:(X,y,l)=>{l.r(y),l.d(y,{CreateProfilePage:()=>J});var u=l(10467),e=l(54438),c=l(60177),n=l(89417),_=l(61494),d=l(35933),g=l(13903),I=l(76449),F=l(60248);class k{constructor(o,i,a,r,m,p){this.name=p,this.email=o,this.password=i,this.password_confirmation=a,this.birth_year=r,this.gender=m}}var T=l(56536),R=l(11864);function w(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.email_required")," "))}function P(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.email_invalid")," "))}function C(t,o){if(1&t&&(e.j41(0,"div",37),e.DNE(1,w,3,3,"div",38)(2,P,3,3,"div",38),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.email?null:i.email.errors.required),e.R7$(),e.Y8G("ngIf",null==i.email?null:i.email.errors.email)}}function E(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.password_required")," "))}function G(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.password_min_length")," "))}function j(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.password_strong")," "))}function $(t,o){if(1&t&&(e.j41(0,"div",37),e.DNE(1,E,3,3,"div",38)(2,G,3,3,"div",38)(3,j,3,3,"div",38),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.password?null:i.password.errors.required),e.R7$(),e.Y8G("ngIf",null==i.password?null:i.password.errors.minlength),e.R7$(),e.Y8G("ngIf",null==i.password?null:i.password.errors.strong)}}function S(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.password_required")," "))}function M(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.password_no_match")," "))}function N(t,o){if(1&t&&(e.j41(0,"div",37),e.DNE(1,S,3,3,"div",38)(2,M,3,3,"div",38),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.cpassword?null:i.cpassword.errors.required),e.R7$(),e.Y8G("ngIf",null==i.cpassword?null:i.cpassword.errors.confirmPassword)}}function Y(t,o){if(1&t&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&t){const i=o.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function x(t,o){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"register.error.terms_required")," "))}function D(t,o){if(1&t&&(e.j41(0,"div",37),e.DNE(1,x,3,3,"div",38),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.terms?null:i.terms.errors.required)}}let J=(()=>{var t;class o{constructor(a){this.formBuilder=a,this.myEye=["eye","eye"],this.myType=["password","password"],this.navController=(0,e.WQX)(_.q9),this.authService=(0,e.WQX)(F.uR),this.commonService=(0,e.WQX)(F.hf),this.toastController=(0,e.WQX)(d.K_),this.translate=(0,e.WQX)(g.c$),this.dataService=(0,e.WQX)(R.u),this.myNumbers=[1900],this.data={name:"",email:"",password:"",cpassword:"",terms:!0,birth_year:"",gender:""};for(let r=1901;r<=2100;r++)this.myNumbers.push(r)}ngOnInit(){this.regFormGroup=this.formBuilder.group({email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(8),T.g.strong]],cpassword:["",[n.k0.required,n.k0.minLength(8)]],birth_year:["2003"],gender:["male"],terms:[!0,[n.k0.requiredTrue]],dataProtection:[!0,[n.k0.requiredTrue]]},{validator:I.S.matchPassword})}createUser(){var a=this;return(0,u.A)(function*(){if(a.regFormGroup.valid){var r,m,p,f,v;yield a.commonService.showLoader();const q=new k(null===(r=a.email)||void 0===r?void 0:r.value,null===(m=a.password)||void 0===m?void 0:m.value,null===(p=a.cpassword)||void 0===p?void 0:p.value,null===(f=a.birth_year)||void 0===f?void 0:f.value,null===(v=a.gender)||void 0===v?void 0:v.value,"App");a.authService.register(q).then(function(){var h=(0,u.A)(function*(s){if(console.log("dataaaaa registerrrrrr",s),"success"===(null==s?void 0:s.status))yield a.authService.saveDataUser(null==s?void 0:s.data),yield a.navController.navigateRoot("/greets");else{const b=a.translate.instant("register.error.error_form_register");console.log("ha ocurrido un error al registrar el usuario"),a.commonService.alertModal("",b)}yield a.commonService.hideLoader()});return function(s){return h.apply(this,arguments)}}()).catch(function(){var h=(0,u.A)(function*(s){if(yield a.commonService.hideLoader(),422===(null==s?void 0:s.status)){const b=a.translate.instant("register.error.email_taken");a.commonService.alertModal("",b)}});return function(s){return h.apply(this,arguments)}}()).finally((0,u.A)(function*(){yield a.commonService.hideLoader()}))}else a.commonService.alertModal("","Debe completar todos los campos")})()}get name(){return this.regFormGroup.get("name")}get email(){return this.regFormGroup.get("email")}get password(){return this.regFormGroup.get("password")}get cpassword(){return this.regFormGroup.get("cpassword")}get terms(){return this.regFormGroup.get("terms")}get dataProtection(){return this.regFormGroup.get("dataProtection")}get birth_year(){return this.regFormGroup.get("birth_year")}get gender(){return this.regFormGroup.get("gender")}changeImage(a){"eye"===this.myEye[a]?(this.myEye[a]="eye_open",this.myType[a]="test"):"eye_open"===this.myEye[a]&&(this.myEye[a]="eye",this.myType[a]="password")}goBack(){this.navController.back()}goToLegalNotice(){var a=this;return(0,u.A)(function*(){yield a.navController.navigateForward("privacy-policy")})()}goToTerminos(){var a=this;return(0,u.A)(function*(){yield a.navController.navigateForward("terms")})()}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(n.ok))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-create-profile"]],standalone:!0,features:[e.aNF],decls:96,vars:84,consts:[[1,"ion-no-border"],["color","ligth",1,"ion-no-margin","ion-no-padding","ion-no-border","bg-white"],[1,"flex","items-center","justify-between","px-3"],[1,"H2-22-700","self-start","my-text-header"],["tappable","true","ngSrc","assets/images/SoundCollect/Iconos/close.svg","alt","back","width","24","height","24",1,"mt-1",3,"click"],[3,"fullscreen"],["id","regFormGroup",3,"formGroup"],[1,"flex","items-center","flex-col","justify-between","w-full","h-full"],[1,"d-flex","w-100","flex-column","justify-content-between","h-100"],[2,"width","96vw"],[1,"ion-padding-horizontal","mt-10"],[1,"H-20-700","my-text-dark"],[1,"relative","mb-5","mt-3"],[1,"H6-14-400-SpaceGrotesk","my-text-header"],["placeholder","Email*","formControlName","email","type","email","required","required",1,"input","pe-5","ps-3"],["class","validation-msg-error",4,"ngIf"],[1,"mb-5"],[1,"relative"],["formControlName","password","type","password","required","required",1,"input","pe-5","ps-3",3,"placeholder","type"],["alt","eye",1,"absolute",2,"right","13px","top","25px","bottom","0","margin","auto",3,"click","src"],["formControlName","cpassword","type","password","required","required",1,"input","pe-5","ps-3",3,"placeholder","type"],[1,"relative","mb-5"],["name","birth_year","formControlName","birth_year",1,"input","pe-5","ps-3"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","gender","formControlName","gender",1,"input","pe-5","ps-3",2,"padding","0px 16px !important",3,"placeholder","cancelText"],["value","male"],["value","female"],["value","non-binary"],["value","others"],["value","prefer-not-to-say"],[1,"flex","justify-center"],["labelPlacement","end","formControlName","terms","required","",1,"H6-14-400-SpaceGrotesk","my-text-header","mt-4",3,"checked"],[1,"H8-700-14","text-start","ms-2"],[1,"H8-700-green-14","text-decoration-none",3,"click"],[1,"p-3","flex","flex-col","w-100"],["type","button","form","regFormGroup",1,"my-btn-login",3,"click","disabled"],[1,"validation-msg-error"],[4,"ngIf"],[3,"value"]],template:function(a,r){1&a&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-text",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"img",4),e.bIt("click",function(){return r.goBack()}),e.k0s()()()(),e.j41(7,"ion-content",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-text",11),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"input",14),e.DNE(21,C,3,2,"div",15),e.k0s(),e.j41(22,"div",16)(23,"div",17)(24,"label",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"input",18),e.nI1(28,"translate"),e.j41(29,"img",19),e.bIt("click",function(){return r.changeImage(0)}),e.k0s()(),e.DNE(30,$,4,3,"div",15),e.k0s(),e.j41(31,"div",16)(32,"div",17)(33,"label",13),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"input",20),e.nI1(37,"translate"),e.j41(38,"img",19),e.bIt("click",function(){return r.changeImage(1)}),e.k0s()(),e.DNE(39,N,3,2,"div",15),e.k0s(),e.j41(40,"ion-text",11),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"div",21)(44,"label",13),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"select",22)(48,"option",23),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.DNE(51,Y,2,2,"option",24),e.k0s()(),e.j41(52,"div",21)(53,"label",13),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"ion-select",25),e.nI1(57,"translate"),e.nI1(58,"translate"),e.j41(59,"ion-select-option",26),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"ion-select-option",27),e.EFF(63),e.nI1(64,"translate"),e.k0s(),e.j41(65,"ion-select-option",28),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"ion-select-option",29),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"ion-select-option",30),e.EFF(72),e.nI1(73,"translate"),e.k0s()()(),e.j41(74,"div",31),e.nrm(75,"ion-checkbox",32),e.j41(76,"ion-text",33),e.EFF(77),e.nI1(78,"translate"),e.j41(79,"a",34),e.bIt("click",function(){return r.goToTerminos()}),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.EFF(82),e.nI1(83,"translate"),e.j41(84,"a",34),e.bIt("click",function(){return r.goToLegalNotice()}),e.EFF(85),e.nI1(86,"translate"),e.k0s()()(),e.DNE(87,D,2,1,"div",15),e.j41(88,"div",16),e.nrm(89,"br"),e.k0s()()()()()()(),e.j41(90,"ion-footer",0)(91,"div",35)(92,"button",36),e.bIt("click",function(){return r.createUser()}),e.j41(93,"ion-text"),e.EFF(94),e.nI1(95,"translate"),e.k0s()()()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,38,"login.btn.register")," "),e.R7$(3),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("formGroup",r.regFormGroup),e.R7$(6),e.JRh(e.bMT(15,40,"register.label.required_data")),e.R7$(4),e.JRh(e.bMT(19,42,"recovery_pass.label.email")),e.R7$(3),e.Y8G("ngIf",(null==r.email?null:r.email.invalid)&&((null==r.email?null:r.email.dirty)||(null==r.email?null:r.email.touched))),e.R7$(4),e.JRh(e.bMT(26,44,"login.label.password")),e.R7$(2),e.FS9("placeholder",e.bMT(28,46,"login.label.password")),e.Y8G("type",r.myType[0]),e.R7$(2),e.Mz_("src","assets/images/SoundCollect/Iconos/",r.myEye[0],".svg",e.B4B),e.R7$(),e.Y8G("ngIf",(null==r.password?null:r.password.invalid)&&((null==r.password?null:r.password.dirty)||(null==r.password?null:r.password.touched))),e.R7$(4),e.JRh(e.bMT(35,48,"register.label.repeat_password")),e.R7$(2),e.FS9("placeholder",e.bMT(37,50,"register.label.repeat_password")),e.Y8G("type",r.myType[1]),e.R7$(2),e.Mz_("src","assets/images/SoundCollect/Iconos/",r.myEye[1],".svg",e.B4B),e.R7$(),e.Y8G("ngIf",(null==r.cpassword?null:r.cpassword.invalid)&&((null==r.cpassword?null:r.cpassword.dirty)||(null==r.cpassword?null:r.cpassword.touched))),e.R7$(2),e.JRh(e.bMT(42,52,"register.label.optional_data")),e.R7$(4),e.JRh(e.bMT(46,54,"register.label.birth_year")),e.R7$(4),e.SpI(" ",e.bMT(50,56,"register.label.birth_year")," "),e.R7$(2),e.Y8G("ngForOf",r.myNumbers),e.R7$(3),e.JRh(e.bMT(55,58,"about_me.label.gender")),e.R7$(2),e.FS9("placeholder",e.bMT(57,60,"about_me.label.gender")),e.FS9("cancelText",e.bMT(58,62,"about_me.buttons.btn_cancel")),e.R7$(4),e.JRh(e.bMT(61,64,"profile.label.male")),e.R7$(3),e.JRh(e.bMT(64,66,"profile.label.female")),e.R7$(3),e.JRh(e.bMT(67,68,"profile.label.non-binary")),e.R7$(3),e.JRh(e.bMT(70,70,"profile.label.others")),e.R7$(3),e.JRh(e.bMT(73,72,"profile.label.prefer-not-to-say")),e.R7$(3),e.Y8G("checked",!0),e.R7$(2),e.SpI(" ",e.bMT(78,74,"register.terms.terms-start")," "),e.R7$(3),e.SpI(" ",e.bMT(81,76,"register.terms.terms-strong")," "),e.R7$(2),e.SpI(" ",e.bMT(83,78,"register.terms.terms-end")," "),e.R7$(3),e.SpI(" ",e.bMT(86,80,"register.terms.terms-strong-end")," "),e.R7$(2),e.Y8G("ngIf",(null==r.terms?null:r.terms.invalid)&&((null==r.terms?null:r.terms.dirty)||(null==r.terms?null:r.terms.touched))),e.R7$(5),e.Y8G("disabled",r.regFormGroup.invalid),e.R7$(2),e.JRh(e.bMT(95,82,"login.btn.register")))},dependencies:[d.bv,d.eY,d.W9,d.M0,d.eU,d.Nm,d.Ip,d.IO,d.ai,d.hB,d.Je,c.MD,c.Sq,c.bT,n.YN,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.YS,n.X1,n.j4,n.JD,g.h,g.D9,c.kt],styles:[".my-btn-login[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;width:100%;padding:16px 4px;gap:10px;height:54px;border-radius:53px;font-family:SpaceGrotesk,serif;font-style:normal;font-weight:700;font-size:18px;line-height:120.2%;letter-spacing:-.02em}"]}),o})()}}]);