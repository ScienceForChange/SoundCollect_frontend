(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5605],{95605:(X,s,L)=>{"use strict";L.r(s),L.d(s,{UserGuidePage:()=>Q});var i=L(10467),C=L(60177),R=L(89417),z=L(35933),F=L(13903),w=L(16817),p=L(99842),b=L(54438),$=L(33726),Z=L(21413),N=L(22806),y=L(56977),c=L(43236),d=L(39974),a=L(54360),v=L(5964),A=L(20717),o=L.t(A,2),n=L(33876),M=L.t(n,2);const B=["pdfViewerContainer"];function r(x,V,S){x[V]=S}function l(){return typeof window>"u"}l()||r(o,"verbosity",A.VerbosityLevel.INFOS);var h=function(x){return x[x.DISABLED=0]="DISABLED",x[x.ENABLED=1]="ENABLED",x[x.ENHANCED=2]="ENHANCED",x}(h||{});let P=(()=>{var x;class V{set cMapsUrl(e){this._cMapsUrl=e}set page(e){const t=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,t!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=!!e}set fitToPage(e){this._fitToPage=!!e}set showBorders(e){this._showBorders=!!e}static getLinkTarget(e){switch(e){case"blank":return n.LinkTarget.BLANK;case"none":return n.LinkTarget.NONE;case"self":return n.LinkTarget.SELF;case"parent":return n.LinkTarget.PARENT;case"top":return n.LinkTarget.TOP}return null}constructor(e,t){if((0,p.A)(this,"element",void 0),(0,p.A)(this,"ngZone",void 0),(0,p.A)(this,"pdfViewerContainer",void 0),(0,p.A)(this,"eventBus",void 0),(0,p.A)(this,"pdfLinkService",void 0),(0,p.A)(this,"pdfFindController",void 0),(0,p.A)(this,"pdfViewer",void 0),(0,p.A)(this,"isVisible",!1),(0,p.A)(this,"_cMapsUrl",typeof o<"u"?`https://unpkg.com/pdfjs-dist@${A.version}/cmaps/`:null),(0,p.A)(this,"_imageResourcesPath",typeof o<"u"?`https://unpkg.com/pdfjs-dist@${A.version}/web/images/`:void 0),(0,p.A)(this,"_renderText",!0),(0,p.A)(this,"_renderTextMode",h.ENABLED),(0,p.A)(this,"_stickToPage",!1),(0,p.A)(this,"_originalSize",!0),(0,p.A)(this,"_pdf",void 0),(0,p.A)(this,"_page",1),(0,p.A)(this,"_zoom",1),(0,p.A)(this,"_zoomScale","page-width"),(0,p.A)(this,"_rotation",0),(0,p.A)(this,"_showAll",!0),(0,p.A)(this,"_canAutoResize",!0),(0,p.A)(this,"_fitToPage",!1),(0,p.A)(this,"_externalLinkTarget","blank"),(0,p.A)(this,"_showBorders",!1),(0,p.A)(this,"lastLoaded",void 0),(0,p.A)(this,"_latestScrolledPage",void 0),(0,p.A)(this,"pageScrollTimeout",null),(0,p.A)(this,"isInitialized",!1),(0,p.A)(this,"loadingTask",void 0),(0,p.A)(this,"destroy$",new Z.B),(0,p.A)(this,"afterLoadComplete",new b.bkB),(0,p.A)(this,"pageRendered",new b.bkB),(0,p.A)(this,"pageInitialized",new b.bkB),(0,p.A)(this,"textLayerRendered",new b.bkB),(0,p.A)(this,"onError",new b.bkB),(0,p.A)(this,"onProgress",new b.bkB),(0,p.A)(this,"pageChange",new b.bkB(!0)),(0,p.A)(this,"src",void 0),this.element=e,this.ngZone=t,l())return;let f;const g=A.version;f=window[`pdfWorkerSrc${g}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${g}/legacy/build/pdf.worker.min.js`),r(A.GlobalWorkerOptions,"workerSrc",f)}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(e){if(!l()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if(("renderText"in e||"showAll"in e)&&(this.setupViewer(),this.resetPdfDocument()),"page"in e){const{page:t}=e;if(t.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,N.H)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,y.Q)(this.destroy$)).subscribe({next:e=>{var t;const f=this._rotation+e.rotate,g=e.getViewport({scale:this._zoom,rotation:f}).width*V.CSS_UNITS;let m=this._zoom,T=!0;if(!this._originalSize||this._fitToPage&&g>this.pdfViewerContainer.nativeElement.clientWidth){const E=e.getViewport({scale:1,rotation:f});m=this.getScale(E.width,E.height),T=!this._stickToPage}null===(t=this.pdfViewer.pagesPromise)||void 0===t||t.then(()=>{this.pdfViewer.currentScale=m,T&&this.pdfViewer.scrollPageIntoView({pageNumber:e.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const e=V.getLinkTarget(this._externalLinkTarget);return e?{externalLinkTarget:e}:{}}initEventBus(){this.eventBus=function k(x,V){const S=new x.EventBus;return function Y(x,V){(0,$.R)(x,"documentload").pipe((0,y.Q)(V)).subscribe(()=>{const S=document.createEvent("CustomEvent");S.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(S)}),(0,$.R)(x,"pagerendered").pipe((0,y.Q)(V)).subscribe(({pageNumber:S,cssTransform:e,source:t})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("pagerendered",!0,!0,{pageNumber:S,cssTransform:e}),t.div.dispatchEvent(f)}),(0,$.R)(x,"textlayerrendered").pipe((0,y.Q)(V)).subscribe(({pageNumber:S,source:e})=>{var t;const f=document.createEvent("CustomEvent");f.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:S}),null===(t=e.textLayerDiv)||void 0===t||t.dispatchEvent(f)}),(0,$.R)(x,"pagechanging").pipe((0,y.Q)(V)).subscribe(({pageNumber:S,source:e})=>{const t=document.createEvent("UIEvents");t.initEvent("pagechanging",!0,!0),t.pageNumber=S,e.container.dispatchEvent(t)}),(0,$.R)(x,"pagesinit").pipe((0,y.Q)(V)).subscribe(({source:S})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null),S.container.dispatchEvent(e)}),(0,$.R)(x,"pagesloaded").pipe((0,y.Q)(V)).subscribe(({pagesCount:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:S}),e.container.dispatchEvent(t)}),(0,$.R)(x,"scalechange").pipe((0,y.Q)(V)).subscribe(({scale:S,presetValue:e,source:t})=>{const f=document.createEvent("UIEvents");f.initEvent("scalechange",!0,!0),f.scale=S,f.presetValue=e,t.container.dispatchEvent(f)}),(0,$.R)(x,"updateviewarea").pipe((0,y.Q)(V)).subscribe(({location:S,source:e})=>{const t=document.createEvent("UIEvents");t.initEvent("updateviewarea",!0,!0),t.location=S,e.container.dispatchEvent(t)}),(0,$.R)(x,"find").pipe((0,y.Q)(V)).subscribe(({source:S,type:e,query:t,phraseSearch:f,caseSensitive:g,highlightAll:m,findPrevious:T})=>{if(S===window)return;const E=document.createEvent("CustomEvent");E.initCustomEvent("find"+e,!0,!0,{query:t,phraseSearch:f,caseSensitive:g,highlightAll:m,findPrevious:T}),window.dispatchEvent(E)}),(0,$.R)(x,"attachmentsloaded").pipe((0,y.Q)(V)).subscribe(({attachmentsCount:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:S}),e.container.dispatchEvent(t)}),(0,$.R)(x,"sidebarviewchanged").pipe((0,y.Q)(V)).subscribe(({view:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:S}),e.outerContainer.dispatchEvent(t)}),(0,$.R)(x,"pagemode").pipe((0,y.Q)(V)).subscribe(({mode:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:S}),e.pdfViewer.container.dispatchEvent(t)}),(0,$.R)(x,"namedaction").pipe((0,y.Q)(V)).subscribe(({action:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:S}),e.pdfViewer.container.dispatchEvent(t)}),(0,$.R)(x,"presentationmodechanged").pipe((0,y.Q)(V)).subscribe(({active:S,switchInProgress:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:S,switchInProgress:e}),window.dispatchEvent(t)}),(0,$.R)(x,"outlineloaded").pipe((0,y.Q)(V)).subscribe(({outlineCount:S,source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:S}),e.container.dispatchEvent(t)})}(S,V),S}(M,this.destroy$),(0,$.R)(this.eventBus,"pagerendered").pipe((0,y.Q)(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),(0,$.R)(this.eventBus,"pagesinit").pipe((0,y.Q)(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),(0,$.R)(this.eventBus,"pagechanging").pipe((0,y.Q)(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),(0,$.R)(this.eventBus,"textlayerrendered").pipe((0,y.Q)(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)})}initPDFServices(){this.pdfLinkService=new n.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new n.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:h.DISABLED,findController:this.pdfFindController,l10n:new n.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:A.AnnotationEditorType.DISABLE}}setupViewer(){r(o,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new n.PDFViewer(this.getPDFOptions()):new n.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const t={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===e?t.url=this.src:"object"===e&&(void 0!==this.src.byteLength?t.data=this.src:Object.assign(t,this.src)),t}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=A.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=t=>{this.onProgress.emit(t)};const e=this.src;(0,N.H)(this.loadingTask.promise).pipe((0,y.Q)(this.destroy$)).subscribe({next:t=>{this._pdf=t,this.lastLoaded=e,this.afterLoadComplete.emit(t),this.resetPdfDocument(),this.update()},error:t=>{this.lastLoaded=null,this.onError.emit(t)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(e,t){const f=this._showBorders?2*V.BORDER_WIDTH:0,g=this.pdfViewerContainer.nativeElement.clientWidth-f,m=this.pdfViewerContainer.nativeElement.clientHeight-f;if(0===m||0===t||0===g||0===e)return 1;let T=1;switch(this._zoomScale){case"page-fit":T=Math.min(m/t,g/e);break;case"page-height":T=m/t;break;default:T=g/e}return this._zoom*T/V.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){l()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){l()||this.ngZone.runOutsideAngular(()=>{(0,$.R)(window,"resize").pipe(function u(x,V=c.E){return(0,d.N)((S,e)=>{let t=null,f=null,g=null;const m=()=>{if(t){t.unsubscribe(),t=null;const E=f;f=null,e.next(E)}};function T(){const E=g+x,ie=V.now();if(ie<E)return t=this.schedule(void 0,E-ie),void e.add(t);m()}S.subscribe((0,a._)(e,E=>{f=E,g=V.now(),t||(t=V.schedule(T,x),e.add(t))},()=>{m(),e.complete()},void 0,()=>{f=t=null}))})}(100),(0,v.p)(()=>this._canAutoResize&&!!this._pdf),(0,y.Q)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return x=V,(0,p.A)(V,"CSS_UNITS",96/72),(0,p.A)(V,"BORDER_WIDTH",9),(0,p.A)(V,"\u0275fac",function(e){return new(e||x)(b.rXU(b.aKT),b.rXU(b.SKi))}),(0,p.A)(V,"\u0275cmp",b.VBU({type:x,selectors:[["pdf-viewer"]],viewQuery:function(e,t){if(1&e&&b.GBs(B,5),2&e){let f;b.mGM(f=b.lsd())&&(t.pdfViewerContainer=f.first)}},inputs:{src:"src",cMapsUrl:[b.Mj6.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[b.Mj6.None,"render-text","renderText"],renderTextMode:[b.Mj6.None,"render-text-mode","renderTextMode"],originalSize:[b.Mj6.None,"original-size","originalSize"],showAll:[b.Mj6.None,"show-all","showAll"],stickToPage:[b.Mj6.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[b.Mj6.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[b.Mj6.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[b.Mj6.None,"fit-to-page","fitToPage"],showBorders:[b.Mj6.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[b.OA$],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(e,t){1&e&&(b.j41(0,"div",1,0),b.nrm(2,"div",2),b.k0s())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})),V})(),G=(()=>{var x;class V{}return x=V,(0,p.A)(V,"\u0275fac",function(e){return new(e||x)}),(0,p.A)(V,"\u0275mod",b.$C({type:x})),(0,p.A)(V,"\u0275inj",b.G2t({})),V})();var K=L(60248);const J=()=>["/tabs/profile"];let Q=(()=>{var x;class V{constructor(e){this.common=e,this.pdfSrc="../assets/pdf/guide.pdf",this.zoom=1}ngOnInit(){var e=this;return(0,i.A)(function*(){yield e.common.showLoader()})()}complete(e){var t=this;return(0,i.A)(function*(){yield t.common.hideLoader()})()}zoomIn(){this.zoom<=2&&(this.zoom+=.5)}zoomOut(){this.zoom>1&&(this.zoom-=.5)}isValidAmpliar(){return this.zoom<=2}isValidReducir(){return this.zoom>1}}return(x=V).\u0275fac=function(e){return new(e||x)(b.rXU(K.hf))},x.\u0275cmp=b.VBU({type:x,selectors:[["app-user-guide"]],standalone:!0,features:[b.aNF],decls:19,vars:20,consts:[[1,"ion-no-border"],["color","ligth",1,"ion-no-margin","ion-no-padding","ion-no-border","bg-white"],[1,"flex","justify-between","items-center","px-3"],[1,"H2-22-700","self-start","my-text-header"],["tappable","true","ngSrc","assets/images/SoundCollect/Iconos/close.svg","alt","back","width","24","height","24",1,"",3,"routerLink"],[3,"fullscreen"],[1,"flex","flex-col","px-3","justify-between","w-[100vw]","h-[100vh]","relative"],[2,"width","100%","height","100vh",3,"after-load-complete","src","render-text","original-size","zoom"],[1,"absolute","flex",2,"bottom","10vh","right","20px","background","rgba(255, 255, 255, 0.96)","box-shadow","0 4px 10px rgba(0, 0, 0, 0.12)","border-radius","10px","padding","15px 10px","height","max-content","width","242px"],["tappable","",1,"text-dark","flex","align-middle","pe-6",2,"border-right","2px solid rgba(14, 30, 70, 0.28)",3,"click","ngClass"],["width","18",1,"me-1",3,"src"],["tappable","",1,"text-dark","flex","align-middle",2,"padding","0 12px",3,"click","ngClass"],["width","18",1,"me-1",2,"font-size","30px",3,"src"]],template:function(e,t){1&e&&(b.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-text",3),b.EFF(4),b.nI1(5,"translate"),b.k0s(),b.nrm(6,"img",4),b.k0s()()(),b.j41(7,"ion-content",5)(8,"div",6)(9,"pdf-viewer",7),b.bIt("after-load-complete",function(g){return t.complete(g)}),b.k0s(),b.j41(10,"div",8)(11,"div",9),b.bIt("click",function(){return t.zoomOut()}),b.nrm(12,"img",10),b.EFF(13),b.nI1(14,"translate"),b.k0s(),b.j41(15,"div",11),b.bIt("click",function(){return t.zoomIn()}),b.nrm(16,"img",12),b.EFF(17),b.nI1(18,"translate"),b.k0s()()()()),2&e&&(b.R7$(4),b.SpI(" ",b.bMT(5,13,"profile.label.user_guide")," "),b.R7$(2),b.Y8G("routerLink",b.lJ4(19,J)),b.R7$(),b.Y8G("fullscreen",!0),b.R7$(2),b.Y8G("src",t.pdfSrc)("render-text",!0)("original-size",!1)("zoom",t.zoom),b.R7$(2),b.Y8G("ngClass",t.isValidReducir()?"text-14-700":"text-14-700-gray"),b.R7$(),b.Y8G("src",t.isValidReducir()?"/assets/images/informe/zoom-out.svg":"/assets/images/informe/zoom-out-grey.svg",b.B4B),b.R7$(),b.SpI(" ",b.bMT(14,15,"profile.label.disminuir")," "),b.R7$(2),b.Y8G("ngClass",t.isValidAmpliar()?"text-14-700":"text-14-700-gray"),b.R7$(),b.Y8G("src",t.isValidAmpliar()?"/assets/images/informe/zoom-in.svg":"/assets/images/informe/zoom-in-grey.svg",b.B4B),b.R7$(),b.SpI(" ",b.bMT(18,17,"profile.label.aumentar")," "))},dependencies:[z.bv,z.W9,z.eU,z.IO,z.ai,z.N7,C.MD,C.YU,R.YN,R.X1,F.h,F.D9,w.Wk,C.kt,G,P]}),V})()},20717:(module,__unused_webpack_exports,__webpack_require__)=>{var _classPrivateGetter=__webpack_require__(183).default,_defineProperty=__webpack_require__(43693).default,_classPrivateMethodInitSpec=__webpack_require__(93312).default,_assertClassBrand=__webpack_require__(81756).default,_asyncToGenerator=__webpack_require__(29293).default,_classPrivateFieldInitSpec=__webpack_require__(42459).default,_classPrivateFieldGet=__webpack_require__(16668).default,_classPrivateFieldSet=__webpack_require__(37088).default,s,L;s=globalThis,L=()=>(()=>{"use strict";var __webpack_modules__=[,(X,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=function x(ee,q){ee||Q(q)},s.bytesToString=he,s.createValidAbsoluteUrl=function S(ee,q=null,U=null){if(!ee)return null;try{if(U&&"string"==typeof ee){if(U.addDefaultProtocol&&ee.startsWith("www.")){const Me=ee.match(/\./g);(null==Me?void 0:Me.length)>=2&&(ee=`http://${ee}`)}if(U.tryConvertEncoding)try{ee=I(ee)}catch{}}const me=q?new URL(ee,q):new URL(ee);if(function V(ee){switch(null==ee?void 0:ee.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(me))return me}catch{}return null},s.getModificationDate=function Be(ee=new Date){return[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")].join("")},s.getUuid=function re(){var ee,q;if(typeof crypto<"u"&&"function"==typeof(null===(ee=crypto)||void 0===ee?void 0:ee.randomUUID))return crypto.randomUUID();const U=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof(null===(q=crypto)||void 0===q?void 0:q.getRandomValues))crypto.getRandomValues(U);else for(let me=0;me<32;me++)U[me]=Math.floor(255*Math.random());return he(U)},s.getVerbosityLevel=function G(){return h},s.info=function K(ee){h>=k.INFOS&&console.log(`Info: ${ee}`)},s.isArrayBuffer=function ve(ee){return"object"==typeof ee&&void 0!==(null==ee?void 0:ee.byteLength)},s.isArrayEqual=function Se(ee,q){if(ee.length!==q.length)return!1;for(let U=0,me=ee.length;U<me;U++)if(ee[U]!==q[U])return!1;return!0},s.isNodeJS=void 0,s.normalizeUnicode=function H(ee){return O||(O=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_=new Map([["\ufb05","\u017ft"]])),ee.replaceAll(O,(q,U,me)=>U?U.normalize("NFKC"):_.get(me))},s.objectFromMap=function ye(ee){const q=Object.create(null);for(const[U,me]of ee)q[U]=me;return q},s.objectSize=function we(ee){return Object.keys(ee).length},s.setVerbosityLevel=function P(ee){Number.isInteger(ee)&&(h=ee)},s.shadow=e,s.string32=function Ce(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)},s.stringToBytes=le,s.stringToPDFString=function Fe(ee){if(ee[0]>="\xef"){let U;if("\xfe"===ee[0]&&"\xff"===ee[1]?U="utf-16be":"\xff"===ee[0]&&"\xfe"===ee[1]?U="utf-16le":"\xef"===ee[0]&&"\xbb"===ee[1]&&"\xbf"===ee[2]&&(U="utf-8"),U)try{const me=new TextDecoder(U,{fatal:!0}),Me=le(ee);return me.decode(Me)}catch(me){J(`stringToPDFString: "${me}".`)}}const q=[];for(let U=0,me=ee.length;U<me;U++){const Me=Ae[ee.charCodeAt(U)];q.push(Me?String.fromCharCode(Me):ee.charAt(U))}return q.join("")},s.stringToUTF8String=I,s.unreachable=Q,s.utf8StringToString=function Ee(ee){return unescape(encodeURIComponent(ee))},s.warn=J;const L=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);s.isNodeJS=L,s.IDENTITY_MATRIX=[1,0,0,1,0,0],s.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],s.MAX_IMAGE_SIZE_TO_CACHE=1e7,s.LINE_FACTOR=1.35,s.LINE_DESCENT_FACTOR=.35,s.BASELINE_FACTOR=.25925925925925924,s.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},s.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},s.AnnotationEditorPrefix="pdfjs_internal_editor_",s.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},s.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},s.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},s.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},s.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},s.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},s.AnnotationReplyType={GROUP:"Group",REPLY:"R"},s.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},s.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},s.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},s.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},s.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},s.PageActionEventType={O:"PageOpen",C:"PageClose"};const k={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=k,s.CMapCompressionType={NONE:0,BINARY:1},s.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},s.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=k.WARNINGS;function J(ee){h>=k.WARNINGS&&console.log(`Warning: ${ee}`)}function Q(ee){throw new Error(ee)}function e(ee,q,U,me=!1){return Object.defineProperty(ee,q,{value:U,enumerable:!me,configurable:!0,writable:!1}),U}const t=function(){function q(U,me){this.constructor===q&&Q("Cannot initialize BaseException."),this.message=U,this.name=me}return q.prototype=new Error,q.constructor=q,q}();function he(ee){("object"!=typeof ee||void 0===(null==ee?void 0:ee.length))&&Q("Invalid argument for bytesToString");const q=ee.length,U=8192;if(q<U)return String.fromCharCode.apply(null,ee);const me=[];for(let Me=0;Me<q;Me+=U){const Re=Math.min(Me+U,q),oe=ee.subarray(Me,Re);me.push(String.fromCharCode.apply(null,oe))}return me.join("")}function le(ee){"string"!=typeof ee&&Q("Invalid argument for stringToBytes");const q=ee.length,U=new Uint8Array(q);for(let me=0;me<q;++me)U[me]=255&ee.charCodeAt(me);return U}s.BaseException=t,s.PasswordException=class f extends t{constructor(q,U){super(q,"PasswordException"),this.code=U}},s.UnknownErrorException=class g extends t{constructor(q,U){super(q,"UnknownErrorException"),this.details=U}},s.InvalidPDFException=class m extends t{constructor(q){super(q,"InvalidPDFException")}},s.MissingPDFException=class T extends t{constructor(q){super(q,"MissingPDFException")}},s.UnexpectedResponseException=class E extends t{constructor(q,U){super(q,"UnexpectedResponseException"),this.status=U}},s.FormatError=class ie extends t{constructor(q){super(q,"FormatError")}},s.AbortException=class de extends t{constructor(q){super(q,"AbortException")}},s.FeatureTest=class W{static get isLittleEndian(){return e(this,"isLittleEndian",function ue(){const ee=new Uint8Array(4);return ee[0]=1,1===new Uint32Array(ee.buffer,0,1)[0]}())}static get isEvalSupported(){return e(this,"isEvalSupported",function te(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?e(this,"platform",{isWin:!1,isMac:!1}):e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var q,U;return e(this,"isCSSRoundSupported",null===(q=globalThis.CSS)||void 0===q||null===(U=q.supports)||void 0===U?void 0:U.call(q,"width: round(1.5px, 1px)"))}};const se=[...Array(256).keys()].map(ee=>ee.toString(16).padStart(2,"0"));s.Util=class ce{static makeHexColor(q,U,me){return`#${se[q]}${se[U]}${se[me]}`}static scaleMinMax(q,U){let me;q[0]?(q[0]<0&&(me=U[0],U[0]=U[1],U[1]=me),U[0]*=q[0],U[1]*=q[0],q[3]<0&&(me=U[2],U[2]=U[3],U[3]=me),U[2]*=q[3],U[3]*=q[3]):(me=U[0],U[0]=U[2],U[2]=me,me=U[1],U[1]=U[3],U[3]=me,q[1]<0&&(me=U[2],U[2]=U[3],U[3]=me),U[2]*=q[1],U[3]*=q[1],q[2]<0&&(me=U[0],U[0]=U[1],U[1]=me),U[0]*=q[2],U[1]*=q[2]),U[0]+=q[4],U[1]+=q[4],U[2]+=q[5],U[3]+=q[5]}static transform(q,U){return[q[0]*U[0]+q[2]*U[1],q[1]*U[0]+q[3]*U[1],q[0]*U[2]+q[2]*U[3],q[1]*U[2]+q[3]*U[3],q[0]*U[4]+q[2]*U[5]+q[4],q[1]*U[4]+q[3]*U[5]+q[5]]}static applyTransform(q,U){return[q[0]*U[0]+q[1]*U[2]+U[4],q[0]*U[1]+q[1]*U[3]+U[5]]}static applyInverseTransform(q,U){const me=U[0]*U[3]-U[1]*U[2];return[(q[0]*U[3]-q[1]*U[2]+U[2]*U[5]-U[4]*U[3])/me,(-q[0]*U[1]+q[1]*U[0]+U[4]*U[1]-U[5]*U[0])/me]}static getAxialAlignedBoundingBox(q,U){const me=this.applyTransform(q,U),Me=this.applyTransform(q.slice(2,4),U),Re=this.applyTransform([q[0],q[3]],U),oe=this.applyTransform([q[2],q[1]],U);return[Math.min(me[0],Me[0],Re[0],oe[0]),Math.min(me[1],Me[1],Re[1],oe[1]),Math.max(me[0],Me[0],Re[0],oe[0]),Math.max(me[1],Me[1],Re[1],oe[1])]}static inverseTransform(q){const U=q[0]*q[3]-q[1]*q[2];return[q[3]/U,-q[1]/U,-q[2]/U,q[0]/U,(q[2]*q[5]-q[4]*q[3])/U,(q[4]*q[1]-q[5]*q[0])/U]}static singularValueDecompose2dScale(q){const U=[q[0],q[2],q[1],q[3]],me=q[0]*U[0]+q[1]*U[2],oe=q[2]*U[1]+q[3]*U[3],xe=(me+oe)/2,Oe=Math.sqrt((me+oe)**2-4*(me*oe-(q[2]*U[0]+q[3]*U[2])*(q[0]*U[1]+q[1]*U[3])))/2,be=xe-Oe||1;return[Math.sqrt(xe+Oe||1),Math.sqrt(be)]}static normalizeRect(q){const U=q.slice(0);return q[0]>q[2]&&(U[0]=q[2],U[2]=q[0]),q[1]>q[3]&&(U[1]=q[3],U[3]=q[1]),U}static intersect(q,U){const me=Math.max(Math.min(q[0],q[2]),Math.min(U[0],U[2])),Me=Math.min(Math.max(q[0],q[2]),Math.max(U[0],U[2]));if(me>Me)return null;const Re=Math.max(Math.min(q[1],q[3]),Math.min(U[1],U[3])),oe=Math.min(Math.max(q[1],q[3]),Math.max(U[1],U[3]));return Re>oe?null:[me,Re,Me,oe]}static bezierBoundingBox(q,U,me,Me,Re,oe,xe,Oe){const Ge=[],be=[[],[]];let D,j,ae,fe,ge,Pe,De,Ne;for(let Te=0;Te<2;++Te)if(0===Te?(j=6*q-12*me+6*Re,D=-3*q+9*me-9*Re+3*xe,ae=3*me-3*q):(j=6*U-12*Me+6*oe,D=-3*U+9*Me-9*oe+3*Oe,ae=3*Me-3*U),Math.abs(D)<1e-12){if(Math.abs(j)<1e-12)continue;fe=-ae/j,0<fe&&fe<1&&Ge.push(fe)}else De=j*j-4*ae*D,Ne=Math.sqrt(De),!(De<0)&&(ge=(-j+Ne)/(2*D),0<ge&&ge<1&&Ge.push(ge),Pe=(-j-Ne)/(2*D),0<Pe&&Pe<1&&Ge.push(Pe));let Le,ke=Ge.length;const Ie=ke;for(;ke--;)fe=Ge[ke],Le=1-fe,be[0][ke]=Le*Le*Le*q+3*Le*Le*fe*me+3*Le*fe*fe*Re+fe*fe*fe*xe,be[1][ke]=Le*Le*Le*U+3*Le*Le*fe*Me+3*Le*fe*fe*oe+fe*fe*fe*Oe;return be[0][Ie]=q,be[1][Ie]=U,be[0][Ie+1]=xe,be[1][Ie+1]=Oe,be[0].length=be[1].length=Ie+2,[Math.min(...be[0]),Math.min(...be[1]),Math.max(...be[0]),Math.max(...be[1])]}};const Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function I(ee){return decodeURIComponent(escape(ee))}var pe=new WeakMap;s.PromiseCapability=class ne{constructor(){_classPrivateFieldInitSpec(this,pe,!1),this.promise=new Promise((q,U)=>{this.resolve=me=>{_classPrivateFieldSet(pe,this,!0),q(me)},this.reject=me=>{_classPrivateFieldSet(pe,this,!0),U(me)}})}get settled(){return _classPrivateFieldGet(pe,this)}};let O=null,_=null;s.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(X){var s,L;if("string"==typeof X||X instanceof URL?X={url:X}:(0,_util.isArrayBuffer)(X)&&(X={data:X}),"object"!=typeof X)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!X.url&&!X.data&&!X.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const i=new PDFDocumentLoadingTask,{docId:C}=i,R=X.url?getUrlProp(X.url):null,z=X.data?getDataProp(X.data):null,F=X.httpHeaders||null,w=!0===X.withCredentials,p=null!==(s=X.password)&&void 0!==s?s:null,b=X.range instanceof PDFDataRangeTransport?X.range:null,$=Number.isInteger(X.rangeChunkSize)&&X.rangeChunkSize>0?X.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Z=X.worker instanceof PDFWorker?X.worker:null;const N=X.verbosity,y="string"!=typeof X.docBaseUrl||(0,_display_utils.isDataScheme)(X.docBaseUrl)?null:X.docBaseUrl,c="string"==typeof X.cMapUrl?X.cMapUrl:null,d=!1!==X.cMapPacked,a=X.CMapReaderFactory||DefaultCMapReaderFactory,u="string"==typeof X.standardFontDataUrl?X.standardFontDataUrl:null,v=X.StandardFontDataFactory||DefaultStandardFontDataFactory,A=!0!==X.stopAtErrors,o=Number.isInteger(X.maxImageSize)&&X.maxImageSize>-1?X.maxImageSize:-1,n=!1!==X.isEvalSupported,M="boolean"==typeof X.isOffscreenCanvasSupported?X.isOffscreenCanvasSupported:!_util.isNodeJS,B=Number.isInteger(X.canvasMaxAreaInBytes)?X.canvasMaxAreaInBytes:-1,k="boolean"==typeof X.disableFontFace?X.disableFontFace:_util.isNodeJS,Y=!0===X.fontExtraProperties,r=!0===X.enableXfa,l=X.ownerDocument||globalThis.document,h=!0===X.disableRange,P=!0===X.disableStream,G=!0===X.disableAutoFetch,K=!0===X.pdfBug,J=b?b.length:null!==(L=X.length)&&void 0!==L?L:NaN,Q="boolean"==typeof X.useSystemFonts?X.useSystemFonts:!_util.isNodeJS&&!k,x="boolean"==typeof X.useWorkerFetch?X.useWorkerFetch:a===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&c&&u&&(0,_display_utils.isValidFetchUrl)(c,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(u,document.baseURI),V=X.canvasFactory||new DefaultCanvasFactory({ownerDocument:l}),S=X.filterFactory||new DefaultFilterFactory({docId:C,ownerDocument:l});(0,_util.setVerbosityLevel)(N);const t={canvasFactory:V,filterFactory:S};if(x||(t.cMapReaderFactory=new a({baseUrl:c,isCompressed:d}),t.standardFontDataFactory=new v({baseUrl:u})),!Z){const m={verbosity:N,port:_worker_options.GlobalWorkerOptions.workerPort};Z=m.port?PDFWorker.fromPort(m):new PDFWorker(m),i._worker=Z}const f={docId:C,apiVersion:"3.11.174",data:z,password:p,disableAutoFetch:G,rangeChunkSize:$,length:J,docBaseUrl:y,enableXfa:r,evaluatorOptions:{maxImageSize:o,disableFontFace:k,ignoreErrors:A,isEvalSupported:n,isOffscreenCanvasSupported:M,canvasMaxAreaInBytes:B,fontExtraProperties:Y,useSystemFonts:Q,cMapUrl:x?c:null,standardFontDataUrl:x?u:null}},g={ignoreErrors:A,isEvalSupported:n,disableFontFace:k,fontExtraProperties:Y,enableXfa:r,ownerDocument:l,disableAutoFetch:G,pdfBug:K,styleElement:null};return Z.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");const m=_fetchDocument(Z,f),T=new Promise(function(E){let ie;var he;b?ie=new _transport_stream.PDFDataTransportStream({length:J,initialData:b.initialData,progressiveDone:b.progressiveDone,contentDispositionFilename:b.contentDispositionFilename,disableRange:h,disableStream:P},b):z||(he={url:R,length:J,httpHeaders:F,withCredentials:w,rangeChunkSize:$,disableRange:h,disableStream:P},ie=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(he):(0,_display_utils.isValidFetchUrl)(he.url)?new _displayFetch_stream.PDFFetchStream(he):new _displayNetwork.PDFNetworkStream(he)),E(ie)});return Promise.all([m,T]).then(function([E,ie]){if(i.destroyed)throw new Error("Loading aborted");const de=new _message_handler.MessageHandler(C,E,Z.port),he=new WorkerTransport(de,i,ie,g,t);i._transport=he,de.send("Ready",null)})}).catch(i._capability.reject),i}function _fetchDocument(X,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(X,s){if(X.destroyed)throw new Error("Worker was destroyed");const L=yield X.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(X.destroyed)throw new Error("Worker was destroyed");return L})).apply(this,arguments)}function getUrlProp(X){if(X instanceof URL)return X.href;try{return new URL(X,window.location).href}catch{if(_util.isNodeJS&&"string"==typeof X)return X}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(X){if(_util.isNodeJS&&typeof Buffer<"u"&&X instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(X instanceof Uint8Array&&X.byteLength===X.buffer.byteLength)return X;if("string"==typeof X)return(0,_util.stringToBytes)(X);if("object"==typeof X&&!isNaN(null==X?void 0:X.length)||(0,_util.isArrayBuffer)(X))return new Uint8Array(X);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{constructor(){var s,L;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${_docId._=(s=_docId._,L=s++,s),L}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var s=this;return _asyncToGenerator(function*(){s.destroyed=!0;try{var L,i;null!==(L=s._worker)&&void 0!==L&&L.port&&(s._worker._pendingDestroy=!0),yield null===(i=s._transport)||void 0===i?void 0:i.destroy()}catch(R){var C;throw null!==(C=s._worker)&&void 0!==C&&C.port&&delete s._worker._pendingDestroy,R}s._transport=null,s._worker&&(s._worker.destroy(),s._worker=null)})()}}var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,L,i=!1,C=null){this.length=s,this.initialData=L,this.progressiveDone=i,this.contentDispositionFilename=C,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,L){for(const i of this._rangeListeners)i(s,L)}onDataProgress(s,L){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(s,L)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const L of this._progressiveReadListeners)L(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,L){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,L){this._pdfInfo=s,this._transport=L,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(i=>{if(!i)return i;const C=[];for(const R in i)C.push(...i[R]);return C}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_PDFPageProxy_brand=new WeakSet;class PDFPageProxy{constructor(s,L,i,C=!1){_classPrivateMethodInitSpec(this,_PDFPageProxy_brand),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,null),_classPrivateFieldInitSpec(this,_pendingCleanup,!1),this._pageIndex=s,this._pageInfo=L,this._transport=i,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:L=this.rotate,offsetX:i=0,offsetY:C=0,dontFlip:R=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:L,offsetX:i,offsetY:C,dontFlip:R})}getAnnotations({intent:s="display"}={}){const L=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,L.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var s=this;return _asyncToGenerator(function*(){var L;return(null===(L=s._transport._htmlForXfa)||void 0===L?void 0:L.children[s._pageIndex])||null})()}render({canvasContext:s,viewport:L,intent:i="display",annotationMode:C=_util.AnnotationMode.ENABLE,transform:R=null,background:z=null,optionalContentConfigPromise:F=null,annotationCanvasMap:w=null,pageColors:p=null,printAnnotationStorage:b=null}){var $,Z;null===($=this._stats)||void 0===$||$.time("Overall");const N=this._transport.getRenderingIntent(i,C,b);_classPrivateFieldSet(_pendingCleanup,this,!1),_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),F||(F=this._transport.getOptionalContentConfig());let y=this._intentStates.get(N.cacheKey);y||(y=Object.create(null),this._intentStates.set(N.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const c=!!(N.renderingIntent&_util.RenderingIntentFlag.PRINT);var d;y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(d=this._stats)||void 0===d||d.time("Page Request"),this._pumpOperatorList(N));const a=A=>{var o,n;y.renderTasks.delete(u),(this._maybeCleanupAfterRender||c)&&_classPrivateFieldSet(_pendingCleanup,this,!0),_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!c),A?(u.capability.reject(A),this._abortOperatorList({intentState:y,reason:A instanceof Error?A:new Error(A)})):u.capability.resolve(),null===(o=this._stats)||void 0===o||o.timeEnd("Rendering"),null===(n=this._stats)||void 0===n||n.timeEnd("Overall")},u=new InternalRenderTask({callback:a,params:{canvasContext:s,viewport:L,transform:R,background:z},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!c,pdfBug:this._pdfBug,pageColors:p});((Z=y).renderTasks||(Z.renderTasks=new Set)).add(u);const v=u.task;return Promise.all([y.displayReadyCapability.promise,F]).then(([A,o])=>{var n;this.destroyed?a():(null===(n=this._stats)||void 0===n||n.time("Rendering"),u.initializeGraphics({transparency:A,optionalContentConfig:o}),u.operatorListChanged())}).catch(a),v}getOperatorList({intent:s="display",annotationMode:L=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){const R=this._transport.getRenderingIntent(s,L,i,!0);let F,z=this._intentStates.get(R.cacheKey);var w,p;return z||(z=Object.create(null),this._intentStates.set(R.cacheKey,z)),z.opListReadCapability||(F=Object.create(null),F.operatorListChanged=function C(){z.operatorList.lastChunk&&(z.opListReadCapability.resolve(z.operatorList),z.renderTasks.delete(F))},z.opListReadCapability=new _util.PromiseCapability,((w=z).renderTasks||(w.renderTasks=new Set)).add(F),z.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(p=this._stats)||void 0===p||p.time("Page Request"),this._pumpOperatorList(R)),z.opListReadCapability.promise}streamTextContent({includeMarkedContent:s=!1,disableNormalization:L=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===s,disableNormalization:!0===L},{highWaterMark:100,size:C=>C.items.length})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const L=this.streamTextContent(s);return new Promise(function(i,C){const z=L.getReader(),F={items:[],styles:Object.create(null)};!function R(){z.read().then(function({value:w,done:p}){p?i(F):(Object.assign(F.styles,w.styles),F.items.push(...w.items),R())},C)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const L of this._intentStates.values())if(this._abortOperatorList({intentState:L,reason:new Error("Page was destroyed."),force:!0}),!L.opListReadCapability)for(const i of L.renderTasks)s.push(i.completed),i.cancel();return this.objs.clear(),_classPrivateFieldSet(_pendingCleanup,this,!1),_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),Promise.all(s)}cleanup(s=!1){_classPrivateFieldSet(_pendingCleanup,this,!0);const L=_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!1);return s&&L&&this._stats&&(this._stats=new _display_utils.StatTimer),L}_startRenderPage(s,L){var i,C;const R=this._intentStates.get(L);R&&(null===(i=this._stats)||void 0===i||i.timeEnd("Page Request"),null===(C=R.displayReadyCapability)||void 0===C||C.resolve(s))}_renderPageChunk(s,L){for(let i=0,C=s.length;i<C;i++)L.operatorList.fnArray.push(s.fnArray[i]),L.operatorList.argsArray.push(s.argsArray[i]);L.operatorList.lastChunk=s.lastChunk,L.operatorList.separateAnnots=s.separateAnnots;for(const i of L.renderTasks)i.operatorListChanged();s.lastChunk&&_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!0)}_pumpOperatorList({renderingIntent:s,cacheKey:L,annotationStorageSerializable:i}){const{map:C,transfers:R}=i,F=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:L,annotationStorage:C},R).getReader(),w=this._intentStates.get(L);w.streamReader=F;const p=()=>{F.read().then(({value:b,done:$})=>{$?w.streamReader=null:this._transport.destroyed||(this._renderPageChunk(b,w),p())},b=>{if(w.streamReader=null,!this._transport.destroyed){if(w.operatorList){w.operatorList.lastChunk=!0;for(const $ of w.renderTasks)$.operatorListChanged();_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!0)}if(w.displayReadyCapability)w.displayReadyCapability.reject(b);else{if(!w.opListReadCapability)throw b;w.opListReadCapability.reject(b)}}})};p()}_abortOperatorList({intentState:s,reason:L,force:i=!1}){if(s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!i){if(s.renderTasks.size>0)return;if(L instanceof _display_utils.RenderingCancelledException){let C=RENDERING_CANCELLED_TIMEOUT;return L.extraDelay>0&&L.extraDelay<1e3&&(C+=L.extraDelay),void(s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:L,force:!0})},C))}}if(s.streamReader.cancel(new _util.AbortException(L.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[C,R]of this._intentStates)if(R===s){this._intentStates.delete(C);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup(X=!1){if(_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),!_classPrivateFieldGet(_pendingCleanup,this)||this.destroyed)return!1;if(X)return _classPrivateFieldSet(_delayedCleanupTimeout,this,setTimeout(()=>{_classPrivateFieldSet(_delayedCleanupTimeout,this,null),_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:s,operatorList:L}of this._intentStates.values())if(s.size>0||!L.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(_pendingCleanup,this,!1),!0}function _abortDelayedCleanup(){_classPrivateFieldGet(_delayedCleanupTimeout,this)&&(clearTimeout(_classPrivateFieldGet(_delayedCleanupTimeout,this)),_classPrivateFieldSet(_delayedCleanupTimeout,this,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,new Set),_classPrivateFieldInitSpec(this,_deferred,Promise.resolve())}postMessage(s,L){const i={data:structuredClone(s,L?{transfer:L}:null)};_classPrivateFieldGet(_deferred,this).then(()=>{for(const C of _classPrivateFieldGet(_listeners,this))C.call(this,i)})}addEventListener(s,L){_classPrivateFieldGet(_listeners,this).add(L)}removeEventListener(s,L){_classPrivateFieldGet(_listeners,this).delete(L)}terminate(){_classPrivateFieldGet(_listeners,this).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){var _document;const X=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;X&&(PDFWorkerUtil.fallbackWorkerSrc=X.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(X,s){let L;try{if(L=new URL(X),!L.origin||"null"===L.origin)return!1}catch{return!1}const i=new URL(s,L);return L.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(X){return URL.createObjectURL(new Blob([`importScripts("${X}");`]))};class PDFWorker{constructor({name:X=null,port:s=null,verbosity:L=(0,_util.getVerbosityLevel)()}={}){if(this.name=X,this.destroyed=!1,this.verbosity=L,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){var i;if(null!==(i=_workerPorts._)&&void 0!==i&&i.has(s))throw new Error("Cannot use more than one PDFWorker per port.");return(_workerPorts._||(_workerPorts._=new WeakMap)).set(s,this),void this._initializeFromPort(s)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(X){this._port=X,this._messageHandler=new _message_handler.MessageHandler("main","worker",X),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:X}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,X)||(X=PDFWorkerUtil.createCDNWrapper(new URL(X,window.location).href));const s=new Worker(X),L=new _message_handler.MessageHandler("main","worker",s),i=()=>{s.removeEventListener("error",C),L.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},C=()=>{this._webWorker||i()};s.addEventListener("error",C),L.on("test",z=>{s.removeEventListener("error",C),this.destroyed?i():z?(this._messageHandler=L,this._port=s,this._webWorker=s,this._readyCapability.resolve(),L.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),L.destroy(),s.terminate())}),L.on("ready",z=>{if(s.removeEventListener("error",C),this.destroyed)i();else try{R()}catch{this._setupFakeWorker()}});const R=()=>{const z=new Uint8Array;L.send("test",z,[z.buffer])};return void R()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(X=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const s=new LoopbackPort;this._port=s;const L="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(L+"_worker",L,s);X.setup(i,s);const C=new _message_handler.MessageHandler(L,L+"_worker",s);this._messageHandler=C,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})}).catch(X=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${X.message}".`))})}destroy(){var X;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(X=_workerPorts._)||void 0===X||X.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(X){var s;if(null==X||!X.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const L=null===(s=_assertClassBrand(PDFWorker,this,_workerPorts)._)||void 0===s?void 0:s.get(X.port);if(L){if(L._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return L}return new PDFWorker(X)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var X;return(null===(X=globalThis.pdfjsWorker)||void 0===X?void 0:X.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function X(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={_:void 0};exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_passwordCapability=new WeakMap,_WorkerTransport_brand=new WeakSet;class WorkerTransport{constructor(s,L,i,C,R){_classPrivateMethodInitSpec(this,_WorkerTransport_brand),_classPrivateFieldInitSpec(this,_methodPromises,new Map),_classPrivateFieldInitSpec(this,_pageCache,new Map),_classPrivateFieldInitSpec(this,_pagePromises,new Map),_classPrivateFieldInitSpec(this,_passwordCapability,null),this.messageHandler=s,this.loadingTask=L,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:C.ownerDocument,styleElement:C.styleElement}),this._params=C,this.canvasFactory=R.canvasFactory,this.filterFactory=R.filterFactory,this.cMapReaderFactory=R.cMapReaderFactory,this.standardFontDataFactory=R.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,L=_util.AnnotationMode.ENABLE,i=null,C=!1){let R=_util.RenderingIntentFlag.DISPLAY,z=_annotation_storage.SerializableEmpty;switch(s){case"any":R=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":R=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(L){case _util.AnnotationMode.DISABLE:R+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:R+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:R+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,z=(R&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${L}`)}return C&&(R+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:R,cacheKey:`${R}_${z.hash}`,annotationStorageSerializable:z}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,null===(s=_classPrivateFieldGet(_passwordCapability,this))||void 0===s||s.reject(new Error("Worker was destroyed during onPassword callback"));const L=[];for(const C of _classPrivateFieldGet(_pageCache,this).values())L.push(C._destroy());_classPrivateFieldGet(_pageCache,this).clear(),_classPrivateFieldGet(_pagePromises,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return L.push(i),Promise.all(L).then(()=>{var C;this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(_methodPromises,this).clear(),this.filterFactory.destroy(),null===(C=this._networkStream)||void 0===C||C.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:L}=this;s.on("GetReader",(i,C)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=R=>{this._lastProgress={loaded:R.loaded,total:R.total}},C.onPull=()=>{this._fullReader.read().then(function({value:R,done:z}){z?C.close():((0,_util.assert)(R instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(R),1,[R]))}).catch(R=>{C.error(R)})},C.onCancel=R=>{this._fullReader.cancel(R),C.ready.catch(z=>{if(!this.destroyed)throw z})}}),s.on("ReaderHeadersReady",i=>{const C=new _util.PromiseCapability,R=this._fullReader;return R.headersReady.then(()=>{var z;R.isStreamingSupported&&R.isRangeSupported||(this._lastProgress&&(null===(z=L.onProgress)||void 0===z||z.call(L,this._lastProgress)),R.onProgress=F=>{var w;null===(w=L.onProgress)||void 0===w||w.call(L,{loaded:F.loaded,total:F.total})}),C.resolve({isStreamingSupported:R.isStreamingSupported,isRangeSupported:R.isRangeSupported,contentLength:R.contentLength})},C.reject),C.promise}),s.on("GetRangeReader",(i,C)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const R=this._networkStream.getRangeReader(i.begin,i.end);R?(C.onPull=()=>{R.read().then(function({value:z,done:F}){F?C.close():((0,_util.assert)(z instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(z),1,[z]))}).catch(z=>{C.error(z)})},C.onCancel=z=>{R.cancel(z),C.ready.catch(F=>{if(!this.destroyed)throw F})}):C.close()}),s.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,L._capability.resolve(new PDFDocumentProxy(i,this))}),s.on("DocException",function(i){let C;switch(i.name){case"PasswordException":C=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":C=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":C=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":C=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":C=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}L._capability.reject(C)}),s.on("PasswordRequest",i=>{if(_classPrivateFieldSet(_passwordCapability,this,new _util.PromiseCapability),L.onPassword){const C=R=>{R instanceof Error?_classPrivateFieldGet(_passwordCapability,this).reject(R):_classPrivateFieldGet(_passwordCapability,this).resolve({password:R})};try{L.onPassword(C,i.code)}catch(R){_classPrivateFieldGet(_passwordCapability,this).reject(R)}}else _classPrivateFieldGet(_passwordCapability,this).reject(new _util.PasswordException(i.message,i.code));return _classPrivateFieldGet(_passwordCapability,this).promise}),s.on("DataLoaded",i=>{var C;null===(C=L.onProgress)||void 0===C||C.call(L,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),s.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(_pageCache,this).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),s.on("commonobj",([i,C,R])=>{var z;if(!this.destroyed&&!this.commonObjs.has(i))switch(C){case"Font":const F=this._params;if("error"in R){const b=R.error;(0,_util.warn)(`Error during font loading: ${b}`),this.commonObjs.resolve(i,b);break}const w=F.pdfBug&&null!==(z=globalThis.FontInspector)&&void 0!==z&&z.enabled?(b,$)=>globalThis.FontInspector.fontAdded(b,$):null,p=new _font_loader.FontFaceObject(R,{isEvalSupported:F.isEvalSupported,disableFontFace:F.disableFontFace,ignoreErrors:F.ignoreErrors,inspectFont:w});this.fontLoader.bind(p).catch(b=>s.sendWithPromise("FontFallback",{id:i})).finally(()=>{!F.fontExtraProperties&&p.data&&(p.data=null),this.commonObjs.resolve(i,p)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,R);break;default:throw new Error(`Got unknown common object type ${C}`)}}),s.on("obj",([i,C,R,z])=>{if(this.destroyed)return;const F=_classPrivateFieldGet(_pageCache,this).get(C);if(!F.objs.has(i))switch(R){case"Image":if(F.objs.resolve(i,z),z){let p;if(z.bitmap){const{width:b,height:$}=z;p=b*$*4}else{var w;p=(null===(w=z.data)||void 0===w?void 0:w.length)||0}p>_util.MAX_IMAGE_SIZE_TO_CACHE&&(F._maybeCleanupAfterRender=!0)}break;case"Pattern":F.objs.resolve(i,z);break;default:throw new Error(`Got unknown object type ${R}`)}}),s.on("DocProgress",i=>{var C;this.destroyed||null===(C=L.onProgress)||void 0===C||C.call(L,{loaded:i.loaded,total:i.total})}),s.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s,L;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfers:C}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:null!==(s=null===(L=this._fullReader)||void 0===L?void 0:L.filename)&&void 0!==s?s:null},C).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const L=s-1,i=_classPrivateFieldGet(_pagePromises,this).get(L);if(i)return i;const C=this.messageHandler.sendWithPromise("GetPage",{pageIndex:L}).then(R=>{if(this.destroyed)throw new Error("Transport destroyed");const z=new PDFPageProxy(L,R,this,this._params.pdfBug);return _classPrivateFieldGet(_pageCache,this).set(L,z),z});return _classPrivateFieldGet(_pagePromises,this).set(L,C),C}getPageIndex(s){return"object"!=typeof s||null===s||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,L){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:L})}getFieldObjects(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"GetFieldObjects")}hasJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return"string"!=typeof s?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"GetDocJSActions")}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",L=_classPrivateFieldGet(_methodPromises,this).get(s);if(L)return L;const i=this.messageHandler.sendWithPromise(s,null).then(C=>{var R,z,F,w;return{info:C[0],metadata:C[1]?new _metadata.Metadata(C[1]):null,contentDispositionFilename:null!==(R=null===(z=this._fullReader)||void 0===z?void 0:z.filename)&&void 0!==R?R:null,contentLength:null!==(F=null===(w=this._fullReader)||void 0===w?void 0:w.contentLength)&&void 0!==F?F:null}});return _classPrivateFieldGet(_methodPromises,this).set(s,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(s=!1){var L=this;return _asyncToGenerator(function*(){if(!L.destroyed){yield L.messageHandler.sendWithPromise("Cleanup",null);for(const i of _classPrivateFieldGet(_pageCache,L).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);L.commonObjs.clear(),s||L.fontLoader.clear(),_classPrivateFieldGet(_methodPromises,L).clear(),L.filterFactory.destroy(!0)}})()}get loadingParams(){const{disableAutoFetch:s,enableXfa:L}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:L})}}function _cacheSimpleMethod(X,s=null){const L=_classPrivateFieldGet(_methodPromises,this).get(X);if(L)return L;const i=this.messageHandler.sendWithPromise(X,s);return _classPrivateFieldGet(_methodPromises,this).set(X,i),i}var _objs=new WeakMap,_PDFObjects_brand=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_PDFObjects_brand),_classPrivateFieldInitSpec(this,_objs,Object.create(null))}get(s,L=null){if(L){const C=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,s);return C.capability.promise.then(()=>L(C.data)),null}const i=_classPrivateFieldGet(_objs,this)[s];if(null==i||!i.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return i.data}has(s){const L=_classPrivateFieldGet(_objs,this)[s];return(null==L?void 0:L.capability.settled)||!1}resolve(s,L=null){const i=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,s);i.data=L,i.capability.resolve()}clear(){for(const L in _classPrivateFieldGet(_objs,this)){var s;const{data:i}=_classPrivateFieldGet(_objs,this)[L];null==i||null===(s=i.bitmap)||void 0===s||s.close()}_classPrivateFieldSet(_objs,this,Object.create(null))}}function _ensureObj(X){var s;return(s=_classPrivateFieldGet(_objs,this))[X]||(s[X]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(s){_classPrivateFieldInitSpec(this,_internalRenderTask,null),_classPrivateFieldSet(_internalRenderTask,this,s),this.onContinue=null}get promise(){return _classPrivateFieldGet(_internalRenderTask,this).capability.promise}cancel(s=0){_classPrivateFieldGet(_internalRenderTask,this).cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=_classPrivateFieldGet(_internalRenderTask,this).operatorList;if(!s)return!1;const{annotationCanvasMap:L}=_classPrivateFieldGet(_internalRenderTask,this);return s.form||s.canvas&&(null==L?void 0:L.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:s,params:L,objs:i,commonObjs:C,annotationCanvasMap:R,operatorList:z,pageIndex:F,canvasFactory:w,filterFactory:p,useRequestAnimationFrame:b=!1,pdfBug:$=!1,pageColors:Z=null}){this.callback=s,this.params=L,this.objs=i,this.commonObjs=C,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=z,this._pageIndex=F,this.canvasFactory=w,this.filterFactory=p,this._pdfBug=$,this.pageColors=Z,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===b&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=L.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:L}){var i,C;if(this.cancelled)return;if(this._canvas){if(_canvasInUse._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_canvasInUse._.add(this._canvas)}this._pdfBug&&null!==(i=globalThis.StepperManager)&&void 0!==i&&i.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:R,viewport:z,transform:F,background:w}=this.params;this.gfx=new _canvas.CanvasGraphics(R,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:L},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:F,viewport:z,transparency:s,background:w}),this.operatorListIdx=0,this.graphicsReady=!0,null===(C=this.graphicsReadyCallback)||void 0===C||C.call(this)}cancel(s=null,L=0){var i;this.running=!1,this.cancelled=!0,null===(i=this.gfx)||void 0===i||i.endDrawing(),_canvasInUse._.delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,L))}operatorListChanged(){var s;this.graphicsReady?(null===(s=this.stepper)||void 0===s||s.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var s=this;return _asyncToGenerator(function*(){s.cancelled||(s.operatorListIdx=s.gfx.executeOperatorList(s.operatorList,s.operatorListIdx,s._continueBound,s.stepper),s.operatorListIdx===s.operatorList.argsArray.length&&(s.running=!1,s.operatorList.lastChunk&&(s.gfx.endDrawing(),_canvasInUse._.delete(s._canvas),s.callback())))})()}}var _canvasInUse={_:new WeakSet};const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var i=L(1),C=L(4),R=L(8);const z=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=z;var F=new WeakMap,w=new WeakMap,p=new WeakSet;class b{constructor(){_classPrivateMethodInitSpec(this,p),_classPrivateFieldInitSpec(this,F,!1),_classPrivateFieldInitSpec(this,w,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,d){const a=_classPrivateFieldGet(w,this).get(c);return void 0===a?d:Object.assign(d,a)}getRawValue(c){return _classPrivateFieldGet(w,this).get(c)}remove(c){if(_classPrivateFieldGet(w,this).delete(c),0===_classPrivateFieldGet(w,this).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const d of _classPrivateFieldGet(w,this).values())if(d instanceof C.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,d){const a=_classPrivateFieldGet(w,this).get(c);let u=!1;if(void 0!==a)for(const[v,A]of Object.entries(d))a[v]!==A&&(u=!0,a[v]=A);else u=!0,_classPrivateFieldGet(w,this).set(c,d);u&&_assertClassBrand(p,this,$).call(this),d instanceof C.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(d.constructor._type)}has(c){return _classPrivateFieldGet(w,this).has(c)}getAll(){return _classPrivateFieldGet(w,this).size>0?(0,i.objectFromMap)(_classPrivateFieldGet(w,this)):null}setAll(c){for(const[d,a]of Object.entries(c))this.setValue(d,a)}get size(){return _classPrivateFieldGet(w,this).size}resetModified(){_classPrivateFieldGet(F,this)&&(_classPrivateFieldSet(F,this,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new N(this)}get serializable(){if(0===_classPrivateFieldGet(w,this).size)return z;const c=new Map,d=new R.MurmurHash3_64,a=[],u=Object.create(null);let v=!1;for(const[A,o]of _classPrivateFieldGet(w,this)){const n=o instanceof C.AnnotationEditor?o.serialize(!1,u):o;n&&(c.set(A,n),d.update(`${A}:${JSON.stringify(n)}`),v||(v=!!n.bitmap))}if(v)for(const A of c.values())A.bitmap&&a.push(A.bitmap);return c.size>0?{map:c,hash:d.hexdigest(),transfers:a}:z}}function $(){_classPrivateFieldGet(F,this)||(_classPrivateFieldSet(F,this,!0),"function"==typeof this.onSetModified&&this.onSetModified())}s.AnnotationStorage=b;var Z=new WeakMap;class N extends b{constructor(c){super(),_classPrivateFieldInitSpec(this,Z,void 0);const{map:d,hash:a,transfers:u}=c.serializable,v=structuredClone(d,u?{transfer:u}:null);_classPrivateFieldSet(Z,this,{map:v,hash:a,transfers:u})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(Z,this)}}s.PrintAnnotationStorage=N},(X,s,L)=>{var i;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var C=L(5),R=L(1),z=L(6),F=new WeakMap,w=new WeakMap,p=new WeakMap,b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakMap,v=new WeakMap,A=new WeakMap,o=new WeakSet;class n{constructor(x){_classPrivateMethodInitSpec(this,o),_classPrivateFieldInitSpec(this,F,""),_classPrivateFieldInitSpec(this,w,!1),_classPrivateFieldInitSpec(this,p,null),_classPrivateFieldInitSpec(this,b,null),_classPrivateFieldInitSpec(this,$,null),_classPrivateFieldInitSpec(this,Z,!1),_classPrivateFieldInitSpec(this,N,null),_classPrivateFieldInitSpec(this,y,this.focusin.bind(this)),_classPrivateFieldInitSpec(this,c,this.focusout.bind(this)),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,a,!1),_classPrivateFieldInitSpec(this,u,!1),_defineProperty(this,"_initialOptions",Object.create(null)),_defineProperty(this,"_uiManager",null),_defineProperty(this,"_focusEventsAllowed",!0),_defineProperty(this,"_l10nPromise",null),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,A,n._zIndex++),this.constructor===n&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=x.parent,this.id=x.id,this.width=this.height=null,this.pageIndex=x.parent.pageIndex,this.name=x.name,this.div=null,this._uiManager=x.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=x.isCentered,this._structTreeParentId=null;const{rotation:V,rawDims:{pageWidth:S,pageHeight:e,pageX:t,pageY:f}}=this.parent.viewport;this.rotation=V,this.pageRotation=(360+V-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[S,e],this.pageTranslation=[t,f];const[g,m]=this.parentDimensions;this.x=x.x/g,this.y=x.y/m,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(x){const V=new J({id:x.parent.getNextId(),parent:x.parent,uiManager:x._uiManager});V.annotationElementId=x.annotationElementId,V.deleted=!0,V._uiManager.addToAnnotationStorage(V)}static initialize(x,V=null){if(n._l10nPromise||(n._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(e=>[e,x.get(e)]))),null!=V&&V.strings)for(const e of V.strings)n._l10nPromise.set(e,x.get(e));if(-1!==n._borderLineWidth)return;const S=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(S.getPropertyValue("--outline-width"))||0}static updateDefaultParams(x,V){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(x){return!1}static paste(x,V){(0,R.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _classPrivateFieldGet(v,this)}set _isDraggable(x){var V;_classPrivateFieldSet(v,this,x),null===(V=this.div)||void 0===V||V.classList.toggle("draggable",x)}center(){const[x,V]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*V/(2*x),this.y+=this.width*x/(2*V);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*V/(2*x),this.y-=this.width*x/(2*V);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(x){this._uiManager.addCommands(x)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(A,this)}setParent(x){null!==x&&(this.pageIndex=x.pageIndex,this.pageDimensions=x.pageDimensions),this.parent=x}focusin(x){this._focusEventsAllowed&&(_classPrivateFieldGet(d,this)?_classPrivateFieldSet(d,this,!1):this.parent.setSelected(this))}focusout(x){var V;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const S=x.relatedTarget;null!=S&&S.closest(`#${this.id}`)||(x.preventDefault(),null!==(V=this.parent)&&void 0!==V&&V.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(x,V,S,e){const[t,f]=this.parentDimensions;[S,e]=this.screenToPageTranslation(S,e),this.x=(x+S)/t,this.y=(V+e)/f,this.fixAndSetPosition()}translate(x,V){_assertClassBrand(o,this,M).call(this,this.parentDimensions,x,V)}translateInPage(x,V){_assertClassBrand(o,this,M).call(this,this.pageDimensions,x,V),this.div.scrollIntoView({block:"nearest"})}drag(x,V){const[S,e]=this.parentDimensions;if(this.x+=x/S,this.y+=V/e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:T,y:E}=this.div.getBoundingClientRect();this.parent.findNewParent(this,T,E)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:t,y:f}=this;const[g,m]=_assertClassBrand(o,this,B).call(this);t+=g,f+=m,this.div.style.left=`${(100*t).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[x,V]=this.pageDimensions;let{x:S,y:e,width:t,height:f}=this;switch(t*=x,f*=V,S*=x,e*=V,this.rotation){case 0:S=Math.max(0,Math.min(x-t,S)),e=Math.max(0,Math.min(V-f,e));break;case 90:S=Math.max(0,Math.min(x-f,S)),e=Math.min(V,Math.max(t,e));break;case 180:S=Math.min(x,Math.max(t,S)),e=Math.min(V,Math.max(f,e));break;case 270:S=Math.min(x,Math.max(f,S)),e=Math.max(0,Math.min(V-t,e))}this.x=S/=x,this.y=e/=V;const[g,m]=_assertClassBrand(o,this,B).call(this);S+=g,e+=m;const{style:T}=this.div;T.left=`${(100*S).toFixed(2)}%`,T.top=`${(100*e).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(x,V){return k.call(n,x,V,this.parentRotation)}pageTranslationToScreen(x,V){return k.call(n,x,V,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:x,pageDimensions:[V,S]}=this,e=V*x,t=S*x;return R.FeatureTest.isCSSRoundSupported?[Math.round(e),Math.round(t)]:[e,t]}setDims(x,V){var S;const[e,t]=this.parentDimensions;this.div.style.width=`${(100*x/e).toFixed(2)}%`,_classPrivateFieldGet(Z,this)||(this.div.style.height=`${(100*V/t).toFixed(2)}%`),null===(S=_classPrivateFieldGet(p,this))||void 0===S||S.classList.toggle("small",x<n.SMALL_EDITOR_SIZE||V<n.SMALL_EDITOR_SIZE)}fixDims(){const{style:x}=this.div,{height:V,width:S}=x,e=S.endsWith("%"),t=!_classPrivateFieldGet(Z,this)&&V.endsWith("%");if(e&&t)return;const[f,g]=this.parentDimensions;e||(x.width=`${(100*parseFloat(S)/f).toFixed(2)}%`),!_classPrivateFieldGet(Z,this)&&!t&&(x.height=`${(100*parseFloat(V)/g).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}addAltTextButton(){var x=this;return _asyncToGenerator(function*(){if(_classPrivateFieldGet(p,x))return;const V=_classPrivateFieldSet(p,x,document.createElement("button"));V.className="altText";const S=yield n._l10nPromise.get("editor_alt_text_button_label");V.textContent=S,V.setAttribute("aria-label",S),V.tabIndex="0",V.addEventListener("contextmenu",z.noContextMenu),V.addEventListener("pointerdown",e=>e.stopPropagation()),V.addEventListener("click",e=>{e.preventDefault(),x._uiManager.editAltText(x)},{capture:!0}),V.addEventListener("keydown",e=>{e.target===V&&"Enter"===e.key&&(e.preventDefault(),x._uiManager.editAltText(x))}),_assertClassBrand(o,x,P).call(x),x.div.append(V),n.SMALL_EDITOR_SIZE||(n.SMALL_EDITOR_SIZE=Math.min(128,Math.round(1.4*V.getBoundingClientRect().width)))})()}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_classPrivateFieldGet(F,this),decorative:_classPrivateFieldGet(w,this)}}set altTextData({altText:x,decorative:V}){_classPrivateFieldGet(F,this)===x&&_classPrivateFieldGet(w,this)===V||(_classPrivateFieldSet(F,this,x),_classPrivateFieldSet(w,this,V),_assertClassBrand(o,this,P).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(y,this)),this.div.addEventListener("focusout",_classPrivateFieldGet(c,this));const[x,V]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*V/x).toFixed(2)}%`,this.div.style.maxHeight=`${(100*x/V).toFixed(2)}%`);const[S,e]=this.getInitialTranslation();return this.translate(S,e),(0,C.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(x){const{isMac:V}=R.FeatureTest.platform;0!==x.button||x.ctrlKey&&V?x.preventDefault():(_classPrivateFieldSet(d,this,!0),_assertClassBrand(o,this,K).call(this,x))}moveInDOM(){var x;null===(x=this.parent)||void 0===x||x.moveEditorInDOM(this)}_setParentAndPosition(x,V,S){x.changeParent(this),this.x=V,this.y=S,this.fixAndSetPosition()}getRect(x,V){const S=this.parentScale,[e,t]=this.pageDimensions,[f,g]=this.pageTranslation,m=x/S,T=V/S,E=this.x*e,ie=this.y*t,de=this.width*e,he=this.height*t;switch(this.rotation){case 0:return[E+m+f,t-ie-T-he+g,E+m+de+f,t-ie-T+g];case 90:return[E+T+f,t-ie+m+g,E+T+he+f,t-ie+m+de+g];case 180:return[E-m-de+f,t-ie+T+g,E-m+f,t-ie+T+he+g];case 270:return[E-T-he+f,t-ie-m-de+g,E-T+f,t-ie-m+g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(x,V){const[S,e,t,f]=x,g=t-S,m=f-e;switch(this.rotation){case 0:return[S,V-f,g,m];case 90:return[S,V-e,m,g];case 180:return[t,V-e,g,m];case 270:return[t,V-f,m,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(u,this,!0)}disableEditMode(){_classPrivateFieldSet(u,this,!1)}isInEditMode(){return _classPrivateFieldGet(u,this)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var x,V;null===(x=this.div)||void 0===x||x.addEventListener("focusin",_classPrivateFieldGet(y,this)),null===(V=this.div)||void 0===V||V.addEventListener("focusout",_classPrivateFieldGet(c,this))}serialize(x=!1,V=null){(0,R.unreachable)("An editor must be serializable")}static deserialize(x,V,S){const e=new this.prototype.constructor({parent:V,id:V.getNextId(),uiManager:S});e.rotation=x.rotation;const[t,f]=e.pageDimensions,[g,m,T,E]=e.getRectInCurrentCoords(x.rect,f);return e.x=g/t,e.y=m/f,e.width=T/t,e.height=E/f,e}remove(){var x;this.div.removeEventListener("focusin",_classPrivateFieldGet(y,this)),this.div.removeEventListener("focusout",_classPrivateFieldGet(c,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),null===(x=_classPrivateFieldGet(p,this))||void 0===x||x.remove(),_classPrivateFieldSet(p,this,null),_classPrivateFieldSet(b,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_assertClassBrand(o,this,r).call(this),_classPrivateFieldGet(N,this).classList.remove("hidden"))}select(){var x;this.makeResizable(),null===(x=this.div)||void 0===x||x.classList.add("selectedEditor")}unselect(){var x,V,S;null===(x=_classPrivateFieldGet(N,this))||void 0===x||x.classList.add("hidden"),null===(V=this.div)||void 0===V||V.classList.remove("selectedEditor"),null!==(S=this.div)&&void 0!==S&&S.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(x,V){}disableEditing(){_classPrivateFieldGet(p,this)&&(_classPrivateFieldGet(p,this).hidden=!0)}enableEditing(){_classPrivateFieldGet(p,this)&&(_classPrivateFieldGet(p,this).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(a,this)}set isEditing(x){_classPrivateFieldSet(a,this,x),this.parent&&(x?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(x,V){_classPrivateFieldSet(Z,this,!0);const S=x/V,{style:e}=this.div;e.aspectRatio=S,e.height="auto"}static get MIN_SIZE(){return 16}}function M([Q,x],V,S){[V,S]=this.screenToPageTranslation(V,S),this.x+=V/Q,this.y+=S/x,this.fixAndSetPosition()}function B(){const[Q,x]=this.parentDimensions,{_borderLineWidth:V}=i,S=V/Q,e=V/x;switch(this.rotation){case 90:return[-S,e];case 180:return[S,e];case 270:return[S,-e];default:return[-S,-e]}}function k(Q,x,V){switch(V){case 90:return[x,-Q];case 180:return[-Q,-x];case 270:return[-x,Q];default:return[Q,x]}}function Y(Q){switch(Q){case 90:{const[x,V]=this.pageDimensions;return[0,-x/V,V/x,0]}case 180:return[-1,0,0,-1];case 270:{const[x,V]=this.pageDimensions;return[0,x/V,-V/x,0]}default:return[1,0,0,1]}}function r(){if(_classPrivateFieldGet(N,this))return;_classPrivateFieldSet(N,this,document.createElement("div")),_classPrivateFieldGet(N,this).classList.add("resizers");const Q=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Q.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const x of Q){const V=document.createElement("div");_classPrivateFieldGet(N,this).append(V),V.classList.add("resizer",x),V.addEventListener("pointerdown",_assertClassBrand(o,this,l).bind(this,x)),V.addEventListener("contextmenu",z.noContextMenu)}this.div.prepend(_classPrivateFieldGet(N,this))}function l(Q,x){x.preventDefault();const{isMac:V}=R.FeatureTest.platform;if(0!==x.button||x.ctrlKey&&V)return;const S=_assertClassBrand(o,this,h).bind(this,Q),e=this._isDraggable;this._isDraggable=!1;const t={passive:!0,capture:!0};window.addEventListener("pointermove",S,t);const f=this.x,g=this.y,m=this.width,T=this.height,E=this.parent.div.style.cursor,ie=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(x.target).cursor;const de=()=>{this._isDraggable=e,window.removeEventListener("pointerup",de),window.removeEventListener("blur",de),window.removeEventListener("pointermove",S,t),this.parent.div.style.cursor=E,this.div.style.cursor=ie;const he=this.x,le=this.y,Ce=this.width,we=this.height;he===f&&le===g&&Ce===m&&we===T||this.addCommands({cmd:()=>{this.width=Ce,this.height=we,this.x=he,this.y=le;const[ye,ue]=this.parentDimensions;this.setDims(ye*Ce,ue*we),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=T,this.x=f,this.y=g;const[ye,ue]=this.parentDimensions;this.setDims(ye*m,ue*T),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",de),window.addEventListener("blur",de)}function h(Q,x){const[V,S]=this.parentDimensions,e=this.x,t=this.y,f=this.width,g=this.height,m=i.MIN_SIZE/V,T=i.MIN_SIZE/S,E=O=>Math.round(1e4*O)/1e4,ie=_assertClassBrand(o,this,Y).call(this,this.rotation),de=(O,_)=>[ie[0]*O+ie[2]*_,ie[1]*O+ie[3]*_],he=_assertClassBrand(o,this,Y).call(this,360-this.rotation);let Ce,we,ye=!1,ue=!1;switch(Q){case"topLeft":ye=!0,Ce=(O,_)=>[0,0],we=(O,_)=>[O,_];break;case"topMiddle":Ce=(O,_)=>[O/2,0],we=(O,_)=>[O/2,_];break;case"topRight":ye=!0,Ce=(O,_)=>[O,0],we=(O,_)=>[0,_];break;case"middleRight":ue=!0,Ce=(O,_)=>[O,_/2],we=(O,_)=>[0,_/2];break;case"bottomRight":ye=!0,Ce=(O,_)=>[O,_],we=(O,_)=>[0,0];break;case"bottomMiddle":Ce=(O,_)=>[O/2,_],we=(O,_)=>[O/2,0];break;case"bottomLeft":ye=!0,Ce=(O,_)=>[0,_],we=(O,_)=>[O,0];break;case"middleLeft":ue=!0,Ce=(O,_)=>[0,_/2],we=(O,_)=>[O,_/2]}const te=Ce(f,g),W=we(f,g);let se=de(...W);const ce=E(e+se[0]),Ae=E(t+se[1]);let Fe=1,I=1,[Ee,ve]=this.screenToPageTranslation(x.movementX,x.movementY);if([Ee,ve]=[he[0]*(O=Ee/V)+he[2]*(_=ve/S),he[1]*O+he[3]*_],ye){const O=Math.hypot(f,g);Fe=I=Math.max(Math.min(Math.hypot(W[0]-te[0]-Ee,W[1]-te[1]-ve)/O,1/f,1/g),m/f,T/g)}else ue?Fe=Math.max(m,Math.min(1,Math.abs(W[0]-te[0]-Ee)))/f:I=Math.max(T,Math.min(1,Math.abs(W[1]-te[1]-ve)))/g;var O,_;const Se=E(f*Fe),Be=E(g*I);se=de(...we(Se,Be));const pe=ce-se[0],ne=Ae-se[1];this.width=Se,this.height=Be,this.x=pe,this.y=ne,this.setDims(V*Se,S*Be),this.fixAndSetPosition()}function P(){return G.apply(this,arguments)}function G(){return(G=_asyncToGenerator(function*(){const Q=_classPrivateFieldGet(p,this);if(!Q)return;var x;if(!_classPrivateFieldGet(F,this)&&!_classPrivateFieldGet(w,this))return Q.classList.remove("done"),void(null===(x=_classPrivateFieldGet(b,this))||void 0===x||x.remove());i._l10nPromise.get("editor_alt_text_edit_button_label").then(S=>{Q.setAttribute("aria-label",S)});let V=_classPrivateFieldGet(b,this);if(!V){_classPrivateFieldSet(b,this,V=document.createElement("span")),V.className="tooltip",V.setAttribute("role","tooltip");const S=V.id=`alt-text-tooltip-${this.id}`;Q.setAttribute("aria-describedby",S);const e=100;Q.addEventListener("mouseenter",()=>{_classPrivateFieldSet($,this,setTimeout(()=>{_classPrivateFieldSet($,this,null),_classPrivateFieldGet(b,this).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},e))}),Q.addEventListener("mouseleave",()=>{var t;clearTimeout(_classPrivateFieldGet($,this)),_classPrivateFieldSet($,this,null),null===(t=_classPrivateFieldGet(b,this))||void 0===t||t.classList.remove("show")})}Q.classList.add("done"),V.innerText=_classPrivateFieldGet(w,this)?yield i._l10nPromise.get("editor_alt_text_decorative_tooltip"):_classPrivateFieldGet(F,this),V.parentNode||Q.append(V)})).apply(this,arguments)}function K(Q){if(!this._isDraggable)return;const x=this._uiManager.isSelected(this);let V,S;this._uiManager.setUpDragSession(),x&&(V={passive:!0,capture:!0},S=t=>{const[f,g]=this.screenToPageTranslation(t.movementX,t.movementY);this._uiManager.dragSelectedEditors(f,g)},window.addEventListener("pointermove",S,V));const e=()=>{if(window.removeEventListener("pointerup",e),window.removeEventListener("blur",e),x&&window.removeEventListener("pointermove",S,V),_classPrivateFieldSet(d,this,!1),!this._uiManager.endDragSession()){const{isMac:t}=R.FeatureTest.platform;Q.ctrlKey&&!t||Q.shiftKey||Q.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",e),window.addEventListener("blur",e)}i=n,_defineProperty(n,"_borderLineWidth",-1),_defineProperty(n,"_colorManager",new C.ColorManager),_defineProperty(n,"_zIndex",1),_defineProperty(n,"SMALL_EDITOR_SIZE",0),s.AnnotationEditor=n;class J extends n{constructor(x){super(x),this.annotationElementId=x.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(X,s,L)=>{var i;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=function z(r,l,h){for(const P of h)l.addEventListener(P,r[P].bind(r))},s.opacityToHex=function F(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")};var C=L(1),R=L(6),w=new WeakMap;class p{constructor(){_classPrivateFieldInitSpec(this,w,0)}getId(){var l,h;return`${C.AnnotationEditorPrefix}${_classPrivateFieldSet(w,this,(l=_classPrivateFieldGet(w,this),h=l++,l)),h}`}}var b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakSet;class y{constructor(){_classPrivateMethodInitSpec(this,N),_classPrivateFieldInitSpec(this,b,(0,C.getUuid)()),_classPrivateFieldInitSpec(this,$,0),_classPrivateFieldInitSpec(this,Z,null)}static get _isSVGFittingCanvas(){const P=new OffscreenCanvas(1,3).getContext("2d"),G=new Image;G.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const K=G.decode().then(()=>(P.drawImage(G,0,0,1,1,0,0,1,3),0===new Uint32Array(P.getImageData(0,0,1,1).data.buffer)[0]));return(0,C.shadow)(this,"_isSVGFittingCanvas",K)}getFromFile(l){var h=this;return _asyncToGenerator(function*(){const{lastModified:P,name:G,size:K,type:J}=l;return _assertClassBrand(N,h,c).call(h,`${P}_${G}_${K}_${J}`,l)})()}getFromUrl(l){var h=this;return _asyncToGenerator(function*(){return _assertClassBrand(N,h,c).call(h,l,l)})()}getFromId(l){var h=this;return _asyncToGenerator(function*(){_classPrivateFieldGet(Z,h)||_classPrivateFieldSet(Z,h,new Map);const P=_classPrivateFieldGet(Z,h).get(l);return P?P.bitmap?(P.refCounter+=1,P):P.file?h.getFromFile(P.file):h.getFromUrl(P.url):null})()}getSvgUrl(l){const h=_classPrivateFieldGet(Z,this).get(l);return null!=h&&h.isSvg?h.svgUrl:null}deleteId(l){_classPrivateFieldGet(Z,this)||_classPrivateFieldSet(Z,this,new Map);const h=_classPrivateFieldGet(Z,this).get(l);h&&(h.refCounter-=1,0===h.refCounter&&(h.bitmap=null))}isValidId(l){return l.startsWith(`image_${_classPrivateFieldGet(b,this)}_`)}}function c(r,l){return d.apply(this,arguments)}function d(){return(d=_asyncToGenerator(function*(r,l){var h;_classPrivateFieldGet(Z,this)||_classPrivateFieldSet(Z,this,new Map);let P=_classPrivateFieldGet(Z,this).get(r);if(null===P)return null;if(null!==(h=P)&&void 0!==h&&h.bitmap)return P.refCounter+=1,P;try{var G,K;let J;if(P||(P={bitmap:null,id:`image_${_classPrivateFieldGet(b,this)}_${_classPrivateFieldSet($,this,(G=_classPrivateFieldGet($,this),K=G++,G)),K}`,refCounter:0,isSvg:!1}),"string"==typeof l){P.url=l;const Q=yield fetch(l);if(!Q.ok)throw new Error(Q.statusText);J=yield Q.blob()}else J=P.file=l;if("image/svg+xml"===J.type){const Q=i._isSVGFittingCanvas,x=new FileReader,V=new Image,S=new Promise((e,t)=>{V.onload=()=>{P.bitmap=V,P.isSvg=!0,e()},x.onload=_asyncToGenerator(function*(){const f=P.svgUrl=x.result;V.src=(yield Q)?`${f}#svgView(preserveAspectRatio(none))`:f}),V.onerror=x.onerror=t});x.readAsDataURL(J),yield S}else P.bitmap=yield createImageBitmap(J);P.refCounter=1}catch(J){console.error(J),P=null}return _classPrivateFieldGet(Z,this).set(r,P),P&&_classPrivateFieldGet(Z,this).set(P.id,P),P})).apply(this,arguments)}i=y;var a=new WeakMap,u=new WeakMap,v=new WeakMap,A=new WeakMap;class o{constructor(l=128){_classPrivateFieldInitSpec(this,a,[]),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldInitSpec(this,v,void 0),_classPrivateFieldInitSpec(this,A,-1),_classPrivateFieldSet(v,this,l)}add({cmd:l,undo:h,mustExec:P,type:G=NaN,overwriteIfSameType:K=!1,keepUndo:J=!1}){if(P&&l(),_classPrivateFieldGet(u,this))return;const Q={cmd:l,undo:h,type:G};if(-1===_classPrivateFieldGet(A,this))return _classPrivateFieldGet(a,this).length>0&&(_classPrivateFieldGet(a,this).length=0),_classPrivateFieldSet(A,this,0),void _classPrivateFieldGet(a,this).push(Q);if(K&&_classPrivateFieldGet(a,this)[_classPrivateFieldGet(A,this)].type===G)return J&&(Q.undo=_classPrivateFieldGet(a,this)[_classPrivateFieldGet(A,this)].undo),void(_classPrivateFieldGet(a,this)[_classPrivateFieldGet(A,this)]=Q);const x=_classPrivateFieldGet(A,this)+1;x===_classPrivateFieldGet(v,this)?_classPrivateFieldGet(a,this).splice(0,1):(_classPrivateFieldSet(A,this,x),x<_classPrivateFieldGet(a,this).length&&_classPrivateFieldGet(a,this).splice(x)),_classPrivateFieldGet(a,this).push(Q)}undo(){-1!==_classPrivateFieldGet(A,this)&&(_classPrivateFieldSet(u,this,!0),_classPrivateFieldGet(a,this)[_classPrivateFieldGet(A,this)].undo(),_classPrivateFieldSet(u,this,!1),_classPrivateFieldSet(A,this,_classPrivateFieldGet(A,this)-1))}redo(){_classPrivateFieldGet(A,this)<_classPrivateFieldGet(a,this).length-1&&(_classPrivateFieldSet(A,this,_classPrivateFieldGet(A,this)+1),_classPrivateFieldSet(u,this,!0),_classPrivateFieldGet(a,this)[_classPrivateFieldGet(A,this)].cmd(),_classPrivateFieldSet(u,this,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(A,this)}hasSomethingToRedo(){return _classPrivateFieldGet(A,this)<_classPrivateFieldGet(a,this).length-1}destroy(){_classPrivateFieldSet(a,this,null)}}s.CommandManager=o;var n=new WeakSet;class M{constructor(l){_classPrivateMethodInitSpec(this,n),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:h}=C.FeatureTest.platform;for(const[P,G,K={}]of l)for(const J of P){const Q=J.startsWith("mac+");h&&Q?(this.callbacks.set(J.slice(4),{callback:G,options:K}),this.allKeys.add(J.split("+").at(-1))):!h&&!Q&&(this.callbacks.set(J,{callback:G,options:K}),this.allKeys.add(J.split("+").at(-1)))}}exec(l,h){if(!this.allKeys.has(h.key))return;const P=this.callbacks.get(_assertClassBrand(n,this,B).call(this,h));if(!P)return;const{callback:G,options:{bubbles:K=!1,args:J=[],checker:Q=null}}=P;Q&&!Q(l,h)||(G.bind(l,...J)(),K||(h.stopPropagation(),h.preventDefault()))}}function B(r){r.altKey&&this.buffer.push("alt"),r.ctrlKey&&this.buffer.push("ctrl"),r.metaKey&&this.buffer.push("meta"),r.shiftKey&&this.buffer.push("shift"),this.buffer.push(r.key);const l=this.buffer.join("+");return this.buffer.length=0,l}s.KeyboardManager=M;class k{get _colors(){const l=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(l),(0,C.shadow)(this,"_colors",l)}convert(l){const h=(0,R.getRGB)(l);if(!window.matchMedia("(forced-colors: active)").matches)return h;for(const[P,G]of this._colors)if(G.every((K,J)=>K===h[J]))return k._colorsMapping.get(P);return h}getHexCode(l){const h=this._colors.get(l);return h?C.Util.makeHexColor(...h):l}}_defineProperty(k,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),s.ColorManager=k,s.AnnotationEditorUIManager=(()=>{var r=new WeakMap,l=new WeakMap,h=new WeakMap,P=new WeakMap,G=new WeakMap,K=new WeakMap,J=new WeakMap,Q=new WeakMap,x=new WeakMap,V=new WeakMap,S=new WeakMap,e=new WeakMap,t=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,T=new WeakMap,E=new WeakMap,ie=new WeakMap,de=new WeakMap,he=new WeakMap,le=new WeakMap,Ce=new WeakMap,we=new WeakMap,ye=new WeakMap,ue=new WeakMap,te=new WeakMap,W=new WeakMap,se=new WeakMap,ce=new WeakMap,Ae=new WeakMap,Fe=new WeakMap,I=new WeakMap,Ee=new WeakMap,ve=new WeakSet;class Se{static get _keyboardManager(){const oe=Se.prototype,xe=be=>{const{activeElement:D}=document;return D&&_classPrivateFieldGet(I,be).contains(D)&&be.hasSomethingToControl()},Oe=this.TRANSLATE_SMALL,Ge=this.TRANSLATE_BIG;return(0,C.shadow)(this,"_keyboardManager",new M([[["ctrl+a","mac+meta+a"],oe.selectAll],[["ctrl+z","mac+meta+z"],oe.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],oe.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],oe.delete],[["Escape","mac+Escape"],oe.unselectAll],[["ArrowLeft","mac+ArrowLeft"],oe.translateSelectedEditors,{args:[-Oe,0],checker:xe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],oe.translateSelectedEditors,{args:[-Ge,0],checker:xe}],[["ArrowRight","mac+ArrowRight"],oe.translateSelectedEditors,{args:[Oe,0],checker:xe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],oe.translateSelectedEditors,{args:[Ge,0],checker:xe}],[["ArrowUp","mac+ArrowUp"],oe.translateSelectedEditors,{args:[0,-Oe],checker:xe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],oe.translateSelectedEditors,{args:[0,-Ge],checker:xe}],[["ArrowDown","mac+ArrowDown"],oe.translateSelectedEditors,{args:[0,Oe],checker:xe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],oe.translateSelectedEditors,{args:[0,Ge],checker:xe}]]))}constructor(oe,xe,Oe,Ge,be,D){_classPrivateMethodInitSpec(this,ve),_classPrivateFieldInitSpec(this,r,null),_classPrivateFieldInitSpec(this,l,new Map),_classPrivateFieldInitSpec(this,h,new Map),_classPrivateFieldInitSpec(this,P,null),_classPrivateFieldInitSpec(this,G,null),_classPrivateFieldInitSpec(this,K,new o),_classPrivateFieldInitSpec(this,J,0),_classPrivateFieldInitSpec(this,Q,new Set),_classPrivateFieldInitSpec(this,x,null),_classPrivateFieldInitSpec(this,V,null),_classPrivateFieldInitSpec(this,S,new Set),_classPrivateFieldInitSpec(this,e,null),_classPrivateFieldInitSpec(this,t,new p),_classPrivateFieldInitSpec(this,f,!1),_classPrivateFieldInitSpec(this,g,!1),_classPrivateFieldInitSpec(this,m,null),_classPrivateFieldInitSpec(this,T,C.AnnotationEditorType.NONE),_classPrivateFieldInitSpec(this,E,new Set),_classPrivateFieldInitSpec(this,ie,null),_classPrivateFieldInitSpec(this,de,this.blur.bind(this)),_classPrivateFieldInitSpec(this,he,this.focus.bind(this)),_classPrivateFieldInitSpec(this,le,this.copy.bind(this)),_classPrivateFieldInitSpec(this,Ce,this.cut.bind(this)),_classPrivateFieldInitSpec(this,we,this.paste.bind(this)),_classPrivateFieldInitSpec(this,ye,this.keydown.bind(this)),_classPrivateFieldInitSpec(this,ue,this.onEditingAction.bind(this)),_classPrivateFieldInitSpec(this,te,this.onPageChanging.bind(this)),_classPrivateFieldInitSpec(this,W,this.onScaleChanging.bind(this)),_classPrivateFieldInitSpec(this,se,this.onRotationChanging.bind(this)),_classPrivateFieldInitSpec(this,ce,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),_classPrivateFieldInitSpec(this,Ae,[0,0]),_classPrivateFieldInitSpec(this,Fe,null),_classPrivateFieldInitSpec(this,I,null),_classPrivateFieldInitSpec(this,Ee,null),_classPrivateFieldSet(I,this,oe),_classPrivateFieldSet(Ee,this,xe),_classPrivateFieldSet(P,this,Oe),this._eventBus=Ge,this._eventBus._on("editingaction",_classPrivateFieldGet(ue,this)),this._eventBus._on("pagechanging",_classPrivateFieldGet(te,this)),this._eventBus._on("scalechanging",_classPrivateFieldGet(W,this)),this._eventBus._on("rotationchanging",_classPrivateFieldGet(se,this)),_classPrivateFieldSet(G,this,be.annotationStorage),_classPrivateFieldSet(e,this,be.filterFactory),_classPrivateFieldSet(ie,this,D),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_assertClassBrand(ve,this,O).call(this),_assertClassBrand(ve,this,pe).call(this),this._eventBus._off("editingaction",_classPrivateFieldGet(ue,this)),this._eventBus._off("pagechanging",_classPrivateFieldGet(te,this)),this._eventBus._off("scalechanging",_classPrivateFieldGet(W,this)),this._eventBus._off("rotationchanging",_classPrivateFieldGet(se,this));for(const oe of _classPrivateFieldGet(h,this).values())oe.destroy();_classPrivateFieldGet(h,this).clear(),_classPrivateFieldGet(l,this).clear(),_classPrivateFieldGet(S,this).clear(),_classPrivateFieldSet(r,this,null),_classPrivateFieldGet(E,this).clear(),_classPrivateFieldGet(K,this).destroy(),_classPrivateFieldGet(P,this).destroy()}get hcmFilter(){return(0,C.shadow)(this,"hcmFilter",_classPrivateFieldGet(ie,this)?_classPrivateFieldGet(e,this).addHCMFilter(_classPrivateFieldGet(ie,this).foreground,_classPrivateFieldGet(ie,this).background):"none")}get direction(){return(0,C.shadow)(this,"direction",getComputedStyle(_classPrivateFieldGet(I,this)).direction)}editAltText(oe){var xe;null===(xe=_classPrivateFieldGet(P,this))||void 0===xe||xe.editAltText(this,oe)}onPageChanging({pageNumber:oe}){_classPrivateFieldSet(J,this,oe-1)}focusMainContainer(){_classPrivateFieldGet(I,this).focus()}findParent(oe,xe){for(const Oe of _classPrivateFieldGet(h,this).values()){const{x:Ge,y:be,width:D,height:j}=Oe.div.getBoundingClientRect();if(oe>=Ge&&oe<=Ge+D&&xe>=be&&xe<=be+j)return Oe}return null}disableUserSelect(oe=!1){_classPrivateFieldGet(Ee,this).classList.toggle("noUserSelect",oe)}addShouldRescale(oe){_classPrivateFieldGet(S,this).add(oe)}removeShouldRescale(oe){_classPrivateFieldGet(S,this).delete(oe)}onScaleChanging({scale:oe}){this.commitOrRemove(),this.viewParameters.realScale=oe*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xe of _classPrivateFieldGet(S,this))xe.onScaleChanging()}onRotationChanging({pagesRotation:oe}){this.commitOrRemove(),this.viewParameters.rotation=oe}addToAnnotationStorage(oe){!oe.isEmpty()&&_classPrivateFieldGet(G,this)&&!_classPrivateFieldGet(G,this).has(oe.id)&&_classPrivateFieldGet(G,this).setValue(oe.id,oe)}blur(){if(!this.hasSelection)return;const{activeElement:oe}=document;for(const xe of _classPrivateFieldGet(E,this))if(xe.div.contains(oe)){_classPrivateFieldSet(m,this,[xe,oe]),xe._focusEventsAllowed=!1;break}}focus(){if(!_classPrivateFieldGet(m,this))return;const[oe,xe]=_classPrivateFieldGet(m,this);_classPrivateFieldSet(m,this,null),xe.addEventListener("focusin",()=>{oe._focusEventsAllowed=!0},{once:!0}),xe.focus()}addEditListeners(){_assertClassBrand(ve,this,ne).call(this),_assertClassBrand(ve,this,_).call(this)}removeEditListeners(){_assertClassBrand(ve,this,O).call(this),_assertClassBrand(ve,this,H).call(this)}copy(oe){var xe;if(oe.preventDefault(),null===(xe=_classPrivateFieldGet(r,this))||void 0===xe||xe.commitOrRemove(),!this.hasSelection)return;const Oe=[];for(const Ge of _classPrivateFieldGet(E,this)){const be=Ge.serialize(!0);be&&Oe.push(be)}0!==Oe.length&&oe.clipboardData.setData("application/pdfjs",JSON.stringify(Oe))}cut(oe){this.copy(oe),this.delete()}paste(oe){oe.preventDefault();const{clipboardData:xe}=oe;for(const be of xe.items)for(const D of _classPrivateFieldGet(V,this))if(D.isHandlingMimeForPasting(be.type))return void D.paste(be,this.currentLayer);let Oe=xe.getData("application/pdfjs");if(!Oe)return;try{Oe=JSON.parse(Oe)}catch(be){return void(0,C.warn)(`paste: "${be.message}".`)}if(!Array.isArray(Oe))return;this.unselectAll();const Ge=this.currentLayer;try{const be=[];for(const ae of Oe){const fe=Ge.deserialize(ae);if(!fe)return;be.push(fe)}this.addCommands({cmd:()=>{for(const ae of be)_assertClassBrand(ve,this,U).call(this,ae);_assertClassBrand(ve,this,Me).call(this,be)},undo:()=>{for(const ae of be)ae.remove()},mustExec:!0})}catch(be){(0,C.warn)(`paste: "${be.message}".`)}}keydown(oe){var xe;null!==(xe=this.getActive())&&void 0!==xe&&xe.shouldGetKeyboardEvents()||Se._keyboardManager.exec(this,oe)}onEditingAction(oe){["undo","redo","delete","selectAll"].includes(oe.name)&&this[oe.name]()}setEditingState(oe){oe?(_assertClassBrand(ve,this,Be).call(this),_assertClassBrand(ve,this,ne).call(this),_assertClassBrand(ve,this,_).call(this),_assertClassBrand(ve,this,re).call(this,{isEditing:_classPrivateFieldGet(T,this)!==C.AnnotationEditorType.NONE,isEmpty:_assertClassBrand(ve,this,me).call(this),hasSomethingToUndo:_classPrivateFieldGet(K,this).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(K,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(_assertClassBrand(ve,this,pe).call(this),_assertClassBrand(ve,this,O).call(this),_assertClassBrand(ve,this,H).call(this),_assertClassBrand(ve,this,re).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(oe){if(!_classPrivateFieldGet(V,this)){_classPrivateFieldSet(V,this,oe);for(const xe of _classPrivateFieldGet(V,this))_assertClassBrand(ve,this,_e).call(this,xe.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(t,this).getId()}get currentLayer(){return _classPrivateFieldGet(h,this).get(_classPrivateFieldGet(J,this))}getLayer(oe){return _classPrivateFieldGet(h,this).get(oe)}get currentPageIndex(){return _classPrivateFieldGet(J,this)}addLayer(oe){_classPrivateFieldGet(h,this).set(oe.pageIndex,oe),_classPrivateFieldGet(f,this)?oe.enable():oe.disable()}removeLayer(oe){_classPrivateFieldGet(h,this).delete(oe.pageIndex)}updateMode(oe,xe=null){if(_classPrivateFieldGet(T,this)!==oe){if(_classPrivateFieldSet(T,this,oe),oe===C.AnnotationEditorType.NONE)return this.setEditingState(!1),void _assertClassBrand(ve,this,q).call(this);this.setEditingState(!0),_assertClassBrand(ve,this,ee).call(this),this.unselectAll();for(const Oe of _classPrivateFieldGet(h,this).values())Oe.updateMode(oe);if(xe)for(const Oe of _classPrivateFieldGet(l,this).values())if(Oe.annotationElementId===xe){this.setSelected(Oe),Oe.enterInEditMode();break}}}updateToolbar(oe){oe!==_classPrivateFieldGet(T,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:oe})}updateParams(oe,xe){if(_classPrivateFieldGet(V,this)){if(oe===C.AnnotationEditorParamsType.CREATE)return void this.currentLayer.addNewEditor(oe);for(const Oe of _classPrivateFieldGet(E,this))Oe.updateParams(oe,xe);for(const Oe of _classPrivateFieldGet(V,this))Oe.updateDefaultParams(oe,xe)}}enableWaiting(oe=!1){if(_classPrivateFieldGet(g,this)!==oe){_classPrivateFieldSet(g,this,oe);for(const xe of _classPrivateFieldGet(h,this).values())oe?xe.disableClick():xe.enableClick(),xe.div.classList.toggle("waiting",oe)}}getEditors(oe){const xe=[];for(const Oe of _classPrivateFieldGet(l,this).values())Oe.pageIndex===oe&&xe.push(Oe);return xe}getEditor(oe){return _classPrivateFieldGet(l,this).get(oe)}addEditor(oe){_classPrivateFieldGet(l,this).set(oe.id,oe)}removeEditor(oe){var xe;_classPrivateFieldGet(l,this).delete(oe.id),this.unselect(oe),oe.annotationElementId&&_classPrivateFieldGet(Q,this).has(oe.annotationElementId)||null===(xe=_classPrivateFieldGet(G,this))||void 0===xe||xe.remove(oe.id)}addDeletedAnnotationElement(oe){_classPrivateFieldGet(Q,this).add(oe.annotationElementId),oe.deleted=!0}isDeletedAnnotationElement(oe){return _classPrivateFieldGet(Q,this).has(oe)}removeDeletedAnnotationElement(oe){_classPrivateFieldGet(Q,this).delete(oe.annotationElementId),oe.deleted=!1}setActiveEditor(oe){_classPrivateFieldGet(r,this)!==oe&&(_classPrivateFieldSet(r,this,oe),oe&&_assertClassBrand(ve,this,_e).call(this,oe.propertiesToUpdate))}toggleSelected(oe){if(_classPrivateFieldGet(E,this).has(oe))return _classPrivateFieldGet(E,this).delete(oe),oe.unselect(),void _assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(E,this).add(oe),oe.select(),_assertClassBrand(ve,this,_e).call(this,oe.propertiesToUpdate),_assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:!0})}setSelected(oe){for(const xe of _classPrivateFieldGet(E,this))xe!==oe&&xe.unselect();_classPrivateFieldGet(E,this).clear(),_classPrivateFieldGet(E,this).add(oe),oe.select(),_assertClassBrand(ve,this,_e).call(this,oe.propertiesToUpdate),_assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:!0})}isSelected(oe){return _classPrivateFieldGet(E,this).has(oe)}unselect(oe){oe.unselect(),_classPrivateFieldGet(E,this).delete(oe),_assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(E,this).size}undo(){_classPrivateFieldGet(K,this).undo(),_assertClassBrand(ve,this,re).call(this,{hasSomethingToUndo:_classPrivateFieldGet(K,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_assertClassBrand(ve,this,me).call(this)})}redo(){_classPrivateFieldGet(K,this).redo(),_assertClassBrand(ve,this,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(K,this).hasSomethingToRedo(),isEmpty:_assertClassBrand(ve,this,me).call(this)})}addCommands(oe){_classPrivateFieldGet(K,this).add(oe),_assertClassBrand(ve,this,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_assertClassBrand(ve,this,me).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const oe=[..._classPrivateFieldGet(E,this)];this.addCommands({cmd:()=>{for(const Ge of oe)Ge.remove()},undo:()=>{for(const Ge of oe)_assertClassBrand(ve,this,U).call(this,Ge)},mustExec:!0})}commitOrRemove(){var oe;null===(oe=_classPrivateFieldGet(r,this))||void 0===oe||oe.commitOrRemove()}hasSomethingToControl(){return _classPrivateFieldGet(r,this)||this.hasSelection}selectAll(){for(const oe of _classPrivateFieldGet(E,this))oe.commit();_assertClassBrand(ve,this,Me).call(this,_classPrivateFieldGet(l,this).values())}unselectAll(){if(_classPrivateFieldGet(r,this))_classPrivateFieldGet(r,this).commitOrRemove();else if(this.hasSelection){for(const oe of _classPrivateFieldGet(E,this))oe.unselect();_classPrivateFieldGet(E,this).clear(),_assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(oe,xe,Oe=!1){if(Oe||this.commitOrRemove(),!this.hasSelection)return;_classPrivateFieldGet(Ae,this)[0]+=oe,_classPrivateFieldGet(Ae,this)[1]+=xe;const[Ge,be]=_classPrivateFieldGet(Ae,this),D=[..._classPrivateFieldGet(E,this)];_classPrivateFieldGet(Fe,this)&&clearTimeout(_classPrivateFieldGet(Fe,this)),_classPrivateFieldSet(Fe,this,setTimeout(()=>{_classPrivateFieldSet(Fe,this,null),_classPrivateFieldGet(Ae,this)[0]=_classPrivateFieldGet(Ae,this)[1]=0,this.addCommands({cmd:()=>{for(const ae of D)_classPrivateFieldGet(l,this).has(ae.id)&&ae.translateInPage(Ge,be)},undo:()=>{for(const ae of D)_classPrivateFieldGet(l,this).has(ae.id)&&ae.translateInPage(-Ge,-be)},mustExec:!1})},1e3));for(const ae of D)ae.translateInPage(oe,xe)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_classPrivateFieldSet(x,this,new Map);for(const oe of _classPrivateFieldGet(E,this))_classPrivateFieldGet(x,this).set(oe,{savedX:oe.x,savedY:oe.y,savedPageIndex:oe.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_classPrivateFieldGet(x,this))return!1;this.disableUserSelect(!1);const oe=_classPrivateFieldGet(x,this);_classPrivateFieldSet(x,this,null);let xe=!1;for(const[{x:Ge,y:be,pageIndex:D},j]of oe)j.newX=Ge,j.newY=be,j.newPageIndex=D,xe||(xe=Ge!==j.savedX||be!==j.savedY||D!==j.savedPageIndex);if(!xe)return!1;const Oe=(Ge,be,D,j)=>{if(_classPrivateFieldGet(l,this).has(Ge.id)){const ae=_classPrivateFieldGet(h,this).get(j);ae?Ge._setParentAndPosition(ae,be,D):(Ge.pageIndex=j,Ge.x=be,Ge.y=D)}};return this.addCommands({cmd:()=>{for(const[Ge,{newX:be,newY:D,newPageIndex:j}]of oe)Oe(Ge,be,D,j)},undo:()=>{for(const[Ge,{savedX:be,savedY:D,savedPageIndex:j}]of oe)Oe(Ge,be,D,j)},mustExec:!0}),!0}dragSelectedEditors(oe,xe){if(_classPrivateFieldGet(x,this))for(const Oe of _classPrivateFieldGet(x,this).keys())Oe.drag(oe,xe)}rebuild(oe){if(null===oe.parent){const xe=this.getLayer(oe.pageIndex);xe?(xe.changeParent(oe),xe.addOrRebuild(oe)):(this.addEditor(oe),this.addToAnnotationStorage(oe),oe.rebuild())}else oe.parent.addOrRebuild(oe)}isActive(oe){return _classPrivateFieldGet(r,this)===oe}getActive(){return _classPrivateFieldGet(r,this)}getMode(){return _classPrivateFieldGet(T,this)}get imageManager(){return(0,C.shadow)(this,"imageManager",new y)}}function Be(){window.addEventListener("focus",_classPrivateFieldGet(he,this)),window.addEventListener("blur",_classPrivateFieldGet(de,this))}function pe(){window.removeEventListener("focus",_classPrivateFieldGet(he,this)),window.removeEventListener("blur",_classPrivateFieldGet(de,this))}function ne(){window.addEventListener("keydown",_classPrivateFieldGet(ye,this),{capture:!0})}function O(){window.removeEventListener("keydown",_classPrivateFieldGet(ye,this),{capture:!0})}function _(){document.addEventListener("copy",_classPrivateFieldGet(le,this)),document.addEventListener("cut",_classPrivateFieldGet(Ce,this)),document.addEventListener("paste",_classPrivateFieldGet(we,this))}function H(){document.removeEventListener("copy",_classPrivateFieldGet(le,this)),document.removeEventListener("cut",_classPrivateFieldGet(Ce,this)),document.removeEventListener("paste",_classPrivateFieldGet(we,this))}function re(Re){Object.entries(Re).some(([xe,Oe])=>_classPrivateFieldGet(ce,this)[xe]!==Oe)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(ce,this),Re)})}function _e(Re){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Re})}function ee(){if(!_classPrivateFieldGet(f,this)){_classPrivateFieldSet(f,this,!0);for(const Re of _classPrivateFieldGet(h,this).values())Re.enable()}}function q(){if(this.unselectAll(),_classPrivateFieldGet(f,this)){_classPrivateFieldSet(f,this,!1);for(const Re of _classPrivateFieldGet(h,this).values())Re.disable()}}function U(Re){const oe=_classPrivateFieldGet(h,this).get(Re.pageIndex);oe?oe.addOrRebuild(Re):this.addEditor(Re)}function me(){if(0===_classPrivateFieldGet(l,this).size)return!0;if(1===_classPrivateFieldGet(l,this).size)for(const Re of _classPrivateFieldGet(l,this).values())return Re.isEmpty();return!1}function Me(Re){_classPrivateFieldGet(E,this).clear();for(const oe of Re)oe.isEmpty()||(_classPrivateFieldGet(E,this).add(oe),oe.select());_assertClassBrand(ve,this,re).call(this,{hasSelectedEditor:!0})}return _defineProperty(Se,"TRANSLATE_SMALL",1),_defineProperty(Se,"TRANSLATE_BIG",10),Se})()},(X,s,L)=>{var i;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=function E(te){console.log("Deprecated API usage: "+te)},s.getColorValues=function Ce(te){const W=document.createElement("span");W.style.visibility="hidden",document.body.append(W);for(const se of te.keys()){W.style.color=se;const ce=window.getComputedStyle(W).color;te.set(se,le(ce))}W.remove()},s.getCurrentTransform=function we(te){const{a:W,b:se,c:ce,d:Ae,e:Fe,f:I}=te.getTransform();return[W,se,ce,Ae,Fe,I]},s.getCurrentTransformInverse=function ye(te){const{a:W,b:se,c:ce,d:Ae,e:Fe,f:I}=te.getTransform().invertSelf();return[W,se,ce,Ae,Fe,I]},s.getFilenameFromUrl=function e(te,W=!1){return W||([te]=te.split(/[#?]/,1)),te.substring(te.lastIndexOf("/")+1)},s.getPdfFilenameFromUrl=function t(te,W="document.pdf"){if("string"!=typeof te)return W;if(V(te))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),W;const ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ae=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(te);let Fe=ce.exec(Ae[1])||ce.exec(Ae[2])||ce.exec(Ae[3]);if(Fe&&(Fe=Fe[0],Fe.includes("%")))try{Fe=ce.exec(decodeURIComponent(Fe))[0]}catch{}return Fe||W},s.getRGB=le,s.getXfaPageViewport=function he(te,{scale:W=1,rotation:se=0}){const{width:ce,height:Ae}=te.attributes.style,Fe=[0,0,parseInt(ce),parseInt(Ae)];return new Q({viewBox:Fe,scale:W,rotation:se})},s.isDataScheme=V,s.isPdfFile=function S(te){return"string"==typeof te&&/\.pdf$/i.test(te)},s.isValidFetchUrl=g,s.loadScript=function T(te,W=!1){return new Promise((se,ce)=>{const Ae=document.createElement("script");Ae.src=te,Ae.onload=function(Fe){W&&Ae.remove(),se(Fe)},Ae.onerror=function(){ce(new Error(`Cannot load script at: ${Ae.src}`))},(document.head||document.documentElement).append(Ae)})},s.noContextMenu=function m(te){te.preventDefault()},s.setLayerDimensions=function ue(te,W,se=!1,ce=!0){if(W instanceof Q){const{pageWidth:Ae,pageHeight:Fe}=W.rawDims,{style:I}=te,Ee=R.FeatureTest.isCSSRoundSupported,ve=`var(--scale-factor) * ${Ae}px`,Se=`var(--scale-factor) * ${Fe}px`,Be=Ee?`round(${ve}, 1px)`:`calc(${ve})`,pe=Ee?`round(${Se}, 1px)`:`calc(${Se})`;se&&W.rotation%180!=0?(I.width=pe,I.height=Be):(I.width=Be,I.height=pe)}ce&&te.setAttribute("data-main-rotation",W.rotation)};var C=L(7),R=L(1);const z="http://www.w3.org/2000/svg";class F{}i=F,_defineProperty(F,"CSS",96),_defineProperty(F,"PDF",72),_defineProperty(F,"PDF_TO_CSS_UNITS",i.CSS/i.PDF),s.PixelsPerInch=F;var w=new WeakMap,p=new WeakMap,b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakMap,v=new WeakSet;function o(te){return _classPrivateFieldGet(w,te)||_classPrivateFieldSet(w,te,new Map)}function n(te){if(!_classPrivateFieldGet(p,te)){const W=_classPrivateFieldGet($,te).createElement("div"),{style:se}=W;se.visibility="hidden",se.contain="strict",se.width=se.height=0,se.position="absolute",se.top=se.left=0,se.zIndex=-1;const ce=_classPrivateFieldGet($,te).createElementNS(z,"svg");ce.setAttribute("width",0),ce.setAttribute("height",0),_classPrivateFieldSet(p,te,_classPrivateFieldGet($,te).createElementNS(z,"defs")),W.append(ce),ce.append(_classPrivateFieldGet(p,te)),_classPrivateFieldGet($,te).body.append(W)}return _classPrivateFieldGet(p,te)}function M(te){const W=_classPrivateFieldGet($,this).createElementNS(z,"feColorMatrix");W.setAttribute("type","matrix"),W.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),te.append(W)}function B(te){const W=_classPrivateFieldGet($,this).createElementNS(z,"filter");return W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("id",te),_classPrivateGetter(v,this,n).append(W),W}function k(te,W,se){const ce=_classPrivateFieldGet($,this).createElementNS(z,W);ce.setAttribute("type","discrete"),ce.setAttribute("tableValues",se),te.append(ce)}function Y(te,W,se,ce){const Ae=_classPrivateFieldGet($,this).createElementNS(z,"feComponentTransfer");ce.append(Ae),_assertClassBrand(v,this,k).call(this,Ae,"feFuncR",te),_assertClassBrand(v,this,k).call(this,Ae,"feFuncG",W),_assertClassBrand(v,this,k).call(this,Ae,"feFuncB",se)}function r(te){return _classPrivateGetter(v,this,n).style.color=te,le(getComputedStyle(_classPrivateGetter(v,this,n)).getPropertyValue("color"))}function h(te){return P.apply(this,arguments)}function P(){return(P=_asyncToGenerator(function*(te,W=!1){if(g(te,document.baseURI)){const se=yield fetch(te);if(!se.ok)throw new Error(se.statusText);return W?new Uint8Array(yield se.arrayBuffer()):(0,R.stringToBytes)(yield se.text())}return new Promise((se,ce)=>{const Ae=new XMLHttpRequest;Ae.open("GET",te,!0),W&&(Ae.responseType="arraybuffer"),Ae.onreadystatechange=()=>{if(Ae.readyState===XMLHttpRequest.DONE){if(200===Ae.status||0===Ae.status){let Fe;if(W&&Ae.response?Fe=new Uint8Array(Ae.response):!W&&Ae.responseText&&(Fe=(0,R.stringToBytes)(Ae.responseText)),Fe)return void se(Fe)}ce(new Error(Ae.statusText))}},Ae.send(null)})})).apply(this,arguments)}s.DOMFilterFactory=class A extends C.BaseFilterFactory{constructor({docId:W,ownerDocument:se=globalThis.document}={}){super(),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,w,void 0),_classPrivateFieldInitSpec(this,p,void 0),_classPrivateFieldInitSpec(this,b,void 0),_classPrivateFieldInitSpec(this,$,void 0),_classPrivateFieldInitSpec(this,Z,void 0),_classPrivateFieldInitSpec(this,N,void 0),_classPrivateFieldInitSpec(this,y,void 0),_classPrivateFieldInitSpec(this,c,void 0),_classPrivateFieldInitSpec(this,d,void 0),_classPrivateFieldInitSpec(this,a,void 0),_classPrivateFieldInitSpec(this,u,0),_classPrivateFieldSet(b,this,W),_classPrivateFieldSet($,this,se)}addFilter(W){var se,ce;if(!W)return"none";let Fe,I,Ee,ve,Ae=_classPrivateGetter(v,this,o).get(W);if(Ae)return Ae;if(1===W.length){const ne=W[0],O=new Array(256);for(let _=0;_<256;_++)O[_]=ne[_]/255;ve=Fe=I=Ee=O.join(",")}else{const[ne,O,_]=W,H=new Array(256),re=new Array(256),_e=new Array(256);for(let ee=0;ee<256;ee++)H[ee]=ne[ee]/255,re[ee]=O[ee]/255,_e[ee]=_[ee]/255;Fe=H.join(","),I=re.join(","),Ee=_e.join(","),ve=`${Fe}${I}${Ee}`}if(Ae=_classPrivateGetter(v,this,o).get(ve),Ae)return _classPrivateGetter(v,this,o).set(W,Ae),Ae;const Se=`g_${_classPrivateFieldGet(b,this)}_transfer_map_${_classPrivateFieldSet(u,this,(se=_classPrivateFieldGet(u,this),ce=se++,se)),ce}`,Be=`url(#${Se})`;_classPrivateGetter(v,this,o).set(W,Be),_classPrivateGetter(v,this,o).set(ve,Be);const pe=_assertClassBrand(v,this,B).call(this,Se);return _assertClassBrand(v,this,Y).call(this,Fe,I,Ee,pe),Be}addHCMFilter(W,se){var ce;const Ae=`${W}-${se}`;if(_classPrivateFieldGet(N,this)===Ae)return _classPrivateFieldGet(y,this);if(_classPrivateFieldSet(N,this,Ae),_classPrivateFieldSet(y,this,"none"),null===(ce=_classPrivateFieldGet(Z,this))||void 0===ce||ce.remove(),!W||!se)return _classPrivateFieldGet(y,this);const Fe=_assertClassBrand(v,this,r).call(this,W);W=R.Util.makeHexColor(...Fe);const I=_assertClassBrand(v,this,r).call(this,se);if(se=R.Util.makeHexColor(...I),_classPrivateGetter(v,this,n).style.color="","#000000"===W&&"#ffffff"===se||W===se)return _classPrivateFieldGet(y,this);const Ee=new Array(256);for(let ne=0;ne<=255;ne++){const O=ne/255;Ee[ne]=O<=.03928?O/12.92:((O+.055)/1.055)**2.4}const ve=Ee.join(","),Se=`g_${_classPrivateFieldGet(b,this)}_hcm_filter`,Be=_classPrivateFieldSet(c,this,_assertClassBrand(v,this,B).call(this,Se));_assertClassBrand(v,this,Y).call(this,ve,ve,ve,Be),_assertClassBrand(v,this,M).call(this,Be);const pe=(ne,O)=>{const _=Fe[ne]/255,H=I[ne]/255,re=new Array(O+1);for(let _e=0;_e<=O;_e++)re[_e]=_+_e/O*(H-_);return re.join(",")};return _assertClassBrand(v,this,Y).call(this,pe(0,5),pe(1,5),pe(2,5),Be),_classPrivateFieldSet(y,this,`url(#${Se})`),_classPrivateFieldGet(y,this)}addHighlightHCMFilter(W,se,ce,Ae){var Fe;const I=`${W}-${se}-${ce}-${Ae}`;if(_classPrivateFieldGet(d,this)===I)return _classPrivateFieldGet(a,this);if(_classPrivateFieldSet(d,this,I),_classPrivateFieldSet(a,this,"none"),null===(Fe=_classPrivateFieldGet(c,this))||void 0===Fe||Fe.remove(),!W||!se)return _classPrivateFieldGet(a,this);const[Ee,ve]=[W,se].map(_assertClassBrand(v,this,r).bind(this));let Se=Math.round(.2126*Ee[0]+.7152*Ee[1]+.0722*Ee[2]),Be=Math.round(.2126*ve[0]+.7152*ve[1]+.0722*ve[2]),[pe,ne]=[ce,Ae].map(_assertClassBrand(v,this,r).bind(this));Be<Se&&([Se,Be,pe,ne]=[Be,Se,ne,pe]),_classPrivateGetter(v,this,n).style.color="";const O=(re,_e,ee)=>{const q=new Array(256),U=(Be-Se)/ee,me=re/255,Me=(_e-re)/(255*ee);let Re=0;for(let oe=0;oe<=ee;oe++){const xe=Math.round(Se+oe*U),Oe=me+oe*Me;for(let Ge=Re;Ge<=xe;Ge++)q[Ge]=Oe;Re=xe+1}for(let oe=Re;oe<256;oe++)q[oe]=q[Re-1];return q.join(",")},_=`g_${_classPrivateFieldGet(b,this)}_hcm_highlight_filter`,H=_classPrivateFieldSet(c,this,_assertClassBrand(v,this,B).call(this,_));return _assertClassBrand(v,this,M).call(this,H),_assertClassBrand(v,this,Y).call(this,O(pe[0],ne[0],5),O(pe[1],ne[1],5),O(pe[2],ne[2],5),H),_classPrivateFieldSet(a,this,`url(#${_})`),_classPrivateFieldGet(a,this)}destroy(W=!1){W&&(_classPrivateFieldGet(y,this)||_classPrivateFieldGet(a,this))||(_classPrivateFieldGet(p,this)&&(_classPrivateFieldGet(p,this).parentNode.parentNode.remove(),_classPrivateFieldSet(p,this,null)),_classPrivateFieldGet(w,this)&&(_classPrivateFieldGet(w,this).clear(),_classPrivateFieldSet(w,this,null)),_classPrivateFieldSet(u,this,0))}},s.DOMCanvasFactory=class l extends C.BaseCanvasFactory{constructor({ownerDocument:W=globalThis.document}={}){super(),this._document=W}_createCanvas(W,se){const ce=this._document.createElement("canvas");return ce.width=W,ce.height=se,ce}},s.DOMCMapReaderFactory=class G extends C.BaseCMapReaderFactory{_fetchData(W,se){return h(W,this.isCompressed).then(ce=>({cMapData:ce,compressionType:se}))}},s.DOMStandardFontDataFactory=class K extends C.BaseStandardFontDataFactory{_fetchData(W){return h(W,!0)}},s.DOMSVGFactory=class J extends C.BaseSVGFactory{_createSVG(W){return document.createElementNS(z,W)}};class Q{constructor({viewBox:W,scale:se,rotation:ce,offsetX:Ae=0,offsetY:Fe=0,dontFlip:I=!1}){this.viewBox=W,this.scale=se,this.rotation=ce,this.offsetX=Ae,this.offsetY=Fe;const Ee=(W[2]+W[0])/2,ve=(W[3]+W[1])/2;let Se,Be,pe,ne,O,_,H,re;switch((ce%=360)<0&&(ce+=360),ce){case 180:Se=-1,Be=0,pe=0,ne=1;break;case 90:Se=0,Be=1,pe=1,ne=0;break;case 270:Se=0,Be=-1,pe=-1,ne=0;break;case 0:Se=1,Be=0,pe=0,ne=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}I&&(pe=-pe,ne=-ne),0===Se?(O=Math.abs(ve-W[1])*se+Ae,_=Math.abs(Ee-W[0])*se+Fe,H=(W[3]-W[1])*se,re=(W[2]-W[0])*se):(O=Math.abs(Ee-W[0])*se+Ae,_=Math.abs(ve-W[1])*se+Fe,H=(W[2]-W[0])*se,re=(W[3]-W[1])*se),this.transform=[Se*se,Be*se,pe*se,ne*se,O-Se*se*Ee-pe*se*ve,_-Be*se*Ee-ne*se*ve],this.width=H,this.height=re}get rawDims(){const{viewBox:W}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:W[2]-W[0],pageHeight:W[3]-W[1],pageX:W[0],pageY:W[1]})}clone({scale:W=this.scale,rotation:se=this.rotation,offsetX:ce=this.offsetX,offsetY:Ae=this.offsetY,dontFlip:Fe=!1}={}){return new Q({viewBox:this.viewBox.slice(),scale:W,rotation:se,offsetX:ce,offsetY:Ae,dontFlip:Fe})}convertToViewportPoint(W,se){return R.Util.applyTransform([W,se],this.transform)}convertToViewportRectangle(W){const se=R.Util.applyTransform([W[0],W[1]],this.transform),ce=R.Util.applyTransform([W[2],W[3]],this.transform);return[se[0],se[1],ce[0],ce[1]]}convertToPdfPoint(W,se){return R.Util.applyInverseTransform([W,se],this.transform)}}function V(te){const W=te.length;let se=0;for(;se<W&&""===te[se].trim();)se++;return"data:"===te.substring(se,se+5).toLowerCase()}function g(te,W){try{const{protocol:se}=W?new URL(te,W):new URL(te);return"http:"===se||"https:"===se}catch{return!1}}let ie;function le(te){if(te.startsWith("#")){const W=parseInt(te.slice(1),16);return[(16711680&W)>>16,(65280&W)>>8,255&W]}return te.startsWith("rgb(")?te.slice(4,-1).split(",").map(W=>parseInt(W)):te.startsWith("rgba(")?te.slice(5,-1).split(",").map(W=>parseInt(W)).slice(0,3):((0,R.warn)(`Not a valid color format: "${te}"`),[0,0,0])}s.PageViewport=Q,s.RenderingCancelledException=class x extends R.BaseException{constructor(W,se=0){super(W,"RenderingCancelledException"),this.extraDelay=se}},s.StatTimer=class f{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(W){W in this.started&&(0,R.warn)(`Timer is already running for ${W}`),this.started[W]=Date.now()}timeEnd(W){W in this.started||(0,R.warn)(`Timer has not been started for ${W}`),this.times.push({name:W,start:this.started[W],end:Date.now()}),delete this.started[W]}toString(){const W=[];let se=0;for(const{name:ce}of this.times)se=Math.max(ce.length,se);for(const{name:ce,start:Ae,end:Fe}of this.times)W.push(`${ce.padEnd(se)} ${Fe-Ae}ms\n`);return W.join("")}},s.PDFDateString=class de{static toDateObject(W){if(!W||"string"!=typeof W)return null;ie||(ie=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const se=ie.exec(W);if(!se)return null;const ce=parseInt(se[1],10);let Ae=parseInt(se[2],10);Ae=Ae>=1&&Ae<=12?Ae-1:0;let Fe=parseInt(se[3],10);Fe=Fe>=1&&Fe<=31?Fe:1;let I=parseInt(se[4],10);I=I>=0&&I<=23?I:0;let Ee=parseInt(se[5],10);Ee=Ee>=0&&Ee<=59?Ee:0;let ve=parseInt(se[6],10);ve=ve>=0&&ve<=59?ve:0;const Se=se[7]||"Z";let Be=parseInt(se[8],10);Be=Be>=0&&Be<=23?Be:0;let pe=parseInt(se[9],10)||0;return pe=pe>=0&&pe<=59?pe:0,"-"===Se?(I+=Be,Ee+=pe):"+"===Se&&(I-=Be,Ee-=pe),new Date(Date.UTC(ce,Ae,Fe,I,Ee,ve))}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var i=L(1);class C{constructor(){this.constructor===C&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,$){return"none"}addHighlightHCMFilter(b,$,Z,N){return"none"}destroy(b=!1){}}s.BaseFilterFactory=C;class R{constructor(){this.constructor===R&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,$){if(b<=0||$<=0)throw new Error("Invalid canvas size");const Z=this._createCanvas(b,$);return{canvas:Z,context:Z.getContext("2d")}}reset(b,$,Z){if(!b.canvas)throw new Error("Canvas is not specified");if($<=0||Z<=0)throw new Error("Invalid canvas size");b.canvas.width=$,b.canvas.height=Z}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,$){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=R;class z{constructor({baseUrl:b=null,isCompressed:$=!0}){this.constructor===z&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=$}fetch({name:b}){var $=this;return _asyncToGenerator(function*(){if(!$.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const Z=$.baseUrl+b+($.isCompressed?".bcmap":"");return $._fetchData(Z,$.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(y=>{throw new Error(`Unable to load ${$.isCompressed?"binary ":""}CMap at: ${Z}`)})})()}_fetchData(b,$){(0,i.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=z;class F{constructor({baseUrl:b=null}){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}fetch({filename:b}){var $=this;return _asyncToGenerator(function*(){if(!$.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const Z=`${$.baseUrl}${b}`;return $._fetchData(Z).catch(N=>{throw new Error(`Unable to load font data at: ${Z}`)})})()}_fetchData(b){(0,i.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=F;class w{constructor(){this.constructor===w&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,$,Z=!1){if(b<=0||$<=0)throw new Error("Invalid SVG dimensions");const N=this._createSVG("svg:svg");return N.setAttribute("version","1.1"),Z||(N.setAttribute("width",`${b}px`),N.setAttribute("height",`${$}px`)),N.setAttribute("preserveAspectRatio","none"),N.setAttribute("viewBox",`0 0 ${b} ${$}`),N}createElement(b){if("string"!=typeof b)throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,i.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=w},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var i=L(1);const C=3285377520,R=4294901760,z=65535;s.MurmurHash3_64=class F{constructor(p){this.h1=p?4294967295&p:C,this.h2=p?4294967295&p:C}update(p){let b,$;if("string"==typeof p){b=new Uint8Array(2*p.length),$=0;for(let M=0,B=p.length;M<B;M++){const k=p.charCodeAt(M);k<=255?b[$++]=k:(b[$++]=k>>>8,b[$++]=255&k)}}else{if(!(0,i.isArrayBuffer)(p))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");b=p.slice(),$=b.byteLength}const Z=$>>2,N=$-4*Z,y=new Uint32Array(b.buffer,0,Z);let c=0,d=0,a=this.h1,u=this.h2;const v=3432918353,A=461845907,o=v&z,n=A&z;for(let M=0;M<Z;M++)1&M?(c=y[M],c=c*v&R|c*o&z,c=c<<15|c>>>17,c=c*A&R|c*n&z,a^=c,a=a<<13|a>>>19,a=5*a+3864292196):(d=y[M],d=d*v&R|d*o&z,d=d<<15|d>>>17,d=d*A&R|d*n&z,u^=d,u=u<<13|u>>>19,u=5*u+3864292196);switch(c=0,N){case 3:c^=b[4*Z+2]<<16;case 2:c^=b[4*Z+1]<<8;case 1:c^=b[4*Z],c=c*v&R|c*o&z,c=c<<15|c>>>17,c=c*A&R|c*n&z,1&Z?a^=c:u^=c}this.h1=a,this.h2=u}hexdigest(){let p=this.h1,b=this.h2;return p^=b>>>1,p=3981806797*p&R|36045*p&z,b=4283543511*b&R|(2950163797*(b<<16|p>>>16)&R)>>>16,p^=b>>>1,p=444984403*p&R|60499*p&z,b=3301882366*b&R|(3120437893*(b<<16|p>>>16)&R)>>>16,p^=b>>>1,(p>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var i=L(1),C=new WeakMap;s.FontLoader=class R{constructor({ownerDocument:w=globalThis.document,styleElement:p=null}){_classPrivateFieldInitSpec(this,C,new Set),this._document=w,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(w){this.nativeFontFaces.add(w),this._document.fonts.add(w)}removeNativeFontFace(w){this.nativeFontFaces.delete(w),this._document.fonts.delete(w)}insertRule(w){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const p=this.styleElement.sheet;p.insertRule(w,p.cssRules.length)}clear(){for(const w of this.nativeFontFaces)this._document.fonts.delete(w);this.nativeFontFaces.clear(),_classPrivateFieldGet(C,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(w){var p=this;return _asyncToGenerator(function*(){if(w&&!_classPrivateFieldGet(C,p).has(w.loadedName)){if((0,i.assert)(!p.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),p.isFontLoadingAPISupported){const{loadedName:b,src:$,style:Z}=w,N=new FontFace(b,$,Z);p.addNativeFontFace(N);try{yield N.load(),_classPrivateFieldGet(C,p).add(b)}catch{(0,i.warn)(`Cannot load system font: ${w.baseFontName}, installing it could help to improve PDF rendering.`),p.removeNativeFontFace(N)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(w){var p=this;return _asyncToGenerator(function*(){if(w.attached||w.missingFile&&!w.systemFontInfo)return;if(w.attached=!0,w.systemFontInfo)return void(yield p.loadSystemFont(w.systemFontInfo));if(p.isFontLoadingAPISupported){const $=w.createNativeFontFace();if($){p.addNativeFontFace($);try{yield $.loaded}catch(Z){throw(0,i.warn)(`Failed to load font '${$.family}': '${Z}'.`),w.disableFontFace=!0,Z}}return}const b=w.createFontFaceRule();if(b){if(p.insertRule(b),p.isSyncFontLoadingSupported)return;yield new Promise($=>{const Z=p._queueLoadingCallback($);p._prepareFontLoadEvent(w,Z)})}})()}get isFontLoadingAPISupported(){var w;const p=!(null===(w=this._document)||void 0===w||!w.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",p)}get isSyncFontLoadingSupported(){let w=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(w=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",w)}_queueLoadingCallback(w){const{loadingRequests:b}=this,$={done:!1,complete:function p(){for((0,i.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;b.length>0&&b[0].done;){const Z=b.shift();setTimeout(Z.callback,0)}},callback:w};return b.push($),$}get _loadTestFont(){const w=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",w)}_prepareFontLoadEvent(w,p){function b(r,l){return r.charCodeAt(l)<<24|r.charCodeAt(l+1)<<16|r.charCodeAt(l+2)<<8|255&r.charCodeAt(l+3)}function $(r,l,h,P){return r.substring(0,l)+P+r.substring(l+h)}let Z,N;const y=this._document.createElement("canvas");y.width=1,y.height=1;const c=y.getContext("2d");let d=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=$(v,976,u.length,u);const n=1482184792;let M=b(v,16);for(Z=0,N=u.length-3;Z<N;Z+=4)M=M-n+b(u,Z)|0;Z<u.length&&(M=M-n+b(u+"XXX",Z)|0),v=$(v,16,4,(0,i.string32)(M));const B=`url(data:font/opentype;base64,${btoa(v)});`;this.insertRule(`@font-face {font-family:"${u}";src:${B}}`);const Y=this._document.createElement("div");Y.style.visibility="hidden",Y.style.width=Y.style.height="10px",Y.style.position="absolute",Y.style.top=Y.style.left="0px";for(const r of[w.loadedName,u]){const l=this._document.createElement("span");l.textContent="Hi",l.style.fontFamily=r,Y.append(l)}this._document.body.append(Y),function a(r,l){if(++d>30)return(0,i.warn)("Load test font never loaded."),void l();c.font="30px "+r,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?l():setTimeout(a.bind(null,r,l))}(u,()=>{Y.remove(),p.complete()})}},s.FontFaceObject=class z{constructor(w,{isEvalSupported:p=!0,disableFontFace:b=!1,ignoreErrors:$=!1,inspectFont:Z=null}){this.compiledGlyphs=Object.create(null);for(const N in w)this[N]=w[N];this.isEvalSupported=!1!==p,this.disableFontFace=!0===b,this.ignoreErrors=!0===$,this._inspectFont=Z}createNativeFontFace(){var w;if(!this.data||this.disableFontFace)return null;let p;if(this.cssFontInfo){const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),p=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}else p=new FontFace(this.loadedName,this.data,{});return null===(w=this._inspectFont)||void 0===w||w.call(this,this),p}createFontFaceRule(){var w;if(!this.data||this.disableFontFace)return null;const p=(0,i.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(p)});`;let $;if(this.cssFontInfo){let Z=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Z+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Z}src:${b}}`}else $=`@font-face {font-family:"${this.loadedName}";src:${b}}`;return null===(w=this._inspectFont)||void 0===w||w.call(this,this,b),$}getPathGenerator(w,p){if(void 0!==this.compiledGlyphs[p])return this.compiledGlyphs[p];let b;try{b=w.get(this.loadedName+"_path_"+p)}catch($){if(!this.ignoreErrors)throw $;return(0,i.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[p]=function(Z,N){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const $=[];for(const Z of b){const N=void 0!==Z.args?Z.args.join(","):"";$.push("c.",Z.cmd,"(",N,");\n")}return this.compiledGlyphs[p]=new Function("c","size",$.join(""))}return this.compiledGlyphs[p]=function($,Z){for(const N of b)"scale"===N.cmd&&(N.args=[Z,-Z]),$[N.cmd].apply($,N.args)}}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var i=L(7);L(1);const R=function(b){return new Promise(($,Z)=>{__webpack_require__(23237).readFile(b,(y,c)=>{!y&&c?$(new Uint8Array(c)):Z(new Error(y))})})};s.NodeFilterFactory=class z extends i.BaseFilterFactory{},s.NodeCanvasFactory=class F extends i.BaseCanvasFactory{_createCanvas($,Z){return __webpack_require__(17640).createCanvas($,Z)}},s.NodeCMapReaderFactory=class w extends i.BaseCMapReaderFactory{_fetchData($,Z){return R($).then(N=>({cMapData:N,compressionType:Z}))}},s.NodeStandardFontDataFactory=class p extends i.BaseStandardFontDataFactory{_fetchData($){return R($)}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var i=L(1),C=L(6),R=L(12),z=L(13);const p=4096,N=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,f){let g;return void 0!==this.cache[e]?(g=this.cache[e],this.canvasFactory.reset(g,t,f)):(g=this.canvasFactory.create(t,f),this.cache[e]=g),g}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function d(S,e,t,f,g,m,T,E,ie,de){const[he,le,Ce,we,ye,ue]=(0,C.getCurrentTransform)(S);if(0===le&&0===Ce){const ce=Math.round(T*he+ye),Fe=Math.round(E*we+ue),Ee=Math.abs(Math.round((T+ie)*he+ye)-ce)||1,Se=Math.abs(Math.round((E+de)*we+ue)-Fe)||1;return S.setTransform(Math.sign(he),0,0,Math.sign(we),ce,Fe),S.drawImage(e,t,f,g,m,0,0,Ee,Se),S.setTransform(he,le,Ce,we,ye,ue),[Ee,Se]}if(0===he&&0===we){const ce=Math.round(E*Ce+ye),Fe=Math.round(T*le+ue),Ee=Math.abs(Math.round((E+de)*Ce+ye)-ce)||1,Se=Math.abs(Math.round((T+ie)*le+ue)-Fe)||1;return S.setTransform(0,Math.sign(le),Math.sign(Ce),0,ce,Fe),S.drawImage(e,t,f,g,m,0,0,Se,Ee),S.setTransform(he,le,Ce,we,ye,ue),[Se,Ee]}return S.drawImage(e,t,f,g,m,T,E,ie,de),[Math.hypot(he,le)*ie,Math.hypot(Ce,we)*de]}class u{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,f){[t,f]=i.Util.applyTransform([t,f],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,f),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,f)}updateRectMinMax(e,t){const f=i.Util.applyTransform(t,e),g=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,f[0],g[0]),this.minY=Math.min(this.minY,f[1],g[1]),this.maxX=Math.max(this.maxX,f[0],g[0]),this.maxY=Math.max(this.maxY,f[1],g[1])}updateScalingPathMinMax(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,f,g,m,T,E,ie,de,he){const le=i.Util.bezierBoundingBox(t,f,g,m,T,E,ie,de);if(he)return he[0]=Math.min(he[0],le[0],le[2]),he[1]=Math.max(he[1],le[0],le[2]),he[2]=Math.min(he[2],le[1],le[3]),void(he[3]=Math.max(he[3],le[1],le[3]));this.updateRectMinMax(e,le)}getPathBoundingBox(e=R.PathType.FILL,t=null){const f=[this.minX,this.minY,this.maxX,this.maxY];if(e===R.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");const g=i.Util.singularValueDecompose2dScale(t),m=g[0]*this.lineWidth/2,T=g[1]*this.lineWidth/2;f[0]-=m,f[1]-=T,f[2]+=m,f[3]+=T}return f}updateClipFromPath(){const e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=R.PathType.FILL,t=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function v(S,e){if(typeof ImageData<"u"&&e instanceof ImageData)return void S.putImageData(e,0,0);const t=e.height,f=e.width,g=t%N,m=(t-g)/N,T=0===g?m:m+1,E=S.createImageData(f,N);let de,ie=0;const he=e.data,le=E.data;let Ce,we,ye,ue;if(e.kind===i.ImageKind.GRAYSCALE_1BPP){const te=he.byteLength,W=new Uint32Array(le.buffer,0,le.byteLength>>2),se=W.length,ce=f+7>>3,Ae=4294967295,Fe=i.FeatureTest.isLittleEndian?4278190080:255;for(Ce=0;Ce<T;Ce++){for(ye=Ce<m?N:g,de=0,we=0;we<ye;we++){const I=te-ie;let Ee=0;const ve=I>ce?f:8*I-7,Se=-8&ve;let Be=0,pe=0;for(;Ee<Se;Ee+=8)pe=he[ie++],W[de++]=128&pe?Ae:Fe,W[de++]=64&pe?Ae:Fe,W[de++]=32&pe?Ae:Fe,W[de++]=16&pe?Ae:Fe,W[de++]=8&pe?Ae:Fe,W[de++]=4&pe?Ae:Fe,W[de++]=2&pe?Ae:Fe,W[de++]=1&pe?Ae:Fe;for(;Ee<ve;Ee++)0===Be&&(pe=he[ie++],Be=128),W[de++]=pe&Be?Ae:Fe,Be>>=1}for(;de<se;)W[de++]=0;S.putImageData(E,0,Ce*N)}}else if(e.kind===i.ImageKind.RGBA_32BPP){for(we=0,ue=f*N*4,Ce=0;Ce<m;Ce++)le.set(he.subarray(ie,ie+ue)),ie+=ue,S.putImageData(E,0,we),we+=N;Ce<T&&(ue=f*g*4,le.set(he.subarray(ie,ie+ue)),S.putImageData(E,0,we))}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(ye=N,ue=f*ye,Ce=0;Ce<T;Ce++){for(Ce>=m&&(ye=g,ue=f*ye),de=0,we=ue;we--;)le[de++]=he[ie++],le[de++]=he[ie++],le[de++]=he[ie++],le[de++]=255;S.putImageData(E,0,Ce*N)}}}function A(S,e){if(e.bitmap)return void S.drawImage(e.bitmap,0,0);const t=e.height,f=e.width,g=t%N,m=(t-g)/N,T=0===g?m:m+1,E=S.createImageData(f,N);let ie=0;const de=e.data,he=E.data;for(let le=0;le<T;le++){const Ce=le<m?N:g;({srcPos:ie}=(0,z.convertBlackAndWhiteToRGBA)({src:de,srcPos:ie,dest:he,width:f,height:Ce,nonBlackColor:0})),S.putImageData(E,0,le*N)}}function o(S,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const f of t)void 0!==S[f]&&(e[f]=S[f]);void 0!==S.setLineDash&&(e.setLineDash(S.getLineDash()),e.lineDashOffset=S.lineDashOffset)}function n(S){if(S.strokeStyle=S.fillStyle="#000000",S.fillRule="nonzero",S.globalAlpha=1,S.lineWidth=1,S.lineCap="butt",S.lineJoin="miter",S.miterLimit=10,S.globalCompositeOperation="source-over",S.font="10px sans-serif",void 0!==S.setLineDash&&(S.setLineDash([]),S.lineDashOffset=0),!i.isNodeJS){const{filter:e}=S;"none"!==e&&""!==e&&(S.filter="none")}}function M(S,e,t,f){const g=S.length;for(let m=3;m<g;m+=4){const T=S[m];if(0===T)S[m-3]=e,S[m-2]=t,S[m-1]=f;else if(T<255){const E=255-T;S[m-3]=S[m-3]*T+e*E>>8,S[m-2]=S[m-2]*T+t*E>>8,S[m-1]=S[m-1]*T+f*E>>8}}}function B(S,e,t){const f=S.length;for(let m=3;m<f;m+=4)e[m]=e[m]*(t?t[S[m]]:S[m])*.00392156862745098|0}function k(S,e,t){const f=S.length;for(let g=3;g<f;g+=4){const m=77*S[g-3]+152*S[g-2]+28*S[g-1];e[g]=t?e[g]*t[m>>8]>>8:e[g]*m>>16}}function l(S,e){const t=i.Util.singularValueDecompose2dScale(S);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const f=Math.fround((globalThis.devicePixelRatio||1)*C.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:t[0]<=f||t[1]<=f}const h=["butt","round","square"],P=["miter","round","bevel"],G={},K={};var J=new WeakSet;class Q{constructor(e,t,f,g,m,{optionalContentConfig:T,markedContentStack:E=null},ie,de){_classPrivateMethodInitSpec(this,J),this.ctx=e,this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=f,this.canvasFactory=g,this.filterFactory=m,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=E||[],this.optionalContentConfig=T,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ie,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=de,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:f=!1,background:g=null}){const m=this.ctx.canvas.width,T=this.ctx.canvas.height,E=this.ctx.fillStyle;if(this.ctx.fillStyle=g||"#ffffff",this.ctx.fillRect(0,0,m,T),this.ctx.fillStyle=E,f){const ie=this.cachedCanvases.getCanvas("transparent",m,T);this.compositeCtx=this.ctx,this.transparentCanvas=ie.canvas,this.ctx=ie.context,this.ctx.save(),this.ctx.transform(...(0,C.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),n(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=(0,C.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,f,g){const m=e.argsArray,T=e.fnArray;let E=t||0;const ie=m.length;if(ie===E)return E;const de=ie-E>10&&"function"==typeof f,he=de?Date.now()+15:0;let le=0;const Ce=this.commonObjs,we=this.objs;let ye;for(;;){if(void 0!==g&&E===g.nextBreakPoint)return g.breakIt(E,f),E;if(ye=T[E],ye!==i.OPS.dependency)this[ye].apply(this,m[E]);else for(const ue of m[E]){const te=ue.startsWith("g_")?Ce:we;if(!te.has(ue))return te.get(ue,f),E}if(E++,E===ie)return E;if(de&&++le>10){if(Date.now()>he)return f(),E;le=0}}}endDrawing(){_assertClassBrand(J,this,x).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_assertClassBrand(J,this,V).call(this)}_scaleImage(e,t){const f=e.width,g=e.height;let he,le,m=Math.max(Math.hypot(t[0],t[1]),1),T=Math.max(Math.hypot(t[2],t[3]),1),E=f,ie=g,de="prescale1";for(;m>2&&E>1||T>2&&ie>1;){let Ce=E,we=ie;m>2&&E>1&&(Ce=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E/2),m/=E/Ce),T>2&&ie>1&&(we=ie>=16384?Math.floor(ie/2)-1||1:Math.ceil(ie)/2,T/=ie/we),he=this.cachedCanvases.getCanvas(de,Ce,we),le=he.context,le.clearRect(0,0,Ce,we),le.drawImage(e,0,0,E,ie,0,0,Ce,we),e=he.canvas,E=Ce,ie=we,de="prescale1"===de?"prescale2":"prescale1"}return{img:e,paintWidth:E,paintHeight:ie}}_createMaskCanvas(e){const t=this.ctx,{width:f,height:g}=e,m=this.current.fillColor,T=this.current.patternFill,E=(0,C.getCurrentTransform)(t);let ie,de,he,le;if((e.bitmap||e.data)&&e.count>1){const Ee=e.bitmap||e.data.buffer;de=JSON.stringify(T?E:[E.slice(0,4),m]),ie=this._cachedBitmapsMap.get(Ee),ie||(ie=new Map,this._cachedBitmapsMap.set(Ee,ie));const ve=ie.get(de);if(ve&&!T)return{canvas:ve,offsetX:Math.round(Math.min(E[0],E[2])+E[4]),offsetY:Math.round(Math.min(E[1],E[3])+E[5])};he=ve}he||(le=this.cachedCanvases.getCanvas("maskCanvas",f,g),A(le.context,e));let Ce=i.Util.transform(E,[1/f,0,0,-1/g,0,0]);Ce=i.Util.transform(Ce,[1,0,0,1,0,-g]);const we=i.Util.applyTransform([0,0],Ce),ye=i.Util.applyTransform([f,g],Ce),ue=i.Util.normalizeRect([we[0],we[1],ye[0],ye[1]]),te=Math.round(ue[2]-ue[0])||1,W=Math.round(ue[3]-ue[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",te,W),ce=se.context,Ae=Math.min(we[0],ye[0]),Fe=Math.min(we[1],ye[1]);ce.translate(-Ae,-Fe),ce.transform(...Ce),he||(he=this._scaleImage(le.canvas,(0,C.getCurrentTransformInverse)(ce)),he=he.img,ie&&T&&ie.set(de,he)),ce.imageSmoothingEnabled=l((0,C.getCurrentTransform)(ce),e.interpolate),d(ce,he,0,0,he.width,he.height,0,0,f,g),ce.globalCompositeOperation="source-in";const I=i.Util.transform((0,C.getCurrentTransformInverse)(ce),[1,0,0,1,-Ae,-Fe]);return ce.fillStyle=T?m.getPattern(t,this,I,R.PathType.FILL):m,ce.fillRect(0,0,f,g),ie&&!T&&(this.cachedCanvases.delete("fillCanvas"),ie.set(de,se.canvas)),{canvas:se.canvas,offsetX:Math.round(Ae),offsetY:Math.round(Fe)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=h[e]}setLineJoin(e){this.ctx.lineJoin=P[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const f=this.ctx;void 0!==f.setLineDash&&(f.setLineDash(e),f.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,f]of e)switch(t){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=f;break;case"ca":this.current.fillAlpha=f,this.ctx.globalAlpha=f;break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(f)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const g=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=g.context;const m=this.ctx;m.setTransform(...(0,C.getCurrentTransform)(this.suspendedCtx)),o(this.suspendedCtx,m),function y(S,e){if(S._removeMirroring)throw new Error("Context is already forwarding operations.");S.__originalSave=S.save,S.__originalRestore=S.restore,S.__originalRotate=S.rotate,S.__originalScale=S.scale,S.__originalTranslate=S.translate,S.__originalTransform=S.transform,S.__originalSetTransform=S.setTransform,S.__originalResetTransform=S.resetTransform,S.__originalClip=S.clip,S.__originalMoveTo=S.moveTo,S.__originalLineTo=S.lineTo,S.__originalBezierCurveTo=S.bezierCurveTo,S.__originalRect=S.rect,S.__originalClosePath=S.closePath,S.__originalBeginPath=S.beginPath,S._removeMirroring=()=>{S.save=S.__originalSave,S.restore=S.__originalRestore,S.rotate=S.__originalRotate,S.scale=S.__originalScale,S.translate=S.__originalTranslate,S.transform=S.__originalTransform,S.setTransform=S.__originalSetTransform,S.resetTransform=S.__originalResetTransform,S.clip=S.__originalClip,S.moveTo=S.__originalMoveTo,S.lineTo=S.__originalLineTo,S.bezierCurveTo=S.__originalBezierCurveTo,S.rect=S.__originalRect,S.closePath=S.__originalClosePath,S.beginPath=S.__originalBeginPath,delete S._removeMirroring},S.save=function(){e.save(),this.__originalSave()},S.restore=function(){e.restore(),this.__originalRestore()},S.translate=function(f,g){e.translate(f,g),this.__originalTranslate(f,g)},S.scale=function(f,g){e.scale(f,g),this.__originalScale(f,g)},S.transform=function(f,g,m,T,E,ie){e.transform(f,g,m,T,E,ie),this.__originalTransform(f,g,m,T,E,ie)},S.setTransform=function(f,g,m,T,E,ie){e.setTransform(f,g,m,T,E,ie),this.__originalSetTransform(f,g,m,T,E,ie)},S.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},S.rotate=function(f){e.rotate(f),this.__originalRotate(f)},S.clip=function(f){e.clip(f),this.__originalClip(f)},S.moveTo=function(t,f){e.moveTo(t,f),this.__originalMoveTo(t,f)},S.lineTo=function(t,f){e.lineTo(t,f),this.__originalLineTo(t,f)},S.bezierCurveTo=function(t,f,g,m,T,E){e.bezierCurveTo(t,f,g,m,T,E),this.__originalBezierCurveTo(t,f,g,m,T,E)},S.rect=function(t,f,g,m){e.rect(t,f,g,m),this.__originalRect(t,f,g,m)},S.closePath=function(){e.closePath(),this.__originalClosePath()},S.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(m,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),o(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function r(S,e,t,f){const g=f[0],m=f[1],T=f[2]-g,E=f[3]-m;0===T||0===E||(function Y(S,e,t,f,g,m,T,E,ie,de,he){const le=!!m,Ce=le?m[0]:0,we=le?m[1]:0,ye=le?m[2]:0,ue="Luminosity"===g?k:B,W=Math.min(f,Math.ceil(1048576/t));for(let se=0;se<f;se+=W){const ce=Math.min(W,f-se),Ae=S.getImageData(E-de,se+(ie-he),t,ce),Fe=e.getImageData(E,se+ie,t,ce);le&&M(Ae.data,Ce,we,ye),ue(Ae.data,Fe.data,T),e.putImageData(Fe,E,se+ie)}}(e.context,t,T,E,e.subtype,e.backdrop,e.transferMap,g,m,e.offsetX,e.offsetY),S.save(),S.globalAlpha=1,S.globalCompositeOperation="source-over",S.setTransform(1,0,0,1,0,0),S.drawImage(t.canvas,0,0),S.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(o(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),o(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,f,g,m,T){this.ctx.transform(e,t,f,g,m,T),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,f){const g=this.ctx,m=this.current;let ie,de,T=m.x,E=m.y;const he=(0,C.getCurrentTransform)(g),le=0===he[0]&&0===he[3]||0===he[1]&&0===he[2],Ce=le?f.slice(0):null;for(let we=0,ye=0,ue=e.length;we<ue;we++)switch(0|e[we]){case i.OPS.rectangle:T=t[ye++],E=t[ye++];const te=t[ye++],W=t[ye++],se=T+te,ce=E+W;g.moveTo(T,E),0===te||0===W?g.lineTo(se,ce):(g.lineTo(se,E),g.lineTo(se,ce),g.lineTo(T,ce)),le||m.updateRectMinMax(he,[T,E,se,ce]),g.closePath();break;case i.OPS.moveTo:T=t[ye++],E=t[ye++],g.moveTo(T,E),le||m.updatePathMinMax(he,T,E);break;case i.OPS.lineTo:T=t[ye++],E=t[ye++],g.lineTo(T,E),le||m.updatePathMinMax(he,T,E);break;case i.OPS.curveTo:ie=T,de=E,T=t[ye+4],E=t[ye+5],g.bezierCurveTo(t[ye],t[ye+1],t[ye+2],t[ye+3],T,E),m.updateCurvePathMinMax(he,ie,de,t[ye],t[ye+1],t[ye+2],t[ye+3],T,E,Ce),ye+=6;break;case i.OPS.curveTo2:ie=T,de=E,g.bezierCurveTo(T,E,t[ye],t[ye+1],t[ye+2],t[ye+3]),m.updateCurvePathMinMax(he,ie,de,T,E,t[ye],t[ye+1],t[ye+2],t[ye+3],Ce),T=t[ye+2],E=t[ye+3],ye+=4;break;case i.OPS.curveTo3:ie=T,de=E,T=t[ye+2],E=t[ye+3],g.bezierCurveTo(t[ye],t[ye+1],T,E,T,E),m.updateCurvePathMinMax(he,ie,de,t[ye],t[ye+1],T,E,T,E,Ce),ye+=4;break;case i.OPS.closePath:g.closePath()}le&&m.updateScalingPathMinMax(he,Ce),m.setCurrentPoint(T,E)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,f=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof f&&null!=f&&f.getPattern?(t.save(),t.strokeStyle=f.getPattern(t,this,(0,C.getCurrentTransformInverse)(t),R.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,f=this.current.fillColor;let m=!1;this.current.patternFill&&(t.save(),t.fillStyle=f.getPattern(t,this,(0,C.getCurrentTransformInverse)(t),R.PathType.FILL),m=!0);const T=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==T&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),m&&t.restore(),e&&this.consumePath(T)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=K}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const f of e)t.setTransform(...f.transform),t.translate(f.x,f.y),f.addToPath(t,f.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var f;const g=this.commonObjs.get(e),m=this.current;if(!g)throw new Error(`Can't find font for ${e}`);if(m.fontMatrix=g.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===m.fontMatrix[0]||0===m.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,m.fontDirection=-1):m.fontDirection=1,this.current.font=g,this.current.fontSize=t,g.isType3Font)return;const E=(null===(f=g.systemFontInfo)||void 0===f?void 0:f.css)||`"${g.loadedName||"sans-serif"}", ${g.fallbackName}`;let ie="normal";g.black?ie="900":g.bold&&(ie="bold");const de=g.italic?"italic":"normal";let he=t;t<16?he=16:t>100&&(he=100),this.current.fontSizeScale=t/he,this.ctx.font=`${de} ${ie} ${he}px ${E}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,f,g,m,T){this.current.textMatrix=[e,t,f,g,m,T],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,f,g){const m=this.ctx,T=this.current,E=T.font,ie=T.textRenderingMode,de=T.fontSize/T.fontSizeScale,he=ie&i.TextRenderingMode.FILL_STROKE_MASK,le=!!(ie&i.TextRenderingMode.ADD_TO_PATH_FLAG),Ce=T.patternFill&&!E.missingFile;let we;(E.disableFontFace||le||Ce)&&(we=E.getPathGenerator(this.commonObjs,e)),E.disableFontFace||Ce?(m.save(),m.translate(t,f),m.beginPath(),we(m,de),g&&m.setTransform(...g),(he===i.TextRenderingMode.FILL||he===i.TextRenderingMode.FILL_STROKE)&&m.fill(),(he===i.TextRenderingMode.STROKE||he===i.TextRenderingMode.FILL_STROKE)&&m.stroke(),m.restore()):((he===i.TextRenderingMode.FILL||he===i.TextRenderingMode.FILL_STROKE)&&m.fillText(e,t,f),(he===i.TextRenderingMode.STROKE||he===i.TextRenderingMode.FILL_STROKE)&&m.strokeText(e,t,f)),le&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,C.getCurrentTransform)(m),x:t,y:f,fontSize:de,addToPath:we})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let f=!1;for(let g=3;g<t.length;g+=4)if(t[g]>0&&t[g]<255){f=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",f)}showText(e){const t=this.current,f=t.font;if(f.isType3Font)return this.showType3Text(e);const g=t.fontSize;if(0===g)return;const m=this.ctx,T=t.fontSizeScale,E=t.charSpacing,ie=t.wordSpacing,de=t.fontDirection,he=t.textHScale*de,le=e.length,Ce=f.vertical,we=Ce?1:-1,ye=f.defaultVMetrics,ue=g*t.fontMatrix[0],te=t.textRenderingMode===i.TextRenderingMode.FILL&&!f.disableFontFace&&!t.patternFill;let W;if(m.save(),m.transform(...t.textMatrix),m.translate(t.x,t.y+t.textRise),m.scale(he,de>0?-1:1),t.patternFill){m.save();const I=t.fillColor.getPattern(m,this,(0,C.getCurrentTransformInverse)(m),R.PathType.FILL);W=(0,C.getCurrentTransform)(m),m.restore(),m.fillStyle=I}let se=t.lineWidth;const ce=t.textMatrixScale;if(0===ce||0===se){const I=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(I===i.TextRenderingMode.STROKE||I===i.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=ce;if(1!==T&&(m.scale(T,T),se/=T),m.lineWidth=se,f.isInvalidPDFjsFont){const I=[];let Ee=0;for(const ve of e)I.push(ve.unicode),Ee+=ve.width;return m.fillText(I.join(""),0,0),t.x+=Ee*ue*he,m.restore(),void this.compose()}let Fe,Ae=0;for(Fe=0;Fe<le;++Fe){const I=e[Fe];if("number"==typeof I){Ae+=we*I*g/1e3;continue}let Ee=!1;const ve=(I.isSpace?ie:0)+E,Se=I.fontChar,Be=I.accent;let pe,ne,O=I.width;if(Ce){const H=I.vmetric||ye,re=-(I.vmetric?H[1]:.5*O)*ue;O=H?-H[0]:O,pe=re/T,ne=(Ae+H[2]*ue)/T}else pe=Ae/T,ne=0;if(f.remeasure&&O>0){const H=1e3*m.measureText(Se).width/g*T;if(O<H&&this.isFontSubpixelAAEnabled){const re=O/H;Ee=!0,m.save(),m.scale(re,1),pe/=re}else O!==H&&(pe+=(O-H)/2e3*g/T)}this.contentVisible&&(I.isInFont||f.missingFile)&&(te&&!Be?m.fillText(Se,pe,ne):(this.paintChar(Se,pe,ne,W),Be&&this.paintChar(Be.fontChar,pe+g*Be.offset.x/T,ne-g*Be.offset.y/T,W))),Ae+=Ce?O*ue-ve*de:O*ue+ve*de,Ee&&m.restore()}Ce?t.y-=Ae:t.x+=Ae*he,m.restore(),this.compose()}showType3Text(e){const t=this.ctx,f=this.current,g=f.font,m=f.fontSize,T=f.fontDirection,E=g.vertical?1:-1,ie=f.charSpacing,de=f.wordSpacing,he=f.textHScale*T,le=f.fontMatrix||i.FONT_IDENTITY_MATRIX,Ce=e.length;let ye,ue,te,W;if(f.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==m){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...f.textMatrix),t.translate(f.x,f.y),t.scale(he,T),ye=0;ye<Ce;++ye){if(ue=e[ye],"number"==typeof ue){W=E*ue*m/1e3,this.ctx.translate(W,0),f.x+=W*he;continue}const se=(ue.isSpace?de:0)+ie,ce=g.charProcOperatorList[ue.operatorListId];ce?(this.contentVisible&&(this.processingType3=ue,this.save(),t.scale(m,m),t.transform(...le),this.executeOperatorList(ce),this.restore()),te=i.Util.applyTransform([ue.width,0],le)[0]*m+se,t.translate(te,0),f.x+=te*he):(0,i.warn)(`Type3 character "${ue.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,f,g,m,T){this.ctx.rect(f,g,m-f,T-g),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const f=e[1],g=this.baseTransform||(0,C.getCurrentTransform)(this.ctx);t=new R.TilingPattern(e,f,this.ctx,{createCanvasGraphics:T=>new Q(T,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},g)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,f){const g=i.Util.makeHexColor(e,t,f);this.ctx.strokeStyle=g,this.current.strokeColor=g}setFillRGBColor(e,t,f){const g=i.Util.makeHexColor(e,t,f);this.ctx.fillStyle=g,this.current.fillColor=g,this.current.patternFill=!1}_getPattern(e,t=null){let f;return this.cachedPatterns.has(e)?f=this.cachedPatterns.get(e):(f=(0,R.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,f)),t&&(f.matrix=t),f}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const f=this._getPattern(e);t.fillStyle=f.getPattern(t,this,(0,C.getCurrentTransformInverse)(t),R.PathType.SHADING);const g=(0,C.getCurrentTransformInverse)(t);if(g){const{width:m,height:T}=t.canvas,[E,ie,de,he]=i.Util.getAxialAlignedBoundingBox([0,0,m,T],g);this.ctx.fillRect(E,ie,de-E,he-ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,C.getCurrentTransform)(this.ctx),t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax((0,C.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");const f=(0,C.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let g=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,C.getCurrentTransform)(t));g=i.Util.intersect(g,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const T=Math.floor(g[0]),E=Math.floor(g[1]);let ie=Math.max(Math.ceil(g[2])-T,1),de=Math.max(Math.ceil(g[3])-E,1),he=1,le=1;ie>p&&(he=ie/p,ie=p),de>p&&(le=de/p,de=p),this.current.startNewPathAndClipBox([0,0,ie,de]);let Ce="groupAt"+this.groupLevel;e.smask&&(Ce+="_smask_"+this.smaskCounter++%2);const we=this.cachedCanvases.getCanvas(Ce,ie,de),ye=we.context;ye.scale(1/he,1/le),ye.translate(-T,-E),ye.transform(...f),e.smask?this.smaskStack.push({canvas:we.canvas,context:ye,offsetX:T,offsetY:E,scaleX:he,scaleY:le,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(T,E),t.scale(he,le),t.save()),o(t,ye),this.ctx=ye,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,f=this.groupStack.pop();if(this.ctx=f,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const g=(0,C.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...g);const m=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],g);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(m)}}beginAnnotation(e,t,f,g,m){if(_assertClassBrand(J,this,x).call(this),n(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const T=t[2]-t[0],E=t[3]-t[1];if(m&&this.annotationCanvasMap){(f=f.slice())[4]-=t[0],f[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=T,t[3]=E;const[ie,de]=i.Util.singularValueDecompose2dScale((0,C.getCurrentTransform)(this.ctx)),{viewportScale:he}=this,le=Math.ceil(T*this.outputScaleX*he),Ce=Math.ceil(E*this.outputScaleY*he);this.annotationCanvas=this.canvasFactory.create(le,Ce);const{canvas:we,context:ye}=this.annotationCanvas;this.annotationCanvasMap.set(e,we),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ye,this.ctx.save(),this.ctx.setTransform(ie,0,0,-de,0,E*de),n(this.ctx)}else n(this.ctx),this.ctx.rect(t[0],t[1],T,E),this.ctx.clip(),this.endPath()}this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...f),this.transform(...g)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_assertClassBrand(J,this,V).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const f=this.ctx,g=this.processingType3;if(g&&(void 0===g.compiled&&(g.compiled=function a(S){const{width:e,height:t}=S;if(e>1e3||t>1e3)return null;const g=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=e+1;let E,ie,de,T=new Uint8Array(m*(t+1));const he=e+7&-8;let le=new Uint8Array(he*t),Ce=0;for(const W of S.data){let se=128;for(;se>0;)le[Ce++]=W&se?0:255,se>>=1}let we=0;for(Ce=0,0!==le[Ce]&&(T[0]=1,++we),ie=1;ie<e;ie++)le[Ce]!==le[Ce+1]&&(T[ie]=le[Ce]?2:1,++we),Ce++;for(0!==le[Ce]&&(T[ie]=2,++we),E=1;E<t;E++){Ce=E*he,de=E*m,le[Ce-he]!==le[Ce]&&(T[de]=le[Ce]?1:8,++we);let W=(le[Ce]?4:0)+(le[Ce-he]?8:0);for(ie=1;ie<e;ie++)W=(W>>2)+(le[Ce+1]?4:0)+(le[Ce-he+1]?8:0),g[W]&&(T[de+ie]=g[W],++we),Ce++;if(le[Ce-he]!==le[Ce]&&(T[de+ie]=le[Ce]?2:4,++we),we>1e3)return null}for(Ce=he*(t-1),de=E*m,0!==le[Ce]&&(T[de]=8,++we),ie=1;ie<e;ie++)le[Ce]!==le[Ce+1]&&(T[de+ie]=le[Ce]?4:8,++we),Ce++;if(0!==le[Ce]&&(T[de+ie]=4,++we),we>1e3)return null;const ye=new Int32Array([0,m,-1,0,-m,0,0,0,1]),ue=new Path2D;for(E=0;we&&E<=t;E++){let W=E*m;const se=W+e;for(;W<se&&!T[W];)W++;if(W===se)continue;ue.moveTo(W%m,E);const ce=W;let Ae=T[W];do{const Fe=ye[Ae];do{W+=Fe}while(!T[W]);const I=T[W];5!==I&&10!==I?(Ae=I,T[W]=0):(Ae=I&51*Ae>>4,T[W]&=Ae>>2|Ae<<2),ue.lineTo(W%m,W/m|0),T[W]||--we}while(ce!==W);--E}return le=null,T=null,function(W){W.save(),W.scale(1/e,-1/t),W.translate(0,-t),W.fill(ue),W.beginPath(),W.restore()}}(e)),g.compiled))return void g.compiled(f);const m=this._createMaskCanvas(e),T=m.canvas;f.save(),f.setTransform(1,0,0,1,0,0),f.drawImage(T,m.offsetX,m.offsetY),f.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,f=0,g=0,m,T){if(!this.contentVisible)return;e=this.getObject(e.data,e);const E=this.ctx;E.save();const ie=(0,C.getCurrentTransform)(E);E.transform(t,f,g,m,0,0);const de=this._createMaskCanvas(e);E.setTransform(1,0,0,1,de.offsetX-ie[4],de.offsetY-ie[5]);for(let he=0,le=T.length;he<le;he+=2){const Ce=i.Util.transform(ie,[t,f,g,m,T[he],T[he+1]]),[we,ye]=i.Util.applyTransform([0,0],Ce);E.drawImage(de.canvas,we,ye)}E.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,f=this.current.fillColor,g=this.current.patternFill;for(const m of e){const{data:T,width:E,height:ie,transform:de}=m,he=this.cachedCanvases.getCanvas("maskCanvas",E,ie),le=he.context;le.save(),A(le,this.getObject(T,m)),le.globalCompositeOperation="source-in",le.fillStyle=g?f.getPattern(le,this,(0,C.getCurrentTransformInverse)(t),R.PathType.FILL):f,le.fillRect(0,0,E,ie),le.restore(),t.save(),t.transform(...de),t.scale(1,-1),d(t,he.canvas,0,0,E,ie,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,f,g){if(!this.contentVisible)return;const m=this.getObject(e);if(!m)return void(0,i.warn)("Dependent image isn't ready yet");const T=m.width,E=m.height,ie=[];for(let de=0,he=g.length;de<he;de+=2)ie.push({transform:[t,0,0,f,g[de],g[de+1]],x:0,y:0,w:T,h:E});this.paintInlineImageXObjectGroup(m,ie)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:f,height:g}=e,m=this.cachedCanvases.getCanvas("inlineImage",f,g),T=m.context;return T.filter=this.current.transferMaps,T.drawImage(t,0,0),T.filter="none",m.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,f=e.height,g=this.ctx;if(this.save(),!i.isNodeJS){const{filter:E}=g;"none"!==E&&""!==E&&(g.filter="none")}let m;if(g.scale(1/t,-1/f),e.bitmap)m=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)m=e;else{const ie=this.cachedCanvases.getCanvas("inlineImage",t,f).context;v(ie,e),m=this.applyTransferMapsToCanvas(ie)}const T=this._scaleImage(m,(0,C.getCurrentTransformInverse)(g));g.imageSmoothingEnabled=l((0,C.getCurrentTransform)(g),e.interpolate),d(g,T.img,0,0,T.paintWidth,T.paintHeight,0,-f,t,f),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const f=this.ctx;let g;if(e.bitmap)g=e.bitmap;else{const ie=this.cachedCanvases.getCanvas("inlineImage",e.width,e.height).context;v(ie,e),g=this.applyTransferMapsToCanvas(ie)}for(const m of t)f.save(),f.transform(...m.transform),f.scale(1,-1),d(f,g,m.x,m.y,m.w,m.h,0,-1,1,1),f.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const f=this.ctx;this.pendingClip&&(t||(this.pendingClip===K?f.clip("evenodd"):f.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),f.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,C.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),f=Math.hypot(e[0],e[2]),g=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(f,g)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:f,c:g,d:m}=this.ctx.getTransform();let T,E;if(0===f&&0===g){const ie=Math.abs(t),de=Math.abs(m);if(ie===de)if(0===e)T=E=1/ie;else{const he=ie*e;T=E=he<1?1/he:1}else if(0===e)T=1/ie,E=1/de;else{const he=ie*e,le=de*e;T=he<1?1/he:1,E=le<1?1/le:1}}else{const ie=Math.abs(t*m-f*g),de=Math.hypot(t,f),he=Math.hypot(g,m);if(0===e)T=he/ie,E=de/ie;else{const le=e*ie;T=he>le?he/le:1,E=de>le?de/le:1}}this._cachedScaleForStroking[0]=T,this._cachedScaleForStroking[1]=E}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:f}=this.current,[g,m]=this.getScaleForStroking();if(t.lineWidth=f||1,1===g&&1===m)return void t.stroke();const T=t.getLineDash();if(e&&t.save(),t.scale(g,m),T.length>0){const E=Math.max(g,m);t.setLineDash(T.map(ie=>ie/E)),t.lineDashOffset/=E}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function x(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function V(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==S){const e=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}s.CanvasGraphics=Q;for(const S in i.OPS)void 0!==Q.prototype[S]&&(Q.prototype[i.OPS[S]]=Q.prototype[S])},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=function N(d){switch(d[0]){case"RadialAxial":return new w(d);case"Mesh":return new $(d);case"Dummy":return new Z}throw new Error(`Unknown IR type: ${d[0]}`)};var i=L(1),C=L(6);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function z(d,a){if(!a)return;const u=a[2]-a[0],v=a[3]-a[1],A=new Path2D;A.rect(a[0],a[1],u,v),d.clip(A)}s.PathType=R;class F{constructor(){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class w extends F{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let u;"axial"===this._type?u=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(u=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const v of this._colorStops)u.addColorStop(v[0],v[1]);return u}getPattern(a,u,v,A){let o;if(A===R.STROKE||A===R.FILL){const n=u.current.getClippedPathBoundingBox(A,(0,C.getCurrentTransform)(a))||[0,0,0,0],M=Math.ceil(n[2]-n[0])||1,B=Math.ceil(n[3]-n[1])||1,k=u.cachedCanvases.getCanvas("pattern",M,B,!0),Y=k.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-n[0],-n[1]),v=i.Util.transform(v,[1,0,0,1,n[0],n[1]]),Y.transform(...u.baseTransform),this.matrix&&Y.transform(...this.matrix),z(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),o=a.createPattern(k.canvas,"no-repeat");const r=new DOMMatrix(v);o.setTransform(r)}else z(a,this._bbox),o=this._createGradient(a);return o}}function p(d,a,u,v,A,o,n,M){const B=a.coords,k=a.colors,Y=d.data,r=4*d.width;let l;B[u+1]>B[v+1]&&(l=u,u=v,v=l,l=o,o=n,n=l),B[v+1]>B[A+1]&&(l=v,v=A,A=l,l=n,n=M,M=l),B[u+1]>B[v+1]&&(l=u,u=v,v=l,l=o,o=n,n=l);const h=(B[u]+a.offsetX)*a.scaleX,P=(B[u+1]+a.offsetY)*a.scaleY,G=(B[v]+a.offsetX)*a.scaleX,K=(B[v+1]+a.offsetY)*a.scaleY,J=(B[A]+a.offsetX)*a.scaleX,Q=(B[A+1]+a.offsetY)*a.scaleY;if(P>=Q)return;const x=k[o],V=k[o+1],S=k[o+2],e=k[n],t=k[n+1],f=k[n+2],g=k[M],m=k[M+1],T=k[M+2],E=Math.round(P),ie=Math.round(Q);let de,he,le,Ce,we,ye,ue,te;for(let W=E;W<=ie;W++){if(W<K){const I=W<P?0:(P-W)/(P-K);de=h-(h-G)*I,he=x-(x-e)*I,le=V-(V-t)*I,Ce=S-(S-f)*I}else{let I;I=W>Q?1:K===Q?0:(K-W)/(K-Q),de=G-(G-J)*I,he=e-(e-g)*I,le=t-(t-m)*I,Ce=f-(f-T)*I}let se;se=W<P?0:W>Q?1:(P-W)/(P-Q),we=h-(h-J)*se,ye=x-(x-g)*se,ue=V-(V-m)*se,te=S-(S-T)*se;const ce=Math.round(Math.min(de,we)),Ae=Math.round(Math.max(de,we));let Fe=r*W+4*ce;for(let I=ce;I<=Ae;I++)se=(de-I)/(de-we),se<0?se=0:se>1&&(se=1),Y[Fe++]=he-(he-ye)*se|0,Y[Fe++]=le-(le-ue)*se|0,Y[Fe++]=Ce-(Ce-te)*se|0,Y[Fe++]=255}}function b(d,a,u){const v=a.coords,A=a.colors;let o,n;switch(a.type){case"lattice":const M=a.verticesPerRow,B=Math.floor(v.length/M)-1,k=M-1;for(o=0;o<B;o++){let Y=o*M;for(let r=0;r<k;r++,Y++)p(d,u,v[Y],v[Y+1],v[Y+M],A[Y],A[Y+1],A[Y+M]),p(d,u,v[Y+M+1],v[Y+1],v[Y+M],A[Y+M+1],A[Y+1],A[Y+M])}break;case"triangles":for(o=0,n=v.length;o<n;o+=3)p(d,u,v[o],v[o+1],v[o+2],A[o],A[o+1],A[o+2]);break;default:throw new Error("illegal figure")}}class $ extends F{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[7],this._background=a[8],this.matrix=null}_createMeshCanvas(a,u,v){const M=Math.floor(this._bounds[0]),B=Math.floor(this._bounds[1]),k=Math.ceil(this._bounds[2])-M,Y=Math.ceil(this._bounds[3])-B,r=Math.min(Math.ceil(Math.abs(k*a[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(Y*a[1]*1.1)),3e3),h=k/r,P=Y/l,G={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-B,scaleX:1/h,scaleY:1/P},Q=v.getCanvas("mesh",r+4,l+4,!1),x=Q.context,V=x.createImageData(r,l);if(u){const e=V.data;for(let t=0,f=e.length;t<f;t+=4)e[t]=u[0],e[t+1]=u[1],e[t+2]=u[2],e[t+3]=255}for(const e of this._figures)b(V,e,G);return x.putImageData(V,2,2),{canvas:Q.canvas,offsetX:M-2*h,offsetY:B-2*P,scaleX:h,scaleY:P}}getPattern(a,u,v,A){let o;if(z(a,this._bbox),A===R.SHADING)o=i.Util.singularValueDecompose2dScale((0,C.getCurrentTransform)(a));else if(o=i.Util.singularValueDecompose2dScale(u.baseTransform),this.matrix){const M=i.Util.singularValueDecompose2dScale(this.matrix);o=[o[0]*M[0],o[1]*M[1]]}const n=this._createMeshCanvas(o,A===R.SHADING?null:this._background,u.cachedCanvases);return A!==R.SHADING&&(a.setTransform(...u.baseTransform),this.matrix&&a.transform(...this.matrix)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}class Z extends F{getPattern(){return"hotpink"}}s.TilingPattern=(()=>{class d{constructor(u,v,A,o,n){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=v,this.ctx=A,this.canvasGraphicsFactory=o,this.baseTransform=n}createPatternCanvas(u){const v=this.operatorList,A=this.bbox,o=this.xstep,n=this.ystep,M=this.paintType,k=this.color,Y=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const r=A[0],l=A[1],h=A[2],P=A[3],G=i.Util.singularValueDecompose2dScale(this.matrix),K=i.Util.singularValueDecompose2dScale(this.baseTransform),J=[G[0]*K[0],G[1]*K[1]],Q=this.getSizeAndScale(o,this.ctx.canvas.width,J[0]),x=this.getSizeAndScale(n,this.ctx.canvas.height,J[1]),V=u.cachedCanvases.getCanvas("pattern",Q.size,x.size,!0),S=V.context,e=Y.createCanvasGraphics(S);e.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(e,M,k);let t=r,f=l,g=h,m=P;return r<0&&(t=0,g+=Math.abs(r)),l<0&&(f=0,m+=Math.abs(l)),S.translate(-Q.scale*t,-x.scale*f),e.transform(Q.scale,0,0,x.scale,0,0),S.save(),this.clipBbox(e,t,f,g,m),e.baseTransform=(0,C.getCurrentTransform)(e.ctx),e.executeOperatorList(v),e.endDrawing(),{canvas:V.canvas,scaleX:Q.scale,scaleY:x.scale,offsetX:t,offsetY:f}}getSizeAndScale(u,v,A){u=Math.abs(u);const o=Math.max(d.MAX_PATTERN_SIZE,v);let n=Math.ceil(u*A);return n>=o?n=o:A=n/u,{scale:A,size:n}}clipBbox(u,v,A,o,n){u.ctx.rect(v,A,o-v,n-A),u.current.updateRectMinMax((0,C.getCurrentTransform)(u.ctx),[v,A,o,n]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,v,A){const o=u.ctx,n=u.current;switch(v){case 1:const M=this.ctx;o.fillStyle=M.fillStyle,o.strokeStyle=M.strokeStyle,n.fillColor=M.fillStyle,n.strokeColor=M.strokeStyle;break;case 2:const B=i.Util.makeHexColor(A[0],A[1],A[2]);o.fillStyle=B,o.strokeStyle=B,n.fillColor=B,n.strokeColor=B;break;default:throw new i.FormatError(`Unsupported paint type: ${v}`)}}getPattern(u,v,A,o){let n=A;o!==R.SHADING&&(n=i.Util.transform(n,v.baseTransform),this.matrix&&(n=i.Util.transform(n,this.matrix)));const M=this.createPatternCanvas(v);let B=new DOMMatrix(n);B=B.translate(M.offsetX,M.offsetY),B=B.scale(1/M.scaleX,1/M.scaleY);const k=u.createPattern(M.canvas,"repeat");return k.setTransform(B),k}}return _defineProperty(d,"MAX_PATTERN_SIZE",3e3),d})()},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=R,s.convertToRGBA=function C(w){switch(w.kind){case i.ImageKind.GRAYSCALE_1BPP:return R(w);case i.ImageKind.RGB_24BPP:return function z({src:w,srcPos:p=0,dest:b,destPos:$=0}){let y=0;const c=w.length>>2,d=new Uint32Array(w.buffer,p,c);if(i.FeatureTest.isLittleEndian){for(;y<c-2;y+=3,$+=4){const a=d[y],u=d[y+1],v=d[y+2];b[$]=4278190080|a,b[$+1]=a>>>24|u<<8|4278190080,b[$+2]=u>>>16|v<<16|4278190080,b[$+3]=v>>>8|4278190080}for(let a=4*y,u=w.length;a<u;a+=3)b[$++]=w[a]|w[a+1]<<8|w[a+2]<<16|4278190080}else{for(;y<c-2;y+=3,$+=4){const a=d[y],u=d[y+1],v=d[y+2];b[$]=255|a,b[$+1]=a<<24|u>>>8|255,b[$+2]=u<<16|v>>>16|255,b[$+3]=v<<8|255}for(let a=4*y,u=w.length;a<u;a+=3)b[$++]=w[a]<<24|w[a+1]<<16|w[a+2]<<8|255}return{srcPos:p,destPos:$}}(w)}return null},s.grayToRGBA=function F(w,p){if(i.FeatureTest.isLittleEndian)for(let b=0,$=w.length;b<$;b++)p[b]=65793*w[b]|4278190080;else for(let b=0,$=w.length;b<$;b++)p[b]=16843008*w[b]|255};var i=L(1);function R({src:w,srcPos:p=0,dest:b,width:$,height:Z,nonBlackColor:N=4294967295,inverseDecode:y=!1}){const c=i.FeatureTest.isLittleEndian?4278190080:255,[d,a]=y?[N,c]:[c,N],u=$>>3,v=7&$,A=w.length;b=new Uint32Array(b.buffer);let o=0;for(let n=0;n<Z;n++){for(const B=p+u;p<B;p++){const k=p<A?w[p]:255;b[o++]=128&k?a:d,b[o++]=64&k?a:d,b[o++]=32&k?a:d,b[o++]=16&k?a:d,b[o++]=8&k?a:d,b[o++]=4&k?a:d,b[o++]=2&k?a:d,b[o++]=1&k?a:d}if(0===v)continue;const M=p<A?w[p++]:255;for(let B=0;B<v;B++)b[o++]=M&1<<7-B?a:d}return{srcPos:p,destPos:o}}},(X,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const L=Object.create(null);s.GlobalWorkerOptions=L,L.workerPort=null,L.workerSrc=""},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var i=L(1);function z(N){switch(N instanceof Error||"object"==typeof N&&null!==N||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),N.name){case"AbortException":return new i.AbortException(N.message);case"MissingPDFException":return new i.MissingPDFException(N.message);case"PasswordException":return new i.PasswordException(N.message,N.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(N.message,N.status);case"UnknownErrorException":return new i.UnknownErrorException(N.message,N.details);default:return new i.UnknownErrorException(N.message,N.toString())}}var F=new WeakSet;function p(N){const y=N.streamId,c=this.sourceName,d=N.sourceName,a=this.comObj,u=this,v=this.actionHandler[N.action],A={enqueue(o,n=1,M){if(this.isCancelled)return;const B=this.desiredSize;this.desiredSize-=n,B>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),a.postMessage({sourceName:c,targetName:d,stream:4,streamId:y,chunk:o},M)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:c,targetName:d,stream:3,streamId:y}),delete u.streamSinks[y])},error(o){(0,i.assert)(o instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:c,targetName:d,stream:5,streamId:y,reason:z(o)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:N.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[y]=A,new Promise(function(o){o(v(N.data,A))}).then(function(){a.postMessage({sourceName:c,targetName:d,stream:8,streamId:y,success:!0})},function(o){a.postMessage({sourceName:c,targetName:d,stream:8,streamId:y,reason:z(o)})})}function b(N){const y=N.streamId,c=this.sourceName,d=N.sourceName,a=this.comObj,u=this.streamControllers[y],v=this.streamSinks[y];switch(N.stream){case 8:N.success?u.startCall.resolve():u.startCall.reject(z(N.reason));break;case 7:N.success?u.pullCall.resolve():u.pullCall.reject(z(N.reason));break;case 6:if(!v){a.postMessage({sourceName:c,targetName:d,stream:7,streamId:y,success:!0});break}v.desiredSize<=0&&N.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=N.desiredSize,new Promise(function(A){var o;A(null===(o=v.onPull)||void 0===o?void 0:o.call(v))}).then(function(){a.postMessage({sourceName:c,targetName:d,stream:7,streamId:y,success:!0})},function(A){a.postMessage({sourceName:c,targetName:d,stream:7,streamId:y,reason:z(A)})});break;case 4:if((0,i.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(N.chunk);break;case 3:if((0,i.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),_assertClassBrand(F,this,$).call(this,u,y);break;case 5:(0,i.assert)(u,"error should have stream controller"),u.controller.error(z(N.reason)),_assertClassBrand(F,this,$).call(this,u,y);break;case 2:N.success?u.cancelCall.resolve():u.cancelCall.reject(z(N.reason)),_assertClassBrand(F,this,$).call(this,u,y);break;case 1:if(!v)break;new Promise(function(A){var o;A(null===(o=v.onCancel)||void 0===o?void 0:o.call(v,z(N.reason)))}).then(function(){a.postMessage({sourceName:c,targetName:d,stream:2,streamId:y,success:!0})},function(A){a.postMessage({sourceName:c,targetName:d,stream:2,streamId:y,reason:z(A)})}),v.sinkCapability.reject(z(N.reason)),v.isCancelled=!0,delete this.streamSinks[y];break;default:throw new Error("Unexpected stream case")}}function $(N,y){return Z.apply(this,arguments)}function Z(){return(Z=_asyncToGenerator(function*(N,y){var c,d,a;yield Promise.allSettled([null===(c=N.startCall)||void 0===c?void 0:c.promise,null===(d=N.pullCall)||void 0===d?void 0:d.promise,null===(a=N.cancelCall)||void 0===a?void 0:a.promise]),delete this.streamControllers[y]})).apply(this,arguments)}s.MessageHandler=class w{constructor(y,c,d){_classPrivateMethodInitSpec(this,F),this.sourceName=y,this.targetName=c,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=a=>{const u=a.data;if(u.targetName!==this.sourceName)return;if(u.stream)return void _assertClassBrand(F,this,b).call(this,u);if(u.callback){const A=u.callbackId,o=this.callbackCapabilities[A];if(!o)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],1===u.callback)o.resolve(u.data);else{if(2!==u.callback)throw new Error("Unexpected callback case");o.reject(z(u.reason))}return}const v=this.actionHandler[u.action];if(!v)throw new Error(`Unknown action from worker: ${u.action}`);if(u.callbackId){const A=this.sourceName,o=u.sourceName;new Promise(function(n){n(v(u.data))}).then(function(n){d.postMessage({sourceName:A,targetName:o,callback:1,callbackId:u.callbackId,data:n})},function(n){d.postMessage({sourceName:A,targetName:o,callback:2,callbackId:u.callbackId,reason:z(n)})})}else u.streamId?_assertClassBrand(F,this,p).call(this,u):v(u.data)},d.addEventListener("message",this._onComObjOnMessage)}on(y,c){const d=this.actionHandler;if(d[y])throw new Error(`There is already an actionName called "${y}"`);d[y]=c}send(y,c,d){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,data:c},d)}sendWithPromise(y,c,d){const a=this.callbackId++,u=new i.PromiseCapability;this.callbackCapabilities[a]=u;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,callbackId:a,data:c},d)}catch(v){u.reject(v)}return u.promise}sendWithStream(y,c,d,a){const u=this.streamId++,v=this.sourceName,A=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const M=new i.PromiseCapability;return this.streamControllers[u]={controller:n,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:v,targetName:A,action:y,streamId:u,data:c,desiredSize:n.desiredSize},a),M.promise},pull:n=>{const M=new i.PromiseCapability;return this.streamControllers[u].pullCall=M,o.postMessage({sourceName:v,targetName:A,stream:6,streamId:u,desiredSize:n.desiredSize}),M.promise},cancel:n=>{(0,i.assert)(n instanceof Error,"cancel must have a valid reason");const M=new i.PromiseCapability;return this.streamControllers[u].cancelCall=M,this.streamControllers[u].isClosed=!0,o.postMessage({sourceName:v,targetName:A,stream:1,streamId:u,reason:z(n)}),M.promise}},d)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var i=L(1),C=new WeakMap,R=new WeakMap;s.Metadata=class z{constructor({parsedData:w,rawData:p}){_classPrivateFieldInitSpec(this,C,void 0),_classPrivateFieldInitSpec(this,R,void 0),_classPrivateFieldSet(C,this,w),_classPrivateFieldSet(R,this,p)}getRaw(){return _classPrivateFieldGet(R,this)}get(w){var p;return null!==(p=_classPrivateFieldGet(C,this).get(w))&&void 0!==p?p:null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(C,this))}has(w){return _classPrivateFieldGet(C,this).has(w)}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var i=L(1),C=L(8);const R=Symbol("INTERNAL");var z=new WeakMap;class F{constructor(d,a){_classPrivateFieldInitSpec(this,z,!0),this.name=d,this.intent=a}get visible(){return _classPrivateFieldGet(z,this)}_setVisible(d,a){d!==R&&(0,i.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(z,this,a)}}var w=new WeakMap,p=new WeakMap,b=new WeakMap,$=new WeakMap,Z=new WeakSet;function y(c){const d=c.length;if(d<2)return!0;const a=c[0];for(let u=1;u<d;u++){const v=c[u];let A;if(Array.isArray(v))A=_assertClassBrand(Z,this,y).call(this,v);else{if(!_classPrivateFieldGet(p,this).has(v))return(0,i.warn)(`Optional content group not found: ${v}`),!0;A=_classPrivateFieldGet(p,this).get(v).visible}switch(a){case"And":if(!A)return!1;break;case"Or":if(A)return!0;break;case"Not":return!A;default:return!0}}return"And"===a}s.OptionalContentConfig=class N{constructor(d){if(_classPrivateMethodInitSpec(this,Z),_classPrivateFieldInitSpec(this,w,null),_classPrivateFieldInitSpec(this,p,new Map),_classPrivateFieldInitSpec(this,b,null),_classPrivateFieldInitSpec(this,$,null),this.name=null,this.creator=null,null!==d){this.name=d.name,this.creator=d.creator,_classPrivateFieldSet($,this,d.order);for(const a of d.groups)_classPrivateFieldGet(p,this).set(a.id,new F(a.name,a.intent));if("OFF"===d.baseState)for(const a of _classPrivateFieldGet(p,this).values())a._setVisible(R,!1);for(const a of d.on)_classPrivateFieldGet(p,this).get(a)._setVisible(R,!0);for(const a of d.off)_classPrivateFieldGet(p,this).get(a)._setVisible(R,!1);_classPrivateFieldSet(b,this,this.getHash())}}isVisible(d){if(0===_classPrivateFieldGet(p,this).size)return!0;if(!d)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===d.type)return _classPrivateFieldGet(p,this).has(d.id)?_classPrivateFieldGet(p,this).get(d.id).visible:((0,i.warn)(`Optional content group not found: ${d.id}`),!0);if("OCMD"===d.type){if(d.expression)return _assertClassBrand(Z,this,y).call(this,d.expression);if(!d.policy||"AnyOn"===d.policy){for(const a of d.ids){if(!_classPrivateFieldGet(p,this).has(a))return(0,i.warn)(`Optional content group not found: ${a}`),!0;if(_classPrivateFieldGet(p,this).get(a).visible)return!0}return!1}if("AllOn"===d.policy){for(const a of d.ids){if(!_classPrivateFieldGet(p,this).has(a))return(0,i.warn)(`Optional content group not found: ${a}`),!0;if(!_classPrivateFieldGet(p,this).get(a).visible)return!1}return!0}if("AnyOff"===d.policy){for(const a of d.ids){if(!_classPrivateFieldGet(p,this).has(a))return(0,i.warn)(`Optional content group not found: ${a}`),!0;if(!_classPrivateFieldGet(p,this).get(a).visible)return!0}return!1}if("AllOff"===d.policy){for(const a of d.ids){if(!_classPrivateFieldGet(p,this).has(a))return(0,i.warn)(`Optional content group not found: ${a}`),!0;if(_classPrivateFieldGet(p,this).get(a).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,i.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,a=!0){_classPrivateFieldGet(p,this).has(d)?(_classPrivateFieldGet(p,this).get(d)._setVisible(R,!!a),_classPrivateFieldSet(w,this,null)):(0,i.warn)(`Optional content group not found: ${d}`)}get hasInitialVisibility(){return null===_classPrivateFieldGet(b,this)||this.getHash()===_classPrivateFieldGet(b,this)}getOrder(){return _classPrivateFieldGet(p,this).size?_classPrivateFieldGet($,this)?_classPrivateFieldGet($,this).slice():[..._classPrivateFieldGet(p,this).keys()]:null}getGroups(){return _classPrivateFieldGet(p,this).size>0?(0,i.objectFromMap)(_classPrivateFieldGet(p,this)):null}getGroup(d){return _classPrivateFieldGet(p,this).get(d)||null}getHash(){if(null!==_classPrivateFieldGet(w,this))return _classPrivateFieldGet(w,this);const d=new C.MurmurHash3_64;for(const[a,u]of _classPrivateFieldGet(p,this))d.update(`${a}:${u.visible}`);return _classPrivateFieldSet(w,this,d.hexdigest())}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var i=L(1),C=L(6);s.PDFDataTransportStream=class R{constructor({length:p,initialData:b,progressiveDone:$=!1,contentDispositionFilename:Z=null,disableRange:N=!1,disableStream:y=!1},c){if((0,i.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=Z,(null==b?void 0:b.length)>0){const d=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!y,this._isRangeSupported=!N,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((d,a)=>{this._onReceiveData({begin:d,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((d,a)=>{this._onProgress({loaded:d,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:p,chunk:b}){const $=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(void 0===p)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const Z=this._rangeReaders.some(function(N){return N._begin===p&&(N._enqueue($),!0)});(0,i.assert)(Z,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var p,b;return null!==(p=null===(b=this._fullRequestReader)||void 0===b?void 0:b._loaded)&&void 0!==p?p:0}_onProgress(p){var b,$,Z,N;void 0===p.total?null===(b=this._rangeReaders[0])||void 0===b||null===($=b.onProgress)||void 0===$||$.call(b,{loaded:p.loaded}):null===(Z=this._fullRequestReader)||void 0===Z||null===(N=Z.onProgress)||void 0===N||N.call(Z,{loaded:p.loaded,total:p.total})}_onProgressiveDone(){var p;null===(p=this._fullRequestReader)||void 0===p||p.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(p){const b=this._rangeReaders.indexOf(p);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const p=this._queuedChunks;return this._queuedChunks=null,new z(this,p,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(p,b){if(b<=this._progressiveDataLength)return null;const $=new F(this,p,b);return this._pdfDataRangeTransport.requestDataRange(p,b),this._rangeReaders.push($),$}cancelAllRequests(p){var b;null===(b=this._fullRequestReader)||void 0===b||b.cancel(p);for(const $ of this._rangeReaders.slice(0))$.cancel(p);this._pdfDataRangeTransport.abort()}};class z{constructor(p,b,$=!1,Z=null){this._stream=p,this._done=$||!1,this._filename=(0,C.isPdfFile)(Z)?Z:null,this._queuedChunks=b||[],this._loaded=0;for(const N of this._queuedChunks)this._loaded+=N.byteLength;this._requests=[],this._headersReady=Promise.resolve(),p._fullRequestReader=this,this.onProgress=null}_enqueue(p){this._done||(this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunks.push(p),this._loaded+=p.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var p=this;return _asyncToGenerator(function*(){if(p._queuedChunks.length>0)return{value:p._queuedChunks.shift(),done:!1};if(p._done)return{value:void 0,done:!0};const b=new i.PromiseCapability;return p._requests.push(b),b.promise})()}cancel(p){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(p,b,$){this._stream=p,this._begin=b,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(p){if(!this._done){if(0===this._requests.length)this._queuedChunk=p;else{this._requests.shift().resolve({value:p,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var p=this;return _asyncToGenerator(function*(){if(p._queuedChunk){const $=p._queuedChunk;return p._queuedChunk=null,{value:$,done:!1}}if(p._done)return{value:void 0,done:!0};const b=new i.PromiseCapability;return p._requests.push(b),b.promise})()}cancel(p){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var i=L(1),C=L(20);function R($,Z,N){return{method:"GET",headers:$,signal:N.signal,mode:"cors",credentials:Z?"include":"same-origin",redirect:"follow"}}function z($){const Z=new Headers;for(const N in $){const y=$[N];void 0!==y&&Z.append(N,y)}return Z}function F($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,i.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}s.PDFFetchStream=class w{constructor(Z){this.source=Z,this.isHttp=/^https?:/i.test(Z.url),this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Z,N;return null!==(Z=null===(N=this._fullRequestReader)||void 0===N?void 0:N._loaded)&&void 0!==Z?Z:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p(this),this._fullRequestReader}getRangeReader(Z,N){if(N<=this._progressiveDataLength)return null;const y=new b(this,Z,N);return this._rangeRequestReaders.push(y),y}cancelAllRequests(Z){var N;null===(N=this._fullRequestReader)||void 0===N||N.cancel(Z);for(const y of this._rangeRequestReaders.slice(0))y.cancel(Z)}};class p{constructor(Z){this._stream=Z,this._reader=null,this._loaded=0,this._filename=null;const N=Z.source;this._withCredentials=N.withCredentials||!1,this._contentLength=N.length,this._headersCapability=new i.PromiseCapability,this._disableRange=N.disableRange||!1,this._rangeChunkSize=N.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!N.disableStream,this._isRangeSupported=!N.disableRange,this._headers=z(this._stream.httpHeaders);const y=N.url;fetch(y,R(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!(0,C.validateResponseStatus)(c.status))throw(0,C.createResponseStatusError)(c.status,y);this._reader=c.body.getReader(),this._headersCapability.resolve();const d=v=>c.headers.get(v),{allowRangeRequests:a,suggestedLength:u}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=u||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){var N;yield Z._headersCapability.promise;const{value:y,done:c}=yield Z._reader.read();return c?{value:y,done:c}:(Z._loaded+=y.byteLength,null===(N=Z.onProgress)||void 0===N||N.call(Z,{loaded:Z._loaded,total:Z._contentLength}),{value:F(y),done:!1})})()}cancel(Z){var N;null===(N=this._reader)||void 0===N||N.cancel(Z),this._abortController.abort()}}class b{constructor(Z,N,y){this._stream=Z,this._reader=null,this._loaded=0;const c=Z.source;this._withCredentials=c.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController,this._headers=z(this._stream.httpHeaders),this._headers.append("Range",`bytes=${N}-${y-1}`);const d=c.url;fetch(d,R(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,C.validateResponseStatus)(a.status))throw(0,C.createResponseStatusError)(a.status,d);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){var N;yield Z._readCapability.promise;const{value:y,done:c}=yield Z._reader.read();return c?{value:y,done:c}:(Z._loaded+=y.byteLength,null===(N=Z.onProgress)||void 0===N||N.call(Z,{loaded:Z._loaded}),{value:F(y),done:!1})})()}cancel(Z){var N;null===(N=this._reader)||void 0===N||N.cancel(Z),this._abortController.abort()}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=function w(b,$){return 404===b||0===b&&$.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+$+'".'):new i.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${$}".`,b)},s.extractFilenameFromHeader=function F(b){const $=b("Content-Disposition");if($){let Z=(0,C.getFilenameFromContentDispositionHeader)($);if(Z.includes("%"))try{Z=decodeURIComponent(Z)}catch{}if((0,R.isPdfFile)(Z))return Z}return null},s.validateRangeRequestCapabilities=function z({getResponseHeader:b,isHttp:$,rangeChunkSize:Z,disableRange:N}){const y={allowRangeRequests:!1,suggestedLength:void 0},c=parseInt(b("Content-Length"),10);return!Number.isInteger(c)||(y.suggestedLength=c,c<=2*Z)||N||!$||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity")||(y.allowRangeRequests=!0),y},s.validateResponseStatus=function p(b){return 200===b||206===b};var i=L(1),C=L(21),R=L(6)},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=function C(R){let z=!0,F=w("filename\\*","i").exec(R);if(F){F=F[1];let c=Z(F);return c=unescape(c),c=N(c),c=y(c),b(c)}if(F=function $(c){const d=[];let a;const u=w("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(a=u.exec(c));){let[,A,o,n]=a;if(A=parseInt(A,10),A in d){if(0===A)break}else d[A]=[o,n]}const v=[];for(let A=0;A<d.length&&A in d;++A){let[o,n]=d[A];n=Z(n),o&&(n=unescape(n),0===A&&(n=N(n))),v.push(n)}return v.join("")}(R),F)return b(y(F));if(F=w("filename","i").exec(R),F){F=F[1];let c=Z(F);return c=y(c),b(c)}function w(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function p(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const a=new TextDecoder(c,{fatal:!0}),u=(0,i.stringToBytes)(d);d=a.decode(u),z=!1}catch{}}return d}function b(c){return z&&/[\x80-\xff]/.test(c)&&(c=p("utf-8",c),z&&(c=p("iso-8859-1",c))),c}function Z(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let a=0;a<d.length;++a){const u=d[a].indexOf('"');-1!==u&&(d[a]=d[a].slice(0,u),d.length=a+1),d[a]=d[a].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function N(c){const d=c.indexOf("'");return-1===d?c:p(c.slice(0,d),c.slice(d+1).replace(/^[^']*'/,""))}function y(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,a,u,v){if("q"===u||"Q"===u)return p(a,v=(v=v.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(A,o){return String.fromCharCode(parseInt(o,16))}));try{v=atob(v)}catch{}return p(a,v)})}return""};var i=L(1)},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var i=L(1),C=L(20);class w{constructor(N,y={}){this.url=N,this.isHttp=/^https?:/i.test(N),this.httpHeaders=this.isHttp&&y.httpHeaders||Object.create(null),this.withCredentials=y.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(N,y,c){const d={begin:N,end:y};for(const a in c)d[a]=c[a];return this.request(d)}requestFull(N){return this.request(N)}request(N){const y=new XMLHttpRequest,c=this.currXhrId++,d=this.pendingRequests[c]={xhr:y};y.open("GET",this.url),y.withCredentials=this.withCredentials;for(const a in this.httpHeaders){const u=this.httpHeaders[a];void 0!==u&&y.setRequestHeader(a,u)}return this.isHttp&&"begin"in N&&"end"in N?(y.setRequestHeader("Range",`bytes=${N.begin}-${N.end-1}`),d.expectedStatus=206):d.expectedStatus=200,y.responseType="arraybuffer",N.onError&&(y.onerror=function(a){N.onError(y.status)}),y.onreadystatechange=this.onStateChange.bind(this,c),y.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=N.onHeadersReceived,d.onDone=N.onDone,d.onError=N.onError,d.onProgress=N.onProgress,y.send(null),c}onProgress(N,y){var c;const d=this.pendingRequests[N];d&&(null===(c=d.onProgress)||void 0===c||c.call(d,y))}onStateChange(N,y){const c=this.pendingRequests[N];if(!c)return;const d=c.xhr;if(d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4!==d.readyState||!(N in this.pendingRequests))return;var a;if(delete this.pendingRequests[N],0===d.status&&this.isHttp)return void(null===(a=c.onError)||void 0===a||a.call(c,d.status));const u=d.status||200;var A;if((200!==u||206!==c.expectedStatus)&&u!==c.expectedStatus)return void(null===(A=c.onError)||void 0===A||A.call(c,d.status));const o=function F(Z){const N=Z.response;return"string"!=typeof N?N:(0,i.stringToBytes)(N).buffer}(d);if(206===u){const M=d.getResponseHeader("Content-Range"),B=/bytes (\d+)-(\d+)\/(\d+)/.exec(M);c.onDone({begin:parseInt(B[1],10),chunk:o})}else if(o)c.onDone({begin:0,chunk:o});else{var n;null===(n=c.onError)||void 0===n||n.call(c,d.status)}}getRequestXhr(N){return this.pendingRequests[N].xhr}isPendingRequest(N){return N in this.pendingRequests}abortRequest(N){const y=this.pendingRequests[N].xhr;delete this.pendingRequests[N],y.abort()}}s.PDFNetworkStream=class p{constructor(N){this._source=N,this._manager=new w(N.url,{httpHeaders:N.httpHeaders,withCredentials:N.withCredentials}),this._rangeChunkSize=N.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(N){const y=this._rangeRequestReaders.indexOf(N);y>=0&&this._rangeRequestReaders.splice(y,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(N,y){const c=new $(this._manager,N,y);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c}cancelAllRequests(N){var y;null===(y=this._fullRequestReader)||void 0===y||y.cancel(N);for(const c of this._rangeRequestReaders.slice(0))c.cancel(N)}};class b{constructor(N,y){this._manager=N;const c={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=N.requestFull(c),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const N=this._fullRequestId,y=this._manager.getRequestXhr(N),c=u=>y.getResponseHeader(u),{allowRangeRequests:d,suggestedLength:a}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(c),this._isRangeSupported&&this._manager.abortRequest(N),this._headersReceivedCapability.resolve()}_onDone(N){if(N&&(this._requests.length>0?this._requests.shift().resolve({value:N.chunk,done:!1}):this._cachedChunks.push(N.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(N){this._storedError=(0,C.createResponseStatusError)(N,this._url),this._headersReceivedCapability.reject(this._storedError);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(N){var y;null===(y=this.onProgress)||void 0===y||y.call(this,{loaded:N.loaded,total:N.lengthComputable?N.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(N._cachedChunks.length>0)return{value:N._cachedChunks.shift(),done:!1};if(N._done)return{value:void 0,done:!0};const y=new i.PromiseCapability;return N._requests.push(y),y.promise})()}cancel(N){this._done=!0,this._headersReceivedCapability.reject(N);for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(N,y,c){this._manager=N;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=N.url,this._requestId=N.requestRange(y,c,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var N;null===(N=this.onClosed)||void 0===N||N.call(this,this)}_onDone(N){const y=N.chunk;this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunk=y,this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(N){this._storedError=(0,C.createResponseStatusError)(N,this._url);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(N){var y;this.isStreamingSupported||null===(y=this.onProgress)||void 0===y||y.call(this,{loaded:N.loaded})}get isStreamingSupported(){return!1}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(null!==N._queuedChunk){const c=N._queuedChunk;return N._queuedChunk=null,{value:c,done:!1}}if(N._done)return{value:void 0,done:!0};const y=new i.PromiseCapability;return N._requests.push(y),y.promise})()}cancel(N){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var i=L(1),C=L(20);const R=/^file:\/\/\/[a-zA-Z]:\//;s.PDFNodeStream=class F{constructor(d){this.source=d,this.url=function z(c){const d=__webpack_require__(66671),a=d.parse(c);return"file:"===a.protocol||a.host?a:/^[a-z]:[/\\]/i.test(c)?d.parse(`file:///${c}`):(a.host||(a.protocol="file:"),a)}(d.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var d,a;return null!==(d=null===(a=this._fullRequestReader)||void 0===a?void 0:a._loaded)&&void 0!==d?d:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new N(this):new $(this),this._fullRequestReader}getRangeReader(d,a){if(a<=this._progressiveDataLength)return null;const u=this.isFsUrl?new y(this,d,a):new Z(this,d,a);return this._rangeRequestReaders.push(u),u}cancelAllRequests(d){var a;null===(a=this._fullRequestReader)||void 0===a||a.cancel(d);for(const u of this._rangeRequestReaders.slice(0))u.cancel(d)}};class w{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null;const a=d.source;this._contentLength=a.length,this._loaded=0,this._filename=null,this._disableRange=a.disableRange||!1,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){var a;if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const u=d._readableStream.read();return null===u?(d._readCapability=new i.PromiseCapability,d.read()):(d._loaded+=u.length,null===(a=d.onProgress)||void 0===a||a.call(d,{loaded:d._loaded,total:d._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",a=>{this._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!d.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){var a;if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const u=d._readableStream.read();return null===u?(d._readCapability=new i.PromiseCapability,d.read()):(d._loaded+=u.length,null===(a=d.onProgress)||void 0===a||a.call(d,{loaded:d._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",a=>{this._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(c,d){return{protocol:c.protocol,auth:c.auth,host:c.hostname,port:c.port,path:c.path,method:"GET",headers:d}}class $ extends w{constructor(d){super(d);const a=u=>{if(404===u.statusCode){const n=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=n,void this._headersCapability.reject(n)}this._headersCapability.resolve(),this._setReadableStream(u);const v=n=>this._readableStream.headers[n.toLowerCase()],{allowRangeRequests:A,suggestedLength:o}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:d.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=o||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(v)};if(this._request=null,"http:"===this._url.protocol){const u=__webpack_require__(97492);this._request=u.request(b(this._url,d.httpHeaders),a)}else{const u=__webpack_require__(31815);this._request=u.request(b(this._url,d.httpHeaders),a)}this._request.on("error",u=>{this._storedError=u,this._headersCapability.reject(u)}),this._request.end()}}class Z extends p{constructor(d,a,u){super(d),this._httpHeaders={};for(const A in d.httpHeaders){const o=d.httpHeaders[A];void 0!==o&&(this._httpHeaders[A]=o)}this._httpHeaders.Range=`bytes=${a}-${u-1}`;const v=A=>{if(404!==A.statusCode)this._setReadableStream(A);else{const o=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=o}};if(this._request=null,"http:"===this._url.protocol){const A=__webpack_require__(97492);this._request=A.request(b(this._url,this._httpHeaders),v)}else{const A=__webpack_require__(31815);this._request=A.request(b(this._url,this._httpHeaders),v)}this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class N extends w{constructor(d){super(d);let a=decodeURIComponent(this._url.path);R.test(this._url.href)&&(a=a.replace(/^\//,""));const u=__webpack_require__(23237);u.lstat(a,(v,A)=>{if(v)return"ENOENT"===v.code&&(v=new i.MissingPDFException(`Missing PDF "${a}".`)),this._storedError=v,void this._headersCapability.reject(v);this._contentLength=A.size,this._setReadableStream(u.createReadStream(a)),this._headersCapability.resolve()})}}class y extends p{constructor(d,a,u){super(d);let v=decodeURIComponent(this._url.path);R.test(this._url.href)&&(v=v.replace(/^\//,""));const A=__webpack_require__(23237);this._setReadableStream(A.createReadStream(v,{start:a,end:u-1}))}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var i=L(6),C=L(1);const w=["butt","round","square"],p=["miter","round","bevel"],b=function(A,o="",n=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!n)return URL.createObjectURL(new Blob([A],{type:o}));const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let B=`data:${o};base64,`;for(let k=0,Y=A.length;k<Y;k+=3){const r=255&A[k],l=255&A[k+1],h=255&A[k+2];B+=M[r>>2]+M[(3&r)<<4|l>>4]+M[k+1<Y?(15&l)<<2|h>>6:64]+M[k+2<Y?63&h:64]}return B},$=function(){const A=new Uint8Array([137,80,78,71,13,10,26,10]),n=new Int32Array(256);for(let h=0;h<256;h++){let P=h;for(let G=0;G<8;G++)P=1&P?3988292384^P>>1&2147483647:P>>1&2147483647;n[h]=P}function B(h,P,G,K){let J=K;const Q=P.length;G[J]=Q>>24&255,G[J+1]=Q>>16&255,G[J+2]=Q>>8&255,G[J+3]=255&Q,J+=4,G[J]=255&h.charCodeAt(0),G[J+1]=255&h.charCodeAt(1),G[J+2]=255&h.charCodeAt(2),G[J+3]=255&h.charCodeAt(3),J+=4,G.set(P,J),J+=P.length;const x=function M(h,P,G){let K=-1;for(let J=P;J<G;J++)K=K>>>8^n[255&(K^h[J])];return~K}(G,K+4,J);G[J]=x>>24&255,G[J+1]=x>>16&255,G[J+2]=x>>8&255,G[J+3]=255&x}function r(h){let P=h.length;const G=65535,K=Math.ceil(P/G),J=new Uint8Array(2+P+5*K+4);let Q=0;J[Q++]=120,J[Q++]=156;let x=0;for(;P>G;)J[Q++]=0,J[Q++]=255,J[Q++]=255,J[Q++]=0,J[Q++]=0,J.set(h.subarray(x,x+G),Q),Q+=G,x+=G,P-=G;J[Q++]=1,J[Q++]=255&P,J[Q++]=P>>8&255,J[Q++]=255&~P,J[Q++]=(65535&~P)>>8&255,J.set(h.subarray(x),Q),Q+=h.length-x;const V=function k(h,P,G){let K=1,J=0;for(let Q=P;Q<G;++Q)K=(K+(255&h[Q]))%65521,J=(J+K)%65521;return J<<16|K}(h,0,h.length);return J[Q++]=V>>24&255,J[Q++]=V>>16&255,J[Q++]=V>>8&255,J[Q++]=255&V,J}return function(P,G,K){return function l(h,P,G,K){const J=h.width,Q=h.height;let x,V,S;const e=h.data;switch(P){case C.ImageKind.GRAYSCALE_1BPP:V=0,x=1,S=J+7>>3;break;case C.ImageKind.RGB_24BPP:V=2,x=8,S=3*J;break;case C.ImageKind.RGBA_32BPP:V=6,x=8,S=4*J;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+S)*Q);let f=0,g=0;for(let he=0;he<Q;++he)t[f++]=0,t.set(e.subarray(g,g+S),f),g+=S,f+=S;if(P===C.ImageKind.GRAYSCALE_1BPP&&K){f=0;for(let he=0;he<Q;he++){f++;for(let le=0;le<S;le++)t[f++]^=255}}const m=new Uint8Array([J>>24&255,J>>16&255,J>>8&255,255&J,Q>>24&255,Q>>16&255,Q>>8&255,255&Q,x,V,0,0,0]),T=function Y(h){if(!C.isNodeJS)return r(h);try{const P=parseInt(process.versions.node)>=8?h:Buffer.from(h),G=__webpack_require__(82787).deflateSync(P,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(P){(0,C.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+P)}return r(h)}(t),ie=new Uint8Array(A.length+36+m.length+T.length);let de=0;return ie.set(A,de),de+=A.length,B("IHDR",m,ie,de),de+=12+m.length,B("IDATA",T,ie,de),de+=12+T.length,B("IEND",new Uint8Array(0),ie,de),b(ie,"image/png",G)}(P,void 0===P.kind?C.ImageKind.GRAYSCALE_1BPP:P.kind,G,K)}}();class Z{constructor(){this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=C.IDENTITY_MATRIX,this.fontMatrix=C.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=C.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(o,n){this.x=o,this.y=n}}function y(A){if(Number.isInteger(A))return A.toString();const o=A.toFixed(10);let n=o.length-1;if("0"!==o[n])return o;do{n--}while("0"===o[n]);return o.substring(0,"."===o[n]?n:n+1)}function c(A){if(0===A[4]&&0===A[5]){if(0===A[1]&&0===A[2])return 1===A[0]&&1===A[3]?"":`scale(${y(A[0])} ${y(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2])return`rotate(${y(180*Math.acos(A[0])/Math.PI)})`}else if(1===A[0]&&0===A[1]&&0===A[2]&&1===A[3])return`translate(${y(A[4])} ${y(A[5])})`;return`matrix(${y(A[0])} ${y(A[1])} ${y(A[2])} ${y(A[3])} ${y(A[4])} ${y(A[5])})`}let d=0,a=0,u=0;s.SVGGraphics=class v{constructor(o,n,M=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new Z,this.transformMatrix=C.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=o,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!M,this._operatorIdMapping=[];for(const B in C.OPS)this._operatorIdMapping[C.OPS[B]]=B}getObject(o,n=null){return"string"==typeof o?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):n}save(){this.transformStack.push(this.transformMatrix);const o=this.current;this.extraStack.push(o),this.current=o.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(o){this.save(),this.executeOpTree(o),this.restore()}loadDependencies(o){const n=o.fnArray,M=o.argsArray;for(let B=0,k=n.length;B<k;B++)if(n[B]===C.OPS.dependency)for(const Y of M[B]){const r=Y.startsWith("g_")?this.commonObjs:this.objs,l=new Promise(h=>{r.get(Y,h)});this.current.dependencies.push(l)}return Promise.all(this.current.dependencies)}transform(o,n,M,B,k,Y){this.transformMatrix=C.Util.transform(this.transformMatrix,[o,n,M,B,k,Y]),this.tgrp=null}getSVG(o,n){this.viewport=n;const M=this._initialize(n);return this.loadDependencies(o).then(()=>(this.transformMatrix=C.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(o)),M))}convertOpList(o){const n=this._operatorIdMapping,M=o.argsArray,B=o.fnArray,k=[];for(let Y=0,r=B.length;Y<r;Y++){const l=B[Y];k.push({fnId:l,fn:n[l],args:M[Y]})}return function N(A){let o=[];const n=[];for(const M of A)"save"!==M.fn?"restore"===M.fn?o=n.pop():o.push(M):(o.push({fnId:92,fn:"group",items:[]}),n.push(o),o=o.at(-1).items);return o}(k)}executeOpTree(o){for(const n of o){const M=n.fn,k=n.args;switch(0|n.fnId){case C.OPS.beginText:this.beginText();break;case C.OPS.dependency:break;case C.OPS.setLeading:this.setLeading(k);break;case C.OPS.setLeadingMoveText:this.setLeadingMoveText(k[0],k[1]);break;case C.OPS.setFont:this.setFont(k);break;case C.OPS.showText:case C.OPS.showSpacedText:this.showText(k[0]);break;case C.OPS.endText:this.endText();break;case C.OPS.moveText:this.moveText(k[0],k[1]);break;case C.OPS.setCharSpacing:this.setCharSpacing(k[0]);break;case C.OPS.setWordSpacing:this.setWordSpacing(k[0]);break;case C.OPS.setHScale:this.setHScale(k[0]);break;case C.OPS.setTextMatrix:this.setTextMatrix(k[0],k[1],k[2],k[3],k[4],k[5]);break;case C.OPS.setTextRise:this.setTextRise(k[0]);break;case C.OPS.setTextRenderingMode:this.setTextRenderingMode(k[0]);break;case C.OPS.setLineWidth:this.setLineWidth(k[0]);break;case C.OPS.setLineJoin:this.setLineJoin(k[0]);break;case C.OPS.setLineCap:this.setLineCap(k[0]);break;case C.OPS.setMiterLimit:this.setMiterLimit(k[0]);break;case C.OPS.setFillRGBColor:this.setFillRGBColor(k[0],k[1],k[2]);break;case C.OPS.setStrokeRGBColor:this.setStrokeRGBColor(k[0],k[1],k[2]);break;case C.OPS.setStrokeColorN:this.setStrokeColorN(k);break;case C.OPS.setFillColorN:this.setFillColorN(k);break;case C.OPS.shadingFill:this.shadingFill(k[0]);break;case C.OPS.setDash:this.setDash(k[0],k[1]);break;case C.OPS.setRenderingIntent:this.setRenderingIntent(k[0]);break;case C.OPS.setFlatness:this.setFlatness(k[0]);break;case C.OPS.setGState:this.setGState(k[0]);break;case C.OPS.fill:this.fill();break;case C.OPS.eoFill:this.eoFill();break;case C.OPS.stroke:this.stroke();break;case C.OPS.fillStroke:this.fillStroke();break;case C.OPS.eoFillStroke:this.eoFillStroke();break;case C.OPS.clip:this.clip("nonzero");break;case C.OPS.eoClip:this.clip("evenodd");break;case C.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case C.OPS.paintImageXObject:this.paintImageXObject(k[0]);break;case C.OPS.paintInlineImageXObject:this.paintInlineImageXObject(k[0]);break;case C.OPS.paintImageMaskXObject:this.paintImageMaskXObject(k[0]);break;case C.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(k[0],k[1]);break;case C.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case C.OPS.closePath:this.closePath();break;case C.OPS.closeStroke:this.closeStroke();break;case C.OPS.closeFillStroke:this.closeFillStroke();break;case C.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case C.OPS.nextLine:this.nextLine();break;case C.OPS.transform:this.transform(k[0],k[1],k[2],k[3],k[4],k[5]);break;case C.OPS.constructPath:this.constructPath(k[0],k[1]);break;case C.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,C.warn)(`Unimplemented operator ${M}`)}}}setWordSpacing(o){this.current.wordSpacing=o}setCharSpacing(o){this.current.charSpacing=o}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(o,n,M,B,k,Y){const r=this.current;r.textMatrix=r.lineMatrix=[o,n,M,B,k,Y],r.textMatrixScale=Math.hypot(o,n),r.x=r.lineX=0,r.y=r.lineY=0,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${y(r.fontSize)}px`),r.tspan.setAttributeNS(null,"y",y(-r.y)),r.txtElement=this.svgFactory.createElement("svg:text"),r.txtElement.append(r.tspan)}beginText(){const o=this.current;o.x=o.lineX=0,o.y=o.lineY=0,o.textMatrix=C.IDENTITY_MATRIX,o.lineMatrix=C.IDENTITY_MATRIX,o.textMatrixScale=1,o.tspan=this.svgFactory.createElement("svg:tspan"),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtgrp=this.svgFactory.createElement("svg:g"),o.xcoords=[],o.ycoords=[]}moveText(o,n){const M=this.current;M.x=M.lineX+=o,M.y=M.lineY+=n,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${y(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",y(-M.y))}showText(o){const n=this.current,M=n.font,B=n.fontSize;if(0===B)return;const k=n.fontSizeScale,Y=n.charSpacing,r=n.wordSpacing,l=n.fontDirection,h=n.textHScale*l,P=M.vertical,G=P?1:-1,K=M.defaultVMetrics,J=B*n.fontMatrix[0];let Q=0;for(const S of o){if(null===S){Q+=l*r;continue}if("number"==typeof S){Q+=G*S*B/1e3;continue}const e=(S.isSpace?r:0)+Y,t=S.fontChar;let f,g,m=S.width;if(P){let E;const ie=S.vmetric||K;E=S.vmetric?ie[1]:.5*m,E=-E*J,m=ie?-ie[0]:m,f=E/k,g=(Q+ie[2]*J)/k}else f=Q/k,g=0;(S.isInFont||M.missingFile)&&(n.xcoords.push(n.x+f),P&&n.ycoords.push(-n.y+g),n.tspan.textContent+=t),Q+=P?m*J-e*l:m*J+e*l}n.tspan.setAttributeNS(null,"x",n.xcoords.map(y).join(" ")),n.tspan.setAttributeNS(null,"y",P?n.ycoords.map(y).join(" "):y(-n.y)),P?n.y-=Q:n.x+=Q*h,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${y(n.fontSize)}px`),"normal"!==n.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),"normal"!==n.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const x=n.textRenderingMode&C.TextRenderingMode.FILL_STROKE_MASK;x===C.TextRenderingMode.FILL||x===C.TextRenderingMode.FILL_STROKE?("#000000"!==n.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===C.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(x===C.TextRenderingMode.STROKE||x===C.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let V=n.textMatrix;0!==n.textRise&&(V=V.slice(),V[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${c(V)} scale(${y(h)}, -1)`),n.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.txtElement.append(n.tspan),n.txtgrp.append(n.txtElement),this._ensureTransformGroup().append(n.txtElement)}setLeadingMoveText(o,n){this.setLeading(-n),this.moveText(o,n)}addFontStyle(o){if(!o.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const n=b(o.data,o.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${o.loadedName}"; src: url(${n}); }\n`}setFont(o){const n=this.current,M=this.commonObjs.get(o[0]);let B=o[1];n.font=M,this.embedFonts&&!M.missingFile&&!this.embeddedFonts[M.loadedName]&&(this.addFontStyle(M),this.embeddedFonts[M.loadedName]=M),n.fontMatrix=M.fontMatrix||C.FONT_IDENTITY_MATRIX;let k="normal";M.black?k="900":M.bold&&(k="bold");const Y=M.italic?"italic":"normal";B<0?(B=-B,n.fontDirection=-1):n.fontDirection=1,n.fontSize=B,n.fontFamily=M.loadedName,n.fontWeight=k,n.fontStyle=Y,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",y(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){var o;const n=this.current;n.textRenderingMode&C.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(o=n.txtElement)&&void 0!==o&&o.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(o){o>0&&(this.current.lineWidth=o)}setLineCap(o){this.current.lineCap=w[o]}setLineJoin(o){this.current.lineJoin=p[o]}setMiterLimit(o){this.current.miterLimit=o}setStrokeAlpha(o){this.current.strokeAlpha=o}setStrokeRGBColor(o,n,M){this.current.strokeColor=C.Util.makeHexColor(o,n,M)}setFillAlpha(o){this.current.fillAlpha=o}setFillRGBColor(o,n,M){this.current.fillColor=C.Util.makeHexColor(o,n,M),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(o){this.current.strokeColor=this._makeColorN_Pattern(o)}setFillColorN(o){this.current.fillColor=this._makeColorN_Pattern(o)}shadingFill(o){const{width:n,height:M}=this.viewport,B=C.Util.inverseTransform(this.transformMatrix),[k,Y,r,l]=C.Util.getAxialAlignedBoundingBox([0,0,n,M],B),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",k),h.setAttributeNS(null,"y",Y),h.setAttributeNS(null,"width",r-k),h.setAttributeNS(null,"height",l-Y),h.setAttributeNS(null,"fill",this._makeShadingPattern(o)),this.current.fillAlpha<1&&h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(h)}_makeColorN_Pattern(o){return"TilingPattern"===o[0]?this._makeTilingPattern(o):this._makeShadingPattern(o)}_makeTilingPattern(o){const n=o[1],M=o[2],B=o[3]||C.IDENTITY_MATRIX,[k,Y,r,l]=o[4],h=o[5],P=o[6],G=o[7],K="shading"+u++,[J,Q,x,V]=C.Util.normalizeRect([...C.Util.applyTransform([k,Y],B),...C.Util.applyTransform([r,l],B)]),[S,e]=C.Util.singularValueDecompose2dScale(B),t=h*S,f=P*e,g=this.svgFactory.createElement("svg:pattern");g.setAttributeNS(null,"id",K),g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"width",t),g.setAttributeNS(null,"height",f),g.setAttributeNS(null,"x",`${J}`),g.setAttributeNS(null,"y",`${Q}`);const m=this.svg,T=this.transformMatrix,E=this.current.fillColor,ie=this.current.strokeColor,de=this.svgFactory.create(x-J,V-Q);if(this.svg=de,this.transformMatrix=B,2===G){const he=C.Util.makeHexColor(...n);this.current.fillColor=he,this.current.strokeColor=he}return this.executeOpTree(this.convertOpList(M)),this.svg=m,this.transformMatrix=T,this.current.fillColor=E,this.current.strokeColor=ie,g.append(de.childNodes[0]),this.defs.append(g),`url(#${K})`}_makeShadingPattern(o){switch("string"==typeof o&&(o=this.objs.get(o)),o[0]){case"RadialAxial":const n="shading"+u++,M=o[3];let B;switch(o[1]){case"axial":const k=o[4],Y=o[5];B=this.svgFactory.createElement("svg:linearGradient"),B.setAttributeNS(null,"id",n),B.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),B.setAttributeNS(null,"x1",k[0]),B.setAttributeNS(null,"y1",k[1]),B.setAttributeNS(null,"x2",Y[0]),B.setAttributeNS(null,"y2",Y[1]);break;case"radial":const r=o[4],l=o[5],h=o[6],P=o[7];B=this.svgFactory.createElement("svg:radialGradient"),B.setAttributeNS(null,"id",n),B.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),B.setAttributeNS(null,"cx",l[0]),B.setAttributeNS(null,"cy",l[1]),B.setAttributeNS(null,"r",P),B.setAttributeNS(null,"fx",r[0]),B.setAttributeNS(null,"fy",r[1]),B.setAttributeNS(null,"fr",h);break;default:throw new Error(`Unknown RadialAxial type: ${o[1]}`)}for(const k of M){const Y=this.svgFactory.createElement("svg:stop");Y.setAttributeNS(null,"offset",k[0]),Y.setAttributeNS(null,"stop-color",k[1]),B.append(Y)}return this.defs.append(B),`url(#${n})`;case"Mesh":return(0,C.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${o[0]}`)}}setDash(o,n){this.current.dashArray=o,this.current.dashPhase=n}constructPath(o,n){const M=this.current;let B=M.x,k=M.y,Y=[],r=0;for(const l of o)switch(0|l){case C.OPS.rectangle:B=n[r++],k=n[r++];const G=B+n[r++],K=k+n[r++];Y.push("M",y(B),y(k),"L",y(G),y(k),"L",y(G),y(K),"L",y(B),y(K),"Z");break;case C.OPS.moveTo:B=n[r++],k=n[r++],Y.push("M",y(B),y(k));break;case C.OPS.lineTo:B=n[r++],k=n[r++],Y.push("L",y(B),y(k));break;case C.OPS.curveTo:B=n[r+4],k=n[r+5],Y.push("C",y(n[r]),y(n[r+1]),y(n[r+2]),y(n[r+3]),y(B),y(k)),r+=6;break;case C.OPS.curveTo2:Y.push("C",y(B),y(k),y(n[r]),y(n[r+1]),y(n[r+2]),y(n[r+3])),B=n[r+2],k=n[r+3],r+=4;break;case C.OPS.curveTo3:B=n[r+2],k=n[r+3],Y.push("C",y(n[r]),y(n[r+1]),y(B),y(k),y(B),y(k)),r+=4;break;case C.OPS.closePath:Y.push("Z")}Y=Y.join(" "),M.path&&o.length>0&&o[0]!==C.OPS.rectangle&&o[0]!==C.OPS.moveTo?Y=M.path.getAttributeNS(null,"d")+Y:(M.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(M.path)),M.path.setAttributeNS(null,"d",Y),M.path.setAttributeNS(null,"fill","none"),M.element=M.path,M.setCurrentPoint(B,k)}endPath(){const o=this.current;if(o.path=null,!this.pendingClip)return;if(!o.element)return void(this.pendingClip=null);const n="clippath"+d++,M=this.svgFactory.createElement("svg:clipPath");M.setAttributeNS(null,"id",n),M.setAttributeNS(null,"transform",c(this.transformMatrix));const B=o.element.cloneNode(!0);if(B.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,M.append(B),this.defs.append(M),o.activeClipUrl){o.clipGroup=null;for(const k of this.extraStack)k.clipGroup=null;M.setAttributeNS(null,"clip-path",o.activeClipUrl)}o.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(o){this.pendingClip=o}closePath(){const o=this.current;if(o.path){const n=`${o.path.getAttributeNS(null,"d")}Z`;o.path.setAttributeNS(null,"d",n)}}setLeading(o){this.current.leading=-o}setTextRise(o){this.current.textRise=o}setTextRenderingMode(o){this.current.textRenderingMode=o}setHScale(o){this.current.textHScale=o/100}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(const[n,M]of o)switch(n){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M);break;case"CA":this.setStrokeAlpha(M);break;case"ca":this.setFillAlpha(M);break;default:(0,C.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const o=this.current;o.element&&(o.element.setAttributeNS(null,"fill",o.fillColor),o.element.setAttributeNS(null,"fill-opacity",o.fillAlpha),this.endPath())}stroke(){const o=this.current;o.element&&(this._setStrokeAttributes(o.element),o.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(o,n=1){const M=this.current;let B=M.dashArray;1!==n&&B.length>0&&(B=B.map(function(k){return n*k})),o.setAttributeNS(null,"stroke",M.strokeColor),o.setAttributeNS(null,"stroke-opacity",M.strokeAlpha),o.setAttributeNS(null,"stroke-miterlimit",y(M.miterLimit)),o.setAttributeNS(null,"stroke-linecap",M.lineCap),o.setAttributeNS(null,"stroke-linejoin",M.lineJoin),o.setAttributeNS(null,"stroke-width",y(n*M.lineWidth)+"px"),o.setAttributeNS(null,"stroke-dasharray",B.map(y).join(" ")),o.setAttributeNS(null,"stroke-dashoffset",y(n*M.dashPhase)+"px")}eoFill(){var o;null===(o=this.current.element)||void 0===o||o.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var o;null===(o=this.current.element)||void 0===o||o.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width","1px"),o.setAttributeNS(null,"height","1px"),o.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(o)}paintImageXObject(o){const n=this.getObject(o);n?this.paintInlineImageXObject(n):(0,C.warn)(`Dependent image with object ID ${o} is not ready yet`)}paintInlineImageXObject(o,n){const M=o.width,B=o.height,k=$(o,this.forceDataSchema,!!n),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",y(M)),Y.setAttributeNS(null,"height",y(B)),this.current.element=Y,this.clip("nonzero");const r=this.svgFactory.createElement("svg:image");r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k),r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y",y(-B)),r.setAttributeNS(null,"width",y(M)+"px"),r.setAttributeNS(null,"height",y(B)+"px"),r.setAttributeNS(null,"transform",`scale(${y(1/M)} ${y(-1/B)})`),n?n.append(r):this._ensureTransformGroup().append(r)}paintImageMaskXObject(o){const n=this.getObject(o.data,o);if(n.bitmap)return void(0,C.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const M=this.current,B=n.width,k=n.height,Y=M.fillColor;M.maskId="mask"+a++;const r=this.svgFactory.createElement("svg:mask");r.setAttributeNS(null,"id",M.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",y(B)),l.setAttributeNS(null,"height",y(k)),l.setAttributeNS(null,"fill",Y),l.setAttributeNS(null,"mask",`url(#${M.maskId})`),this.defs.append(r),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(n,r)}paintFormXObjectBegin(o,n){if(Array.isArray(o)&&6===o.length&&this.transform(o[0],o[1],o[2],o[3],o[4],o[5]),n){const M=n[2]-n[0],B=n[3]-n[1],k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",n[0]),k.setAttributeNS(null,"y",n[1]),k.setAttributeNS(null,"width",y(M)),k.setAttributeNS(null,"height",y(B)),this.current.element=k,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(o){const n=this.svgFactory.create(o.width,o.height),M=this.svgFactory.createElement("svg:defs");n.append(M),this.defs=M;const B=this.svgFactory.createElement("svg:g");return B.setAttributeNS(null,"transform",c(o.transform)),n.append(B),this.svg=B,n}_ensureClipGroup(){if(!this.current.clipGroup){const o=this.svgFactory.createElement("svg:g");o.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(o),this.current.clipGroup=o}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(X,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class L{static textContent(C){const R=[],z={items:R,styles:Object.create(null)};return function F(w){var p;if(!w)return;let b=null;const $=w.name;if("#text"===$)b=w.value;else{if(!L.shouldBuildText($))return;null!=w&&null!==(p=w.attributes)&&void 0!==p&&p.textContent?b=w.attributes.textContent:w.value&&(b=w.value)}if(null!==b&&R.push({str:b}),w.children)for(const Z of w.children)F(Z)}(C),z}static shouldBuildText(C){return!("textarea"===C||"input"===C||"option"===C||"select"===C)}}s.XfaText=L},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=function c(a){!a.textContentSource&&(a.textContent||a.textContentStream)&&((0,C.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),a.textContentSource=a.textContent||a.textContentStream);const{container:u,viewport:v}=a,A=getComputedStyle(u),o=A.getPropertyValue("visibility"),n=parseFloat(A.getPropertyValue("--scale-factor"));"visible"===o&&(!n||Math.abs(n-v.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const M=new y(a);return M._render(),M},s.updateTextLayer=function d({container:a,viewport:u,textDivs:v,textDivProperties:A,isOffscreenCanvasSupported:o,mustRotate:n=!0,mustRescale:M=!0}){if(n&&(0,C.setLayerDimensions)(a,{rotation:u.rotation}),M){const B=p(0,o),Y={prevFontSize:null,prevFontFamily:null,div:null,scale:u.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:B};for(const r of v)Y.properties=A.get(r),Y.div=r,Z(Y)}};var i=L(1),C=L(6);const z=30,w=new Map;function p(a,u){let v;if(u&&i.FeatureTest.isOffscreenCanvasSupported)v=new OffscreenCanvas(a,a).getContext("2d",{alpha:!1});else{const A=document.createElement("canvas");A.width=A.height=a,v=A.getContext("2d",{alpha:!1})}return v}function $(a,u,v){const A=document.createElement("span"),o={angle:0,canvasWidth:0,hasText:""!==u.str,hasEOL:u.hasEOL,fontSize:0};a._textDivs.push(A);const n=i.Util.transform(a._transform,u.transform);let M=Math.atan2(n[1],n[0]);const B=v[u.fontName];B.vertical&&(M+=Math.PI/2);const k=Math.hypot(n[2],n[3]),Y=k*function b(a,u){const v=w.get(a);if(v)return v;const A=p(z,u);A.font=`30px ${a}`;const o=A.measureText("");let n=o.fontBoundingBoxAscent,M=Math.abs(o.fontBoundingBoxDescent);if(n){const k=n/(n+M);return w.set(a,k),A.canvas.width=A.canvas.height=0,k}A.strokeStyle="red",A.clearRect(0,0,z,z),A.strokeText("g",0,0);let B=A.getImageData(0,0,z,z).data;M=0;for(let k=B.length-1-3;k>=0;k-=4)if(B[k]>0){M=Math.ceil(k/4/z);break}A.clearRect(0,0,z,z),A.strokeText("A",0,z),B=A.getImageData(0,0,z,z).data,n=0;for(let k=0,Y=B.length;k<Y;k+=4)if(B[k]>0){n=z-Math.floor(k/4/z);break}if(A.canvas.width=A.canvas.height=0,n){const k=n/(n+M);return w.set(a,k),k}return w.set(a,.8),.8}(B.fontFamily,a._isOffscreenCanvasSupported);let r,l;0===M?(r=n[4],l=n[5]-Y):(r=n[4]+Y*Math.sin(M),l=n[5]-Y*Math.cos(M));const h="calc(var(--scale-factor)*",P=A.style;a._container===a._rootContainer?(P.left=`${(100*r/a._pageWidth).toFixed(2)}%`,P.top=`${(100*l/a._pageHeight).toFixed(2)}%`):(P.left=`${h}${r.toFixed(2)}px)`,P.top=`${h}${l.toFixed(2)}px)`),P.fontSize=`${h}${k.toFixed(2)}px)`,P.fontFamily=B.fontFamily,o.fontSize=k,A.setAttribute("role","presentation"),A.textContent=u.str,A.dir=u.dir,a._fontInspectorEnabled&&(A.dataset.fontName=u.fontName),0!==M&&(o.angle=M*(180/Math.PI));let G=!1;if(u.str.length>1)G=!0;else if(" "!==u.str&&u.transform[0]!==u.transform[3]){const K=Math.abs(u.transform[0]),J=Math.abs(u.transform[3]);K!==J&&Math.max(K,J)/Math.min(K,J)>1.5&&(G=!0)}G&&(o.canvasWidth=B.vertical?u.height:u.width),a._textDivProperties.set(A,o),a._isReadableStream&&a._layoutText(A)}function Z(a){const{div:u,scale:v,properties:A,ctx:o,prevFontSize:n,prevFontFamily:M}=a,{style:B}=u;let k="";if(0!==A.canvasWidth&&A.hasText){const{fontFamily:Y}=B,{canvasWidth:r,fontSize:l}=A;(n!==l||M!==Y)&&(o.font=`${l*v}px ${Y}`,a.prevFontSize=l,a.prevFontFamily=Y);const{width:h}=o.measureText(u.textContent);h>0&&(k=`scaleX(${r*v/h})`)}0!==A.angle&&(k=`rotate(${A.angle}deg) ${k}`),k.length>0&&(B.transform=k)}class y{constructor({textContentSource:u,container:v,viewport:A,textDivs:o,textDivProperties:n,textContentItemsStr:M,isOffscreenCanvasSupported:B}){var k;this._textContentSource=u,this._isReadableStream=u instanceof ReadableStream,this._container=this._rootContainer=v,this._textDivs=o||[],this._textContentItemsStr=M||[],this._isOffscreenCanvasSupported=B,this._fontInspectorEnabled=!(null===(k=globalThis.FontInspector)||void 0===k||!k.enabled),this._reader=null,this._textDivProperties=n||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:p(0,B)};const{pageWidth:Y,pageHeight:r,pageX:l,pageY:h}=A.rawDims;this._transform=[1,0,0,-1,-l,h+r],this._pageWidth=Y,this._pageHeight=r,(0,C.setLayerDimensions)(v,A),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(u,v){for(const A of u)if(void 0!==A.str)this._textContentItemsStr.push(A.str),$(this,A,v);else if("beginMarkedContentProps"===A.type||"beginMarkedContent"===A.type){const o=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==A.id&&this._container.setAttribute("id",`${A.id}`),o.append(this._container)}else"endMarkedContent"===A.type&&(this._container=this._container.parentNode)}_layoutText(u){const v=this._layoutTextParams.properties=this._textDivProperties.get(u);if(this._layoutTextParams.div=u,Z(this._layoutTextParams),v.hasText&&this._container.append(u),v.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){const u=new i.PromiseCapability;let v=Object.create(null);if(this._isReadableStream){const A=()=>{this._reader.read().then(({value:o,done:n})=>{n?u.resolve():(Object.assign(v,o.styles),this._processItems(o.items,v),A())},u.reject)};this._reader=this._textContentSource.getReader(),A()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:A,styles:o}=this._textContentSource;this._processItems(A,o),u.resolve()}}u.promise.then(()=>{v=null,function N(a){if(a._canceled)return;const u=a._textDivs,v=a._capability;if(u.length>1e5)v.resolve();else{if(!a._isReadableStream)for(const o of u)a._layoutText(o);v.resolve()}}(this)},this._capability.reject)}}s.TextLayerRenderTask=y},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var i=L(1),C=L(4),R=L(28),z=L(33),F=L(6),w=L(34);s.AnnotationEditorLayer=(()=>{var b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakMap,v=new WeakMap,A=new WeakSet;class o{constructor({uiManager:r,pageIndex:l,div:h,accessibilityManager:P,annotationLayer:G,viewport:K,l10n:J}){_classPrivateMethodInitSpec(this,A),_classPrivateFieldInitSpec(this,b,void 0),_classPrivateFieldInitSpec(this,$,!1),_classPrivateFieldInitSpec(this,Z,null),_classPrivateFieldInitSpec(this,N,this.pointerup.bind(this)),_classPrivateFieldInitSpec(this,y,this.pointerdown.bind(this)),_classPrivateFieldInitSpec(this,c,new Map),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,a,!1),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldInitSpec(this,v,void 0);const Q=[R.FreeTextEditor,z.InkEditor,w.StampEditor];if(!o._initialized){o._initialized=!0;for(const x of Q)x.initialize(J)}r.registerEditorTypes(Q),_classPrivateFieldSet(v,this,r),this.pageIndex=l,this.div=h,_classPrivateFieldSet(b,this,P),_classPrivateFieldSet(Z,this,G),this.viewport=K,_classPrivateFieldGet(v,this).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(c,this).size}updateToolbar(r){_classPrivateFieldGet(v,this).updateToolbar(r)}updateMode(r=_classPrivateFieldGet(v,this).getMode()){_assertClassBrand(A,this,k).call(this),r===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),r!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",r===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",r===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",r===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(r){if(r||_classPrivateFieldGet(v,this).getMode()===i.AnnotationEditorType.INK){if(!r)for(const h of _classPrivateFieldGet(c,this).values())if(h.isEmpty())return void h.setInBackground();_assertClassBrand(A,this,M).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(r){_classPrivateFieldGet(v,this).setEditingState(r)}addCommands(r){_classPrivateFieldGet(v,this).addCommands(r)}enable(){this.div.style.pointerEvents="auto";const r=new Set;for(const h of _classPrivateFieldGet(c,this).values())h.enableEditing(),h.annotationElementId&&r.add(h.annotationElementId);if(!_classPrivateFieldGet(Z,this))return;const l=_classPrivateFieldGet(Z,this).getEditableAnnotations();for(const h of l){if(h.hide(),_classPrivateFieldGet(v,this).isDeletedAnnotationElement(h.data.id)||r.has(h.data.id))continue;const P=this.deserialize(h);P&&(this.addOrRebuild(P),P.enableEditing())}}disable(){_classPrivateFieldSet(u,this,!0),this.div.style.pointerEvents="none";const r=new Set;for(const h of _classPrivateFieldGet(c,this).values()){var l;h.disableEditing(),h.annotationElementId&&null===h.serialize()?(null===(l=this.getEditableAnnotation(h.annotationElementId))||void 0===l||l.show(),h.remove()):r.add(h.annotationElementId)}if(_classPrivateFieldGet(Z,this)){const h=_classPrivateFieldGet(Z,this).getEditableAnnotations();for(const P of h){const{id:G}=P.data;r.has(G)||_classPrivateFieldGet(v,this).isDeletedAnnotationElement(G)||P.show()}}_assertClassBrand(A,this,k).call(this),this.isEmpty&&(this.div.hidden=!0),_classPrivateFieldSet(u,this,!1)}getEditableAnnotation(r){var l;return(null===(l=_classPrivateFieldGet(Z,this))||void 0===l?void 0:l.getEditableAnnotation(r))||null}setActiveEditor(r){_classPrivateFieldGet(v,this).getActive()!==r&&_classPrivateFieldGet(v,this).setActiveEditor(r)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(y,this)),this.div.addEventListener("pointerup",_classPrivateFieldGet(N,this))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(y,this)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(N,this))}attach(r){_classPrivateFieldGet(c,this).set(r.id,r);const{annotationElementId:l}=r;l&&_classPrivateFieldGet(v,this).isDeletedAnnotationElement(l)&&_classPrivateFieldGet(v,this).removeDeletedAnnotationElement(r)}detach(r){var l;_classPrivateFieldGet(c,this).delete(r.id),null===(l=_classPrivateFieldGet(b,this))||void 0===l||l.removePointerInTextLayer(r.contentDiv),!_classPrivateFieldGet(u,this)&&r.annotationElementId&&_classPrivateFieldGet(v,this).addDeletedAnnotationElement(r)}remove(r){this.detach(r),_classPrivateFieldGet(v,this).removeEditor(r),r.div.contains(document.activeElement)&&setTimeout(()=>{_classPrivateFieldGet(v,this).focusMainContainer()},0),r.div.remove(),r.isAttachedToDOM=!1,_classPrivateFieldGet(a,this)||this.addInkEditorIfNeeded(!1)}changeParent(r){var l;r.parent!==this&&(r.annotationElementId&&(_classPrivateFieldGet(v,this).addDeletedAnnotationElement(r.annotationElementId),C.AnnotationEditor.deleteAnnotationElement(r),r.annotationElementId=null),this.attach(r),null===(l=r.parent)||void 0===l||l.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))}add(r){if(this.changeParent(r),_classPrivateFieldGet(v,this).addEditor(r),this.attach(r),!r.isAttachedToDOM){const l=r.render();this.div.append(l),r.isAttachedToDOM=!0}r.fixAndSetPosition(),r.onceAdded(),_classPrivateFieldGet(v,this).addToAnnotationStorage(r)}moveEditorInDOM(r){var l;if(!r.isAttachedToDOM)return;const{activeElement:h}=document;r.div.contains(h)&&(r._focusEventsAllowed=!1,setTimeout(()=>{r.div.contains(document.activeElement)?r._focusEventsAllowed=!0:(r.div.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0}),h.focus())},0)),r._structTreeParentId=null===(l=_classPrivateFieldGet(b,this))||void 0===l?void 0:l.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?r.rebuild():this.add(r)}addUndoableEditor(r){this.addCommands({cmd:()=>r._uiManager.rebuild(r),undo:()=>{r.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(v,this).getId()}pasteEditor(r,l){_classPrivateFieldGet(v,this).updateToolbar(r),_classPrivateFieldGet(v,this).updateMode(r);const{offsetX:h,offsetY:P}=_assertClassBrand(A,this,B).call(this),G=this.getNextId(),K=_assertClassBrand(A,this,n).call(this,{parent:this,id:G,x:h,y:P,uiManager:_classPrivateFieldGet(v,this),isCentered:!0,...l});K&&this.add(K)}deserialize(r){var l;switch(null!==(l=r.annotationType)&&void 0!==l?l:r.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return R.FreeTextEditor.deserialize(r,this,_classPrivateFieldGet(v,this));case i.AnnotationEditorType.INK:return z.InkEditor.deserialize(r,this,_classPrivateFieldGet(v,this));case i.AnnotationEditorType.STAMP:return w.StampEditor.deserialize(r,this,_classPrivateFieldGet(v,this))}return null}addNewEditor(){_assertClassBrand(A,this,M).call(this,_assertClassBrand(A,this,B).call(this),!0)}setSelected(r){_classPrivateFieldGet(v,this).setSelected(r)}toggleSelected(r){_classPrivateFieldGet(v,this).toggleSelected(r)}isSelected(r){return _classPrivateFieldGet(v,this).isSelected(r)}unselect(r){_classPrivateFieldGet(v,this).unselect(r)}pointerup(r){const{isMac:l}=i.FeatureTest.platform;if(!(0!==r.button||r.ctrlKey&&l)&&r.target===this.div&&_classPrivateFieldGet(d,this)){if(_classPrivateFieldSet(d,this,!1),!_classPrivateFieldGet($,this))return void _classPrivateFieldSet($,this,!0);if(_classPrivateFieldGet(v,this).getMode()===i.AnnotationEditorType.STAMP)return void _classPrivateFieldGet(v,this).unselectAll();_assertClassBrand(A,this,M).call(this,r,!1)}}pointerdown(r){if(_classPrivateFieldGet(d,this))return void _classPrivateFieldSet(d,this,!1);const{isMac:l}=i.FeatureTest.platform;if(0!==r.button||r.ctrlKey&&l||r.target!==this.div)return;_classPrivateFieldSet(d,this,!0);const h=_classPrivateFieldGet(v,this).getActive();_classPrivateFieldSet($,this,!h||h.isEmpty())}findNewParent(r,l,h){const P=_classPrivateFieldGet(v,this).findParent(l,h);return null!==P&&P!==this&&(P.changeParent(r),!0)}destroy(){var r;(null===(r=_classPrivateFieldGet(v,this).getActive())||void 0===r?void 0:r.parent)===this&&(_classPrivateFieldGet(v,this).commitOrRemove(),_classPrivateFieldGet(v,this).setActiveEditor(null));for(const h of _classPrivateFieldGet(c,this).values()){var l;null===(l=_classPrivateFieldGet(b,this))||void 0===l||l.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove()}this.div=null,_classPrivateFieldGet(c,this).clear(),_classPrivateFieldGet(v,this).removeLayer(this)}render({viewport:r}){this.viewport=r,(0,F.setLayerDimensions)(this.div,r);for(const l of _classPrivateFieldGet(v,this).getEditors(this.pageIndex))this.add(l);this.updateMode()}update({viewport:r}){_classPrivateFieldGet(v,this).commitOrRemove(),this.viewport=r,(0,F.setLayerDimensions)(this.div,{rotation:r.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:r,pageHeight:l}=this.viewport.rawDims;return[r,l]}}function n(Y){switch(_classPrivateFieldGet(v,this).getMode()){case i.AnnotationEditorType.FREETEXT:return new R.FreeTextEditor(Y);case i.AnnotationEditorType.INK:return new z.InkEditor(Y);case i.AnnotationEditorType.STAMP:return new w.StampEditor(Y)}return null}function M(Y,r){const l=this.getNextId(),h=_assertClassBrand(A,this,n).call(this,{parent:this,id:l,x:Y.offsetX,y:Y.offsetY,uiManager:_classPrivateFieldGet(v,this),isCentered:r});return h&&this.add(h),h}function B(){const{x:Y,y:r,width:l,height:h}=this.div.getBoundingClientRect(),P=Math.max(0,Y),G=Math.max(0,r),Q=(P+Math.min(window.innerWidth,Y+l))/2-Y,x=(G+Math.min(window.innerHeight,r+h))/2-r,[V,S]=this.viewport.rotation%180==0?[Q,x]:[x,Q];return{offsetX:V,offsetY:S}}function k(){_classPrivateFieldSet(a,this,!0);for(const Y of _classPrivateFieldGet(c,this).values())Y.isEmpty()&&Y.remove();_classPrivateFieldSet(a,this,!1)}return _defineProperty(o,"_initialized",!1),o})()},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var i=L(1),C=L(5),R=L(4),z=L(29);s.FreeTextEditor=(()=>{var w,p=new WeakMap,b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakSet;class v extends R.AnnotationEditor{static get _keyboardManager(){const l=v.prototype,h=K=>K.isEmpty(),P=C.AnnotationEditorUIManager.TRANSLATE_SMALL,G=C.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new C.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],l.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],l.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],l._translateEmpty,{args:[-P,0],checker:h}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],l._translateEmpty,{args:[-G,0],checker:h}],[["ArrowRight","mac+ArrowRight"],l._translateEmpty,{args:[P,0],checker:h}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],l._translateEmpty,{args:[G,0],checker:h}],[["ArrowUp","mac+ArrowUp"],l._translateEmpty,{args:[0,-P],checker:h}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],l._translateEmpty,{args:[0,-G],checker:h}],[["ArrowDown","mac+ArrowDown"],l._translateEmpty,{args:[0,P],checker:h}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],l._translateEmpty,{args:[0,G],checker:h}]]))}constructor(l){super({...l,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,u),_classPrivateFieldInitSpec(this,p,this.editorDivBlur.bind(this)),_classPrivateFieldInitSpec(this,b,this.editorDivFocus.bind(this)),_classPrivateFieldInitSpec(this,$,this.editorDivInput.bind(this)),_classPrivateFieldInitSpec(this,Z,this.editorDivKeydown.bind(this)),_classPrivateFieldInitSpec(this,N,void 0),_classPrivateFieldInitSpec(this,y,""),_classPrivateFieldInitSpec(this,c,`${this.id}-editor`),_classPrivateFieldInitSpec(this,d,void 0),_classPrivateFieldInitSpec(this,a,null),_classPrivateFieldSet(N,this,l.color||v._defaultColor||R.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(d,this,l.fontSize||v._defaultFontSize)}static initialize(l){R.AnnotationEditor.initialize(l,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const h=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(h.getPropertyValue("--freetext-padding"))}static updateDefaultParams(l,h){switch(l){case i.AnnotationEditorParamsType.FREETEXT_SIZE:v._defaultFontSize=h;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:v._defaultColor=h}}updateParams(l,h){switch(l){case i.AnnotationEditorParamsType.FREETEXT_SIZE:_assertClassBrand(u,this,A).call(this,h);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:_assertClassBrand(u,this,o).call(this,h)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,v._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,v._defaultColor||R.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(d,this)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(N,this)]]}_translateEmpty(l,h){this._uiManager.translateSelectedEditors(l,h,!0)}getInitialTranslation(){const l=this.parentScale;return[-v._internalPadding*l,-(v._internalPadding+_classPrivateFieldGet(d,this))*l]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(Z,this)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(b,this)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(p,this)),this.editorDiv.addEventListener("input",_classPrivateFieldGet($,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(c,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(Z,this)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(b,this)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(p,this)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet($,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(l){this._focusEventsAllowed&&(super.focusin(l),l.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var l;this.width?_assertClassBrand(u,this,Y).call(this):(this.enableEditMode(),this.editorDiv.focus(),null!==(l=this._initialOptions)&&void 0!==l&&l.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const l=_classPrivateFieldGet(y,this),h=_classPrivateFieldSet(y,this,_assertClassBrand(u,this,n).call(this).trimEnd());if(l===h)return;const P=G=>{_classPrivateFieldSet(y,this,G),G?(_assertClassBrand(u,this,B).call(this),this._uiManager.rebuild(this),_assertClassBrand(u,this,M).call(this)):this.remove()};this.addCommands({cmd:()=>{P(h)},undo:()=>{P(l)},mustExec:!1}),_assertClassBrand(u,this,M).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(l){this.enterInEditMode()}keydown(l){l.target===this.div&&"Enter"===l.key&&(this.enterInEditMode(),l.preventDefault())}editorDivKeydown(l){v._keyboardManager.exec(this,l)}editorDivFocus(l){this.isEditing=!0}editorDivBlur(l){this.isEditing=!1}editorDivInput(l){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let l,h;this.width&&(l=this.x,h=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(c,this)),this.enableEditing(),R.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(G=>{var K;return null===(K=this.editorDiv)||void 0===K?void 0:K.setAttribute("aria-label",G)}),R.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(G=>{var K;return null===(K=this.editorDiv)||void 0===K?void 0:K.setAttribute("default-content",G)}),this.editorDiv.contentEditable=!0;const{style:P}=this.editorDiv;if(P.fontSize=`calc(${_classPrivateFieldGet(d,this)}px * var(--scale-factor))`,P.color=_classPrivateFieldGet(N,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,C.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[G,K]=this.parentDimensions;if(this.annotationElementId){const{position:J}=_classPrivateFieldGet(a,this);let[Q,x]=this.getInitialTranslation();[Q,x]=this.pageTranslationToScreen(Q,x);const[V,S]=this.pageDimensions,[e,t]=this.pageTranslation;let f,g;switch(this.rotation){case 0:f=l+(J[0]-e)/V,g=h+this.height-(J[1]-t)/S;break;case 90:f=l+(J[0]-e)/V,g=h-(J[1]-t)/S,[Q,x]=[x,-Q];break;case 180:f=l-this.width+(J[0]-e)/V,g=h-(J[1]-t)/S,[Q,x]=[-Q,-x];break;case 270:f=l+(J[0]-e-this.height*S)/V,g=h+(J[1]-t-this.width*V)/S,[Q,x]=[-x,Q]}this.setAt(f*G,g*K,Q,x)}else this.setAt(l*G,h*K,this.width*G,this.height*K);_assertClassBrand(u,this,B).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(l,h,P){let G=null;if(l instanceof z.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:J,fontColor:Q},rect:x,rotation:V,id:S},textContent:e,textPosition:t,parent:{page:{pageNumber:f}}}=l;if(!e||0===e.length)return null;G=l={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(Q),fontSize:J,value:e.join("\n"),position:t,pageIndex:f-1,rect:x,rotation:V,id:S,deleted:!1}}const K=super.deserialize(l,h,P);return _classPrivateFieldSet(d,K,l.fontSize),_classPrivateFieldSet(N,K,i.Util.makeHexColor(...l.color)),_classPrivateFieldSet(y,K,l.value),K.annotationElementId=l.id||null,_classPrivateFieldSet(a,K,G),K}serialize(l=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const h=v._internalPadding*this.parentScale,P=this.getRect(h,h),G=R.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(N,this)),K={annotationType:i.AnnotationEditorType.FREETEXT,color:G,fontSize:_classPrivateFieldGet(d,this),value:_classPrivateFieldGet(y,this),pageIndex:this.pageIndex,rect:P,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return l?K:this.annotationElementId&&!_assertClassBrand(u,this,k).call(this,K)?null:(K.id=this.annotationElementId,K)}}function A(r){const l=P=>{this.editorDiv.style.fontSize=`calc(${P}px * var(--scale-factor))`,this.translate(0,-(P-_classPrivateFieldGet(d,this))*this.parentScale),_classPrivateFieldSet(d,this,P),_assertClassBrand(u,this,M).call(this)},h=_classPrivateFieldGet(d,this);this.addCommands({cmd:()=>{l(r)},undo:()=>{l(h)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function o(r){const l=_classPrivateFieldGet(N,this);this.addCommands({cmd:()=>{_classPrivateFieldSet(N,this,this.editorDiv.style.color=r)},undo:()=>{_classPrivateFieldSet(N,this,this.editorDiv.style.color=l)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function n(){const r=this.editorDiv.getElementsByTagName("div");if(0===r.length)return this.editorDiv.innerText;const l=[];for(const h of r)l.push(h.innerText.replace(/\r\n?|\n/,""));return l.join("\n")}function M(){const[r,l]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:P,div:G}=this,K=G.style.display;G.style.display="hidden",P.div.append(this.div),h=G.getBoundingClientRect(),G.remove(),G.style.display=K}this.rotation%180==this.parentRotation%180?(this.width=h.width/r,this.height=h.height/l):(this.width=h.height/r,this.height=h.width/l),this.fixAndSetPosition()}function B(){if(this.editorDiv.replaceChildren(),_classPrivateFieldGet(y,this))for(const r of _classPrivateFieldGet(y,this).split("\n")){const l=document.createElement("div");l.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(l)}}function k(r){const{value:l,fontSize:h,color:P,rect:G,pageIndex:K}=_classPrivateFieldGet(a,this);return r.value!==l||r.fontSize!==h||r.rect.some((J,Q)=>Math.abs(J-G[Q])>=1)||r.color.some((J,Q)=>J!==P[Q])||r.pageIndex!==K}function Y(r=!1){if(!this.annotationElementId)return;if(_assertClassBrand(u,this,M).call(this),!r&&(0===this.width||0===this.height))return void setTimeout(()=>_assertClassBrand(u,this,Y).call(this,!0),0);const l=w._internalPadding*this.parentScale;_classPrivateFieldGet(a,this).rect=this.getRect(l,l)}return w=v,_defineProperty(v,"_freeTextDefaultContent",""),_defineProperty(v,"_internalPadding",0),_defineProperty(v,"_defaultColor",null),_defineProperty(v,"_defaultFontSize",10),_defineProperty(v,"_type","freetext"),v})()},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var i=L(1),C=L(6),R=L(3),z=L(30),F=L(31),w=L(32);const p=1e3,$=new WeakSet;function Z(be){return{width:be[2]-be[0],height:be[3]-be[1]}}class N{static create(D){switch(D.data.annotationType){case i.AnnotationType.LINK:return new a(D);case i.AnnotationType.TEXT:return new A(D);case i.AnnotationType.WIDGET:switch(D.data.fieldType){case"Tx":return new n(D);case"Btn":return D.data.radioButton?new k(D):D.data.checkBox?new B(D):new Y(D);case"Ch":return new r(D);case"Sig":return new M(D)}return new o(D);case i.AnnotationType.POPUP:return new l(D);case i.AnnotationType.FREETEXT:return new ue(D);case i.AnnotationType.LINE:return new W(D);case i.AnnotationType.SQUARE:return new ce(D);case i.AnnotationType.CIRCLE:return new Fe(D);case i.AnnotationType.POLYLINE:return new Ee(D);case i.AnnotationType.CARET:return new Se(D);case i.AnnotationType.INK:return new pe(D);case i.AnnotationType.POLYGON:return new ve(D);case i.AnnotationType.HIGHLIGHT:return new ne(D);case i.AnnotationType.UNDERLINE:return new O(D);case i.AnnotationType.SQUIGGLY:return new _(D);case i.AnnotationType.STRIKEOUT:return new H(D);case i.AnnotationType.STAMP:return new re(D);case i.AnnotationType.FILEATTACHMENT:return new q(D);default:return new c(D)}}}var y=new WeakMap;class c{constructor(D,{isRenderable:j=!1,ignoreBorder:ae=!1,createQuadrilaterals:fe=!1}={}){_classPrivateFieldInitSpec(this,y,!1),this.isRenderable=j,this.data=D.data,this.layer=D.layer,this.linkService=D.linkService,this.downloadManager=D.downloadManager,this.imageResourcesPath=D.imageResourcesPath,this.renderForms=D.renderForms,this.svgFactory=D.svgFactory,this.annotationStorage=D.annotationStorage,this.enableScripting=D.enableScripting,this.hasJSActions=D.hasJSActions,this._fieldObjects=D.fieldObjects,this.parent=D.parent,j&&(this.container=this._createContainer(ae)),fe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:D,contentsObj:j,richText:ae}){return!!(null!=D&&D.str||null!=j&&j.str||null!=ae&&ae.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(D){const{data:j,parent:{page:ae,viewport:fe}}=this,ge=document.createElement("section");ge.setAttribute("data-annotation-id",j.id),this instanceof o||(ge.tabIndex=p),ge.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ge.setAttribute("aria-haspopup","dialog"),j.noRotate&&ge.classList.add("norotate");const{pageWidth:Pe,pageHeight:De,pageX:Ne,pageY:ke}=fe.rawDims;if(!j.rect||this instanceof l){const{rotation:We}=j;return!j.hasOwnCanvas&&0!==We&&this.setRotation(We,ge),ge}const{width:Le,height:Ie}=Z(j.rect),Te=i.Util.normalizeRect([j.rect[0],ae.view[3]-j.rect[1]+ae.view[1],j.rect[2],ae.view[3]-j.rect[3]+ae.view[1]]);if(!D&&j.borderStyle.width>0){ge.style.borderWidth=`${j.borderStyle.width}px`;const We=j.borderStyle.horizontalCornerRadius,Ve=j.borderStyle.verticalCornerRadius;switch(We>0||Ve>0?ge.style.borderRadius=`calc(${We}px * var(--scale-factor)) / calc(${Ve}px * var(--scale-factor))`:this instanceof k&&(ge.style.borderRadius=`calc(${Le}px * var(--scale-factor)) / calc(${Ie}px * var(--scale-factor))`),j.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:ge.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:ge.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:ge.style.borderBottomStyle="solid"}const je=j.borderColor||null;je?(_classPrivateFieldSet(y,this,!0),ge.style.borderColor=i.Util.makeHexColor(0|je[0],0|je[1],0|je[2])):ge.style.borderWidth=0}ge.style.left=100*(Te[0]-Ne)/Pe+"%",ge.style.top=100*(Te[1]-ke)/De+"%";const{rotation:Ue}=j;return j.hasOwnCanvas||0===Ue?(ge.style.width=100*Le/Pe+"%",ge.style.height=100*Ie/De+"%"):this.setRotation(Ue,ge),ge}setRotation(D,j=this.container){if(!this.data.rect)return;const{pageWidth:ae,pageHeight:fe}=this.parent.viewport.rawDims,{width:ge,height:Pe}=Z(this.data.rect);let De,Ne;D%180==0?(De=100*ge/ae,Ne=100*Pe/fe):(De=100*Pe/ae,Ne=100*ge/fe),j.style.width=`${De}%`,j.style.height=`${Ne}%`,j.setAttribute("data-main-rotation",(360-D)%360)}get _commonActions(){const D=(j,ae,fe)=>{const ge=fe.detail[j],Pe=ge[0],De=ge.slice(1);fe.target.style[ae]=z.ColorConverters[`${Pe}_HTML`](De),this.annotationStorage.setValue(this.data.id,{[ae]:z.ColorConverters[`${Pe}_rgb`](De)})};return(0,i.shadow)(this,"_commonActions",{display:j=>{const{display:ae}=j.detail,fe=ae%2==1;this.container.style.visibility=fe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:fe,noPrint:1===ae||2===ae})},print:j=>{this.annotationStorage.setValue(this.data.id,{noPrint:!j.detail.print})},hidden:j=>{const{hidden:ae}=j.detail;this.container.style.visibility=ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ae,noView:ae})},focus:j=>{setTimeout(()=>j.target.focus({preventScroll:!1}),0)},userName:j=>{j.target.title=j.detail.userName},readonly:j=>{j.target.disabled=j.detail.readonly},required:j=>{this._setRequired(j.target,j.detail.required)},bgColor:j=>{D("bgColor","backgroundColor",j)},fillColor:j=>{D("fillColor","backgroundColor",j)},fgColor:j=>{D("fgColor","color",j)},textColor:j=>{D("textColor","color",j)},borderColor:j=>{D("borderColor","borderColor",j)},strokeColor:j=>{D("strokeColor","borderColor",j)},rotation:j=>{const ae=j.detail.rotation;this.setRotation(ae),this.annotationStorage.setValue(this.data.id,{rotation:ae})}})}_dispatchEventFromSandbox(D,j){const ae=this._commonActions;for(const fe of Object.keys(j.detail)){const ge=D[fe]||ae[fe];null==ge||ge(j)}}_setDefaultPropertiesFromJS(D){if(!this.enableScripting)return;const j=this.annotationStorage.getRawValue(this.data.id);if(!j)return;const ae=this._commonActions;for(const[fe,ge]of Object.entries(j)){const Pe=ae[fe];Pe&&(Pe({detail:{[fe]:ge},target:D}),delete j[fe])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:D}=this.data;if(!D)return;const[j,ae,fe,ge]=this.data.rect;if(1===D.length){const[,{x:je,y:He},{x:ze,y:$e}]=D[0];if(fe===je&&ge===He&&j===ze&&ae===$e)return}const{style:Pe}=this.container;let De;if(_classPrivateFieldGet(y,this)){const{borderColor:je,borderWidth:He}=Pe;Pe.borderWidth=0,De=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${je}" stroke-width="${He}">`],this.container.classList.add("hasBorder")}const Ne=fe-j,ke=ge-ae,{svgFactory:Le}=this,Ie=Le.createElement("svg");Ie.classList.add("quadrilateralsContainer"),Ie.setAttribute("width",0),Ie.setAttribute("height",0);const Te=Le.createElement("defs");Ie.append(Te);const Ue=Le.createElement("clipPath"),We=`clippath_${this.data.id}`;Ue.setAttribute("id",We),Ue.setAttribute("clipPathUnits","objectBoundingBox"),Te.append(Ue);for(const[,{x:je,y:He},{x:ze,y:$e}]of D){var Ve;const Xe=Le.createElement("rect"),Ye=(ze-j)/Ne,Ke=(ge-He)/ke,Qe=(je-ze)/Ne,qe=(He-$e)/ke;Xe.setAttribute("x",Ye),Xe.setAttribute("y",Ke),Xe.setAttribute("width",Qe),Xe.setAttribute("height",qe),Ue.append(Xe),null===(Ve=De)||void 0===Ve||Ve.push(`<rect vector-effect="non-scaling-stroke" x="${Ye}" y="${Ke}" width="${Qe}" height="${qe}"/>`)}_classPrivateFieldGet(y,this)&&(De.push("</g></svg>')"),Pe.backgroundImage=De.join("")),this.container.append(Ie),this.container.style.clipPath=`url(#${We})`}_createPopup(){const{container:D,data:j}=this;D.setAttribute("aria-haspopup","dialog");const ae=new l({data:{color:j.color,titleObj:j.titleObj,modificationDate:j.modificationDate,contentsObj:j.contentsObj,richText:j.richText,parentRect:j.rect,borderStyle:0,id:`popup_${j.id}`,rotation:j.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ae.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(D,j=null){const ae=[];if(this._fieldObjects){const fe=this._fieldObjects[D];if(fe)for(const{page:ge,id:Pe,exportValues:De}of fe){if(-1===ge||Pe===j)continue;const Ne="string"==typeof De?De:null,ke=document.querySelector(`[data-element-id="${Pe}"]`);!ke||$.has(ke)?ae.push({id:Pe,exportValue:Ne,domElement:ke}):(0,i.warn)(`_getElementsByName - element not allowed: ${Pe}`)}return ae}for(const fe of document.getElementsByName(D)){const{exportValue:ge}=fe,Pe=fe.getAttribute("data-element-id");Pe!==j&&$.has(fe)&&ae.push({id:Pe,exportValue:ge,domElement:fe})}return ae}show(){var D;this.container&&(this.container.hidden=!1),null===(D=this.popup)||void 0===D||D.maybeShow()}hide(){var D;this.container&&(this.container.hidden=!0),null===(D=this.popup)||void 0===D||D.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const D=this.getElementsToTriggerPopup();if(Array.isArray(D))for(const j of D)j.classList.add("highlightArea");else D.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:D,data:{id:j}}=this;this.container.addEventListener("dblclick",()=>{var ae;null===(ae=this.linkService.eventBus)||void 0===ae||ae.dispatch("switchannotationeditormode",{source:this,mode:D,editId:j})})}}var d=new WeakSet;class a extends c{constructor(D,j=null){super(D,{isRenderable:!0,ignoreBorder:!(null==j||!j.ignoreBorder),createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,d),this.isTooltipOnly=D.data.isTooltipOnly}render(){const{data:D,linkService:j}=this,ae=document.createElement("a");ae.setAttribute("data-element-id",D.id);let fe=!1;return D.url?(j.addLinkAttributes(ae,D.url,D.newWindow),fe=!0):D.action?(this._bindNamedAction(ae,D.action),fe=!0):D.attachment?(this._bindAttachment(ae,D.attachment),fe=!0):D.setOCGState?(_assertClassBrand(d,this,v).call(this,ae,D.setOCGState),fe=!0):D.dest?(this._bindLink(ae,D.dest),fe=!0):(D.actions&&(D.actions.Action||D.actions["Mouse Up"]||D.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ae,D),fe=!0),D.resetForm?(this._bindResetFormAction(ae,D.resetForm),fe=!0):this.isTooltipOnly&&!fe&&(this._bindLink(ae,""),fe=!0)),this.container.classList.add("linkAnnotation"),fe&&this.container.append(ae),this.container}_bindLink(D,j){D.href=this.linkService.getDestinationHash(j),D.onclick=()=>(j&&this.linkService.goToDestination(j),!1),(j||""===j)&&_assertClassBrand(d,this,u).call(this)}_bindNamedAction(D,j){D.href=this.linkService.getAnchorUrl(""),D.onclick=()=>(this.linkService.executeNamedAction(j),!1),_assertClassBrand(d,this,u).call(this)}_bindAttachment(D,j){D.href=this.linkService.getAnchorUrl(""),D.onclick=()=>{var ae;return null===(ae=this.downloadManager)||void 0===ae||ae.openOrDownloadData(this.container,j.content,j.filename),!1},_assertClassBrand(d,this,u).call(this)}_bindJSAction(D,j){D.href=this.linkService.getAnchorUrl("");const ae=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const fe of Object.keys(j.actions)){const ge=ae.get(fe);ge&&(D[ge]=()=>{var Pe;return null===(Pe=this.linkService.eventBus)||void 0===Pe||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j.id,name:fe}}),!1})}D.onclick||(D.onclick=()=>!1),_assertClassBrand(d,this,u).call(this)}_bindResetFormAction(D,j){const ae=D.onclick;if(ae||(D.href=this.linkService.getAnchorUrl("")),_assertClassBrand(d,this,u).call(this),!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(ae||(D.onclick=()=>!1));D.onclick=()=>{null==ae||ae();const{fields:fe,refs:ge,include:Pe}=j,De=[];if(0!==fe.length||0!==ge.length){const Ie=new Set(ge);for(const Te of fe){const Ue=this._fieldObjects[Te]||[];for(const{id:We}of Ue)Ie.add(We)}for(const Te of Object.values(this._fieldObjects))for(const Ue of Te)Ie.has(Ue.id)===Pe&&De.push(Ue)}else for(const Ie of Object.values(this._fieldObjects))De.push(...Ie);const Ne=this.annotationStorage,ke=[];for(const Ie of De){const{id:Te}=Ie;switch(ke.push(Te),Ie.type){case"text":case"combobox":case"listbox":Ne.setValue(Te,{value:Ie.defaultValue||""});break;case"checkbox":case"radiobutton":Ne.setValue(Te,{value:Ie.defaultValue===Ie.exportValues});break;default:continue}const Ue=document.querySelector(`[data-element-id="${Te}"]`);Ue&&($.has(Ue)?Ue.dispatchEvent(new Event("resetform")):(0,i.warn)(`_bindResetFormAction - element not allowed: ${Te}`))}var Le;return this.enableScripting&&(null===(Le=this.linkService.eventBus)||void 0===Le||Le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ke,name:"ResetForm"}})),!1}}}function u(){this.container.setAttribute("data-internal-link","")}function v(be,D){be.href=this.linkService.getAnchorUrl(""),be.onclick=()=>(this.linkService.executeSetOCGState(D),!1),_assertClassBrand(d,this,u).call(this)}class A extends c{constructor(D){super(D,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const D=document.createElement("img");return D.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",D.alt="[{{type}} Annotation]",D.dataset.l10nId="text_annotation_type",D.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(D),this.container}}class o extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(D){var j;this.data.hasOwnCanvas&&("CANVAS"===(null===(j=D.previousSibling)||void 0===j?void 0:j.nodeName)&&(D.previousSibling.hidden=!0),D.hidden=!1)}_getKeyModifier(D){const{isWin:j,isMac:ae}=i.FeatureTest.platform;return j&&D.ctrlKey||ae&&D.metaKey}_setEventListener(D,j,ae,fe,ge){ae.includes("mouse")?D.addEventListener(ae,Pe=>{var De;null===(De=this.linkService.eventBus)||void 0===De||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:fe,value:ge(Pe),shift:Pe.shiftKey,modifier:this._getKeyModifier(Pe)}})}):D.addEventListener(ae,Pe=>{var De;if("blur"===ae){if(!j.focused||!Pe.relatedTarget)return;j.focused=!1}else if("focus"===ae){if(j.focused)return;j.focused=!0}ge&&(null===(De=this.linkService.eventBus)||void 0===De||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:fe,value:ge(Pe)}}))})}_setEventListeners(D,j,ae,fe){for(const[Ne,ke]of ae){var ge,Pe,De;("Action"===ke||null!==(ge=this.data.actions)&&void 0!==ge&&ge[ke])&&(("Focus"===ke||"Blur"===ke)&&(j||(j={focused:!1})),this._setEventListener(D,j,Ne,ke,fe),"Focus"!==ke||null!==(Pe=this.data.actions)&&void 0!==Pe&&Pe.Blur?"Blur"===ke&&(null===(De=this.data.actions)||void 0===De||!De.Focus)&&this._setEventListener(D,j,"focus","Focus",null):this._setEventListener(D,j,"blur","Blur",null))}}_setBackgroundColor(D){const j=this.data.backgroundColor||null;D.style.backgroundColor=null===j?"transparent":i.Util.makeHexColor(j[0],j[1],j[2])}_setTextStyle(D){const{fontColor:ae}=this.data.defaultAppearanceData,fe=this.data.defaultAppearanceData.fontSize||9,ge=D.style;let Pe;const Ne=ke=>Math.round(10*ke)/10;if(this.data.multiLine){const ke=Math.abs(this.data.rect[3]-this.data.rect[1]-2),Le=Math.round(ke/(i.LINE_FACTOR*fe))||1;Pe=Math.min(fe,Ne(ke/Le/i.LINE_FACTOR))}else{const ke=Math.abs(this.data.rect[3]-this.data.rect[1]-2);Pe=Math.min(fe,Ne(ke/i.LINE_FACTOR))}ge.fontSize=`calc(${Pe}px * var(--scale-factor))`,ge.color=i.Util.makeHexColor(ae[0],ae[1],ae[2]),null!==this.data.textAlignment&&(ge.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(D,j){j?D.setAttribute("required",!0):D.removeAttribute("required"),D.setAttribute("aria-required",j)}}class n extends o{constructor(D){super(D,{isRenderable:D.renderForms||!D.data.hasAppearance&&!!D.data.fieldValue})}setPropertyOnSiblings(D,j,ae,fe){const ge=this.annotationStorage;for(const Pe of this._getElementsByName(D.name,D.id))Pe.domElement&&(Pe.domElement[j]=ae),ge.setValue(Pe.id,{[fe]:ae})}render(){const D=this.annotationStorage,j=this.data.id;this.container.classList.add("textWidgetAnnotation");let ae=null;if(this.renderForms){var fe;const Ne=D.getValue(j,{value:this.data.fieldValue});let ke=Ne.value||"";const Le=D.getValue(j,{charLimit:this.data.maxLen}).charLimit;Le&&ke.length>Le&&(ke=ke.slice(0,Le));let Ie=Ne.formattedValue||(null===(fe=this.data.textContent)||void 0===fe?void 0:fe.join("\n"))||null;Ie&&this.data.comb&&(Ie=Ie.replaceAll(/\s+/g,""));const Te={userValue:ke,formattedValue:Ie,lastCommittedValue:null,commitKey:1,focused:!1};var ge,Pe;this.data.multiLine?(ae=document.createElement("textarea"),ae.textContent=null!==(ge=Ie)&&void 0!==ge?ge:ke,this.data.doNotScroll&&(ae.style.overflowY="hidden")):(ae=document.createElement("input"),ae.type="text",ae.setAttribute("value",null!==(Pe=Ie)&&void 0!==Pe?Pe:ke),this.data.doNotScroll&&(ae.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ae.hidden=!0),$.add(ae),ae.setAttribute("data-element-id",j),ae.disabled=this.data.readOnly,ae.name=this.data.fieldName,ae.tabIndex=p,this._setRequired(ae,this.data.required),Le&&(ae.maxLength=Le),ae.addEventListener("input",We=>{D.setValue(j,{value:We.target.value}),this.setPropertyOnSiblings(ae,"value",We.target.value,"value"),Te.formattedValue=null}),ae.addEventListener("resetform",We=>{var Ve;const je=null!==(Ve=this.data.defaultFieldValue)&&void 0!==Ve?Ve:"";ae.value=Te.userValue=je,Te.formattedValue=null});let Ue=We=>{const{formattedValue:Ve}=Te;null!=Ve&&(We.target.value=Ve),We.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var De;ae.addEventListener("focus",Ve=>{if(Te.focused)return;const{target:je}=Ve;Te.userValue&&(je.value=Te.userValue),Te.lastCommittedValue=je.value,Te.commitKey=1,Te.focused=!0}),ae.addEventListener("updatefromsandbox",Ve=>{this.showElementAndHideCanvas(Ve.target),this._dispatchEventFromSandbox({value(He){var ze;Te.userValue=null!==(ze=He.detail.value)&&void 0!==ze?ze:"",D.setValue(j,{value:Te.userValue.toString()}),He.target.value=Te.userValue},formattedValue(He){const{formattedValue:ze}=He.detail;Te.formattedValue=ze,null!=ze&&He.target!==document.activeElement&&(He.target.value=ze),D.setValue(j,{formattedValue:ze})},selRange(He){He.target.setSelectionRange(...He.detail.selRange)},charLimit:He=>{var ze;const{charLimit:$e}=He.detail,{target:Xe}=He;if(0===$e)return void Xe.removeAttribute("maxLength");Xe.setAttribute("maxLength",$e);let Ye=Te.userValue;!Ye||Ye.length<=$e||(Ye=Ye.slice(0,$e),Xe.value=Te.userValue=Ye,D.setValue(j,{value:Ye}),null===(ze=this.linkService.eventBus)||void 0===ze||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Ye,willCommit:!0,commitKey:1,selStart:Xe.selectionStart,selEnd:Xe.selectionEnd}}))}},Ve)}),ae.addEventListener("keydown",Ve=>{var je;Te.commitKey=1;let He=-1;if("Escape"===Ve.key?He=0:"Enter"!==Ve.key||this.data.multiLine?"Tab"===Ve.key&&(Te.commitKey=3):He=2,-1===He)return;const{value:ze}=Ve.target;Te.lastCommittedValue!==ze&&(Te.lastCommittedValue=ze,Te.userValue=ze,null===(je=this.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:ze,willCommit:!0,commitKey:He,selStart:Ve.target.selectionStart,selEnd:Ve.target.selectionEnd}}))});const We=Ue;Ue=null,ae.addEventListener("blur",Ve=>{if(!Te.focused||!Ve.relatedTarget)return;Te.focused=!1;const{value:je}=Ve.target;var He;Te.userValue=je,Te.lastCommittedValue!==je&&(null===(He=this.linkService.eventBus)||void 0===He||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:je,willCommit:!0,commitKey:Te.commitKey,selStart:Ve.target.selectionStart,selEnd:Ve.target.selectionEnd}})),We(Ve)}),null!==(De=this.data.actions)&&void 0!==De&&De.Keystroke&&ae.addEventListener("beforeinput",Ve=>{var je;Te.lastCommittedValue=null;const{data:He,target:ze}=Ve,{value:$e,selectionStart:Xe,selectionEnd:Ye}=ze;let Ke=Xe,Qe=Ye;switch(Ve.inputType){case"deleteWordBackward":{const qe=$e.substring(0,Xe).match(/\w*[^\w]*$/);qe&&(Ke-=qe[0].length);break}case"deleteWordForward":{const qe=$e.substring(Xe).match(/^[^\w]*\w*/);qe&&(Qe+=qe[0].length);break}case"deleteContentBackward":Xe===Ye&&(Ke-=1);break;case"deleteContentForward":Xe===Ye&&(Qe+=1)}Ve.preventDefault(),null===(je=this.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:$e,change:He||"",willCommit:!1,selStart:Ke,selEnd:Qe}})}),this._setEventListeners(ae,Te,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ve=>Ve.target.value)}if(Ue&&ae.addEventListener("blur",Ue),this.data.comb){const Ve=(this.data.rect[2]-this.data.rect[0])/Le;ae.classList.add("comb"),ae.style.letterSpacing=`calc(${Ve}px * var(--scale-factor) - 1ch)`}}else ae=document.createElement("div"),ae.textContent=this.data.fieldValue,ae.style.verticalAlign="middle",ae.style.display="table-cell";return this._setTextStyle(ae),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.append(ae),this.container}}class M extends o{constructor(D){super(D,{isRenderable:!!D.data.hasOwnCanvas})}}class B extends o{constructor(D){super(D,{isRenderable:D.renderForms})}render(){const D=this.annotationStorage,j=this.data,ae=j.id;let fe=D.getValue(ae,{value:j.exportValue===j.fieldValue}).value;"string"==typeof fe&&(fe="Off"!==fe,D.setValue(ae,{value:fe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ge=document.createElement("input");return $.add(ge),ge.setAttribute("data-element-id",ae),ge.disabled=j.readOnly,this._setRequired(ge,this.data.required),ge.type="checkbox",ge.name=j.fieldName,fe&&ge.setAttribute("checked",!0),ge.setAttribute("exportValue",j.exportValue),ge.tabIndex=p,ge.addEventListener("change",Pe=>{const{name:De,checked:Ne}=Pe.target;for(const ke of this._getElementsByName(De,ae)){const Le=Ne&&ke.exportValue===j.exportValue;ke.domElement&&(ke.domElement.checked=Le),D.setValue(ke.id,{value:Le})}D.setValue(ae,{value:Ne})}),ge.addEventListener("resetform",Pe=>{Pe.target.checked=(j.defaultFieldValue||"Off")===j.exportValue}),this.enableScripting&&this.hasJSActions&&(ge.addEventListener("updatefromsandbox",Pe=>{this._dispatchEventFromSandbox({value(Ne){Ne.target.checked="Off"!==Ne.detail.value,D.setValue(ae,{value:Ne.target.checked})}},Pe)}),this._setEventListeners(ge,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.checked)),this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class k extends o{constructor(D){super(D,{isRenderable:D.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const D=this.annotationStorage,j=this.data,ae=j.id;let fe=D.getValue(ae,{value:j.fieldValue===j.buttonValue}).value;"string"==typeof fe&&(fe=fe!==j.buttonValue,D.setValue(ae,{value:fe}));const ge=document.createElement("input");if($.add(ge),ge.setAttribute("data-element-id",ae),ge.disabled=j.readOnly,this._setRequired(ge,this.data.required),ge.type="radio",ge.name=j.fieldName,fe&&ge.setAttribute("checked",!0),ge.tabIndex=p,ge.addEventListener("change",Pe=>{const{name:De,checked:Ne}=Pe.target;for(const ke of this._getElementsByName(De,ae))D.setValue(ke.id,{value:!1});D.setValue(ae,{value:Ne})}),ge.addEventListener("resetform",Pe=>{const De=j.defaultFieldValue;Pe.target.checked=null!=De&&De===j.buttonValue}),this.enableScripting&&this.hasJSActions){const Pe=j.buttonValue;ge.addEventListener("updatefromsandbox",De=>{this._dispatchEventFromSandbox({value:ke=>{const Le=Pe===ke.detail.value;for(const Ie of this._getElementsByName(ke.target.name)){const Te=Le&&Ie.id===ae;Ie.domElement&&(Ie.domElement.checked=Te),D.setValue(Ie.id,{value:Te})}}},De)}),this._setEventListeners(ge,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.checked)}return this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class Y extends a{constructor(D){super(D,{ignoreBorder:D.data.hasAppearance})}render(){const D=super.render();D.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(D.title=this.data.alternativeText);const j=D.lastChild;return this.enableScripting&&this.hasJSActions&&j&&(this._setDefaultPropertiesFromJS(j),j.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({},ae)})),D}}class r extends o{constructor(D){super(D,{isRenderable:D.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const D=this.annotationStorage,j=this.data.id,ae=D.getValue(j,{value:this.data.fieldValue}),fe=document.createElement("select");$.add(fe),fe.setAttribute("data-element-id",j),fe.disabled=this.data.readOnly,this._setRequired(fe,this.data.required),fe.name=this.data.fieldName,fe.tabIndex=p;let ge=this.data.combo&&this.data.options.length>0;this.data.combo||(fe.size=this.data.options.length,this.data.multiSelect&&(fe.multiple=!0)),fe.addEventListener("resetform",Le=>{const Ie=this.data.defaultFieldValue;for(const Te of fe.options)Te.selected=Te.value===Ie});for(const Le of this.data.options){const Ie=document.createElement("option");Ie.textContent=Le.displayValue,Ie.value=Le.exportValue,ae.value.includes(Le.exportValue)&&(Ie.setAttribute("selected",!0),ge=!1),fe.append(Ie)}let Pe=null;if(ge){const Le=document.createElement("option");Le.value=" ",Le.setAttribute("hidden",!0),Le.setAttribute("selected",!0),fe.prepend(Le),Pe=()=>{Le.remove(),fe.removeEventListener("input",Pe),Pe=null},fe.addEventListener("input",Pe)}const De=Le=>{const Ie=Le?"value":"textContent",{options:Te,multiple:Ue}=fe;return Ue?Array.prototype.filter.call(Te,We=>We.selected).map(We=>We[Ie]):-1===Te.selectedIndex?null:Te[Te.selectedIndex][Ie]};let Ne=De(!1);const ke=Le=>Array.prototype.map.call(Le.target.options,Te=>({displayValue:Te.textContent,exportValue:Te.value}));return this.enableScripting&&this.hasJSActions?(fe.addEventListener("updatefromsandbox",Le=>{this._dispatchEventFromSandbox({value(Te){var Ue;null===(Ue=Pe)||void 0===Ue||Ue();const We=Te.detail.value,Ve=new Set(Array.isArray(We)?We:[We]);for(const je of fe.options)je.selected=Ve.has(je.value);D.setValue(j,{value:De(!0)}),Ne=De(!1)},multipleSelection(Te){fe.multiple=!0},remove(Te){const Ue=fe.options,We=Te.detail.remove;Ue[We].selected=!1,fe.remove(We),Ue.length>0&&-1===Array.prototype.findIndex.call(Ue,je=>je.selected)&&(Ue[0].selected=!0),D.setValue(j,{value:De(!0),items:ke(Te)}),Ne=De(!1)},clear(Te){for(;0!==fe.length;)fe.remove(0);D.setValue(j,{value:null,items:[]}),Ne=De(!1)},insert(Te){const{index:Ue,displayValue:We,exportValue:Ve}=Te.detail.insert,je=fe.children[Ue],He=document.createElement("option");He.textContent=We,He.value=Ve,je?je.before(He):fe.append(He),D.setValue(j,{value:De(!0),items:ke(Te)}),Ne=De(!1)},items(Te){const{items:Ue}=Te.detail;for(;0!==fe.length;)fe.remove(0);for(const We of Ue){const{displayValue:Ve,exportValue:je}=We,He=document.createElement("option");He.textContent=Ve,He.value=je,fe.append(He)}fe.options.length>0&&(fe.options[0].selected=!0),D.setValue(j,{value:De(!0),items:ke(Te)}),Ne=De(!1)},indices(Te){const Ue=new Set(Te.detail.indices);for(const We of Te.target.options)We.selected=Ue.has(We.index);D.setValue(j,{value:De(!0)}),Ne=De(!1)},editable(Te){Te.target.disabled=!Te.detail.editable}},Le)}),fe.addEventListener("input",Le=>{var Ie;const Te=De(!0);D.setValue(j,{value:Te}),Le.preventDefault(),null===(Ie=this.linkService.eventBus)||void 0===Ie||Ie.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Ne,changeEx:Te,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(fe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Le=>Le.target.value)):fe.addEventListener("input",function(Le){D.setValue(j,{value:De(!0)})}),this.data.combo&&this._setTextStyle(fe),this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class l extends c{constructor(D){const{data:j,elements:ae}=D;super(D,{isRenderable:c._hasPopupData(j)}),this.elements=ae}render(){this.container.classList.add("popupAnnotation");const D=new he({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),j=[];for(const ae of this.elements)ae.popup=D,j.push(ae.data.id),ae.addHighlightArea();return this.container.setAttribute("aria-controls",j.map(ae=>`${i.AnnotationPrefix}${ae}`).join(",")),this.container}}var h=new WeakMap,P=new WeakMap,G=new WeakMap,K=new WeakMap,J=new WeakMap,Q=new WeakMap,x=new WeakMap,V=new WeakMap,S=new WeakMap,e=new WeakMap,t=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,T=new WeakMap,E=new WeakMap,ie=new WeakMap,de=new WeakSet;class he{constructor({container:D,color:j,elements:ae,titleObj:fe,modificationDate:ge,contentsObj:Pe,richText:De,parent:Ne,rect:ke,parentRect:Le,open:Ie}){_classPrivateMethodInitSpec(this,de),_classPrivateFieldInitSpec(this,h,null),_classPrivateFieldInitSpec(this,P,_assertClassBrand(de,this,le).bind(this)),_classPrivateFieldInitSpec(this,G,_assertClassBrand(de,this,ye).bind(this)),_classPrivateFieldInitSpec(this,K,_assertClassBrand(de,this,we).bind(this)),_classPrivateFieldInitSpec(this,J,_assertClassBrand(de,this,Ce).bind(this)),_classPrivateFieldInitSpec(this,Q,null),_classPrivateFieldInitSpec(this,x,null),_classPrivateFieldInitSpec(this,V,null),_classPrivateFieldInitSpec(this,S,null),_classPrivateFieldInitSpec(this,e,null),_classPrivateFieldInitSpec(this,t,null),_classPrivateFieldInitSpec(this,f,!1),_classPrivateFieldInitSpec(this,g,null),_classPrivateFieldInitSpec(this,m,null),_classPrivateFieldInitSpec(this,T,null),_classPrivateFieldInitSpec(this,E,null),_classPrivateFieldInitSpec(this,ie,!1),_classPrivateFieldSet(x,this,D),_classPrivateFieldSet(E,this,fe),_classPrivateFieldSet(V,this,Pe),_classPrivateFieldSet(T,this,De),_classPrivateFieldSet(e,this,Ne),_classPrivateFieldSet(Q,this,j),_classPrivateFieldSet(m,this,ke),_classPrivateFieldSet(t,this,Le),_classPrivateFieldSet(S,this,ae);const Te=C.PDFDateString.toDateObject(ge);Te&&_classPrivateFieldSet(h,this,Ne.l10n.get("annotation_date_string",{date:Te.toLocaleDateString(),time:Te.toLocaleTimeString()})),this.trigger=ae.flatMap(We=>We.getElementsToTriggerPopup());for(const We of this.trigger)We.addEventListener("click",_classPrivateFieldGet(J,this)),We.addEventListener("mouseenter",_classPrivateFieldGet(K,this)),We.addEventListener("mouseleave",_classPrivateFieldGet(G,this)),We.classList.add("popupTriggerArea");for(const We of ae){var Ue;null===(Ue=We.container)||void 0===Ue||Ue.addEventListener("keydown",_classPrivateFieldGet(P,this))}_classPrivateFieldGet(x,this).hidden=!0,Ie&&_assertClassBrand(de,this,Ce).call(this)}render(){if(_classPrivateFieldGet(g,this))return;const{page:{view:D},viewport:{rawDims:{pageWidth:j,pageHeight:ae,pageX:fe,pageY:ge}}}=_classPrivateFieldGet(e,this),Pe=_classPrivateFieldSet(g,this,document.createElement("div"));if(Pe.className="popup",_classPrivateFieldGet(Q,this)){const $e=Pe.style.outlineColor=i.Util.makeHexColor(..._classPrivateFieldGet(Q,this));Pe.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${$e} 30%, white)`:i.Util.makeHexColor(..._classPrivateFieldGet(Q,this).map(Ye=>Math.floor(.7*(255-Ye)+Ye)))}const De=document.createElement("span");De.className="header";const Ne=document.createElement("h1");if(De.append(Ne),({dir:Ne.dir,str:Ne.textContent}=_classPrivateFieldGet(E,this)),Pe.append(De),_classPrivateFieldGet(h,this)){const $e=document.createElement("span");$e.classList.add("popupDate"),_classPrivateFieldGet(h,this).then(Xe=>{$e.textContent=Xe}),De.append($e)}const ke=_classPrivateFieldGet(V,this),Le=_classPrivateFieldGet(T,this);if(null==Le||!Le.str||null!=ke&&ke.str&&ke.str!==Le.str){const $e=this._formatContents(ke);Pe.append($e)}else w.XfaLayer.render({xfaHtml:Le.html,intent:"richText",div:Pe}),Pe.lastChild.classList.add("richText","popupContent");let Ie=!!_classPrivateFieldGet(t,this),Te=_classPrivateFieldGet(Ie?t:m,this);for(const $e of _classPrivateFieldGet(S,this))if(!Te||null!==i.Util.intersect($e.data.rect,Te)){Te=$e.data.rect,Ie=!0;break}const Ue=i.Util.normalizeRect([Te[0],D[3]-Te[1]+D[1],Te[2],D[3]-Te[3]+D[1]]),je=Ue[0]+(Ie?Te[2]-Te[0]+5:0),He=Ue[1],{style:ze}=_classPrivateFieldGet(x,this);ze.left=100*(je-fe)/j+"%",ze.top=100*(He-ge)/ae+"%",_classPrivateFieldGet(x,this).append(Pe)}_formatContents({str:D,dir:j}){const ae=document.createElement("p");ae.classList.add("popupContent"),ae.dir=j;const fe=D.split(/(?:\r\n?|\n)/);for(let ge=0,Pe=fe.length;ge<Pe;++ge)ae.append(document.createTextNode(fe[ge])),ge<Pe-1&&ae.append(document.createElement("br"));return ae}forceHide(){_classPrivateFieldSet(ie,this,this.isVisible),_classPrivateFieldGet(ie,this)&&(_classPrivateFieldGet(x,this).hidden=!0)}maybeShow(){_classPrivateFieldGet(ie,this)&&(_classPrivateFieldSet(ie,this,!1),_classPrivateFieldGet(x,this).hidden=!1)}get isVisible(){return!1===_classPrivateFieldGet(x,this).hidden}}function le(be){be.altKey||be.shiftKey||be.ctrlKey||be.metaKey||("Enter"===be.key||"Escape"===be.key&&_classPrivateFieldGet(f,this))&&_assertClassBrand(de,this,Ce).call(this)}function Ce(){_classPrivateFieldSet(f,this,!_classPrivateFieldGet(f,this)),_classPrivateFieldGet(f,this)?(_assertClassBrand(de,this,we).call(this),_classPrivateFieldGet(x,this).addEventListener("click",_classPrivateFieldGet(J,this)),_classPrivateFieldGet(x,this).addEventListener("keydown",_classPrivateFieldGet(P,this))):(_assertClassBrand(de,this,ye).call(this),_classPrivateFieldGet(x,this).removeEventListener("click",_classPrivateFieldGet(J,this)),_classPrivateFieldGet(x,this).removeEventListener("keydown",_classPrivateFieldGet(P,this)))}function we(){_classPrivateFieldGet(g,this)||this.render(),this.isVisible?_classPrivateFieldGet(f,this)&&_classPrivateFieldGet(x,this).classList.add("focused"):(_classPrivateFieldGet(x,this).hidden=!1,_classPrivateFieldGet(x,this).style.zIndex=parseInt(_classPrivateFieldGet(x,this).style.zIndex)+1e3)}function ye(){_classPrivateFieldGet(x,this).classList.remove("focused"),!_classPrivateFieldGet(f,this)&&this.isVisible&&(_classPrivateFieldGet(x,this).hidden=!0,_classPrivateFieldGet(x,this).style.zIndex=parseInt(_classPrivateFieldGet(x,this).style.zIndex)-1e3)}class ue extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),this.textContent=D.data.textContent,this.textPosition=D.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const D=document.createElement("div");D.classList.add("annotationTextContent"),D.setAttribute("role","comment");for(const j of this.textContent){const ae=document.createElement("span");ae.textContent=j,D.append(ae)}this.container.append(D)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=ue;var te=new WeakMap;class W extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,te,null)}render(){this.container.classList.add("lineAnnotation");const D=this.data,{width:j,height:ae}=Z(D.rect),fe=this.svgFactory.create(j,ae,!0),ge=_classPrivateFieldSet(te,this,this.svgFactory.createElement("svg:line"));return ge.setAttribute("x1",D.rect[2]-D.lineCoordinates[0]),ge.setAttribute("y1",D.rect[3]-D.lineCoordinates[1]),ge.setAttribute("x2",D.rect[2]-D.lineCoordinates[2]),ge.setAttribute("y2",D.rect[3]-D.lineCoordinates[3]),ge.setAttribute("stroke-width",D.borderStyle.width||1),ge.setAttribute("stroke","transparent"),ge.setAttribute("fill","transparent"),fe.append(ge),this.container.append(fe),!D.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(te,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var se=new WeakMap;class ce extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,se,null)}render(){this.container.classList.add("squareAnnotation");const D=this.data,{width:j,height:ae}=Z(D.rect),fe=this.svgFactory.create(j,ae,!0),ge=D.borderStyle.width,Pe=_classPrivateFieldSet(se,this,this.svgFactory.createElement("svg:rect"));return Pe.setAttribute("x",ge/2),Pe.setAttribute("y",ge/2),Pe.setAttribute("width",j-ge),Pe.setAttribute("height",ae-ge),Pe.setAttribute("stroke-width",ge||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),fe.append(Pe),this.container.append(fe),!D.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(se,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Ae=new WeakMap;class Fe extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,Ae,null)}render(){this.container.classList.add("circleAnnotation");const D=this.data,{width:j,height:ae}=Z(D.rect),fe=this.svgFactory.create(j,ae,!0),ge=D.borderStyle.width,Pe=_classPrivateFieldSet(Ae,this,this.svgFactory.createElement("svg:ellipse"));return Pe.setAttribute("cx",j/2),Pe.setAttribute("cy",ae/2),Pe.setAttribute("rx",j/2-ge/2),Pe.setAttribute("ry",ae/2-ge/2),Pe.setAttribute("stroke-width",ge||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),fe.append(Pe),this.container.append(fe),!D.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(Ae,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var I=new WeakMap;class Ee extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,I,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const D=this.data,{width:j,height:ae}=Z(D.rect),fe=this.svgFactory.create(j,ae,!0);let ge=[];for(const De of D.vertices)ge.push(De.x-D.rect[0]+","+(D.rect[3]-De.y));ge=ge.join(" ");const Pe=_classPrivateFieldSet(I,this,this.svgFactory.createElement(this.svgElementName));return Pe.setAttribute("points",ge),Pe.setAttribute("stroke-width",D.borderStyle.width||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),fe.append(Pe),this.container.append(fe),!D.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(I,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class ve extends Ee{constructor(D){super(D),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Se extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Be=new WeakMap;class pe extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,Be,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const D=this.data,{width:j,height:ae}=Z(D.rect),fe=this.svgFactory.create(j,ae,!0);for(const ge of D.inkLists){let Pe=[];for(const Ne of ge)Pe.push(`${Ne.x-D.rect[0]},${D.rect[3]-Ne.y}`);Pe=Pe.join(" ");const De=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(Be,this).push(De),De.setAttribute("points",Pe),De.setAttribute("stroke-width",D.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),!D.popupRef&&this.hasPopupData&&this._createPopup(),fe.append(De)}return this.container.append(fe),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(Be,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}s.InkAnnotationElement=pe;class ne extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class O extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _ extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class H extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class re extends c{constructor(D){super(D,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=re;var _e=new WeakMap,ee=new WeakSet;class q extends c{constructor(D){var j;super(D,{isRenderable:!0}),_classPrivateMethodInitSpec(this,ee),_classPrivateFieldInitSpec(this,_e,null);const{filename:ae,content:fe}=this.data.file;this.filename=(0,C.getFilenameFromUrl)(ae,!0),this.content=fe,null===(j=this.linkService.eventBus)||void 0===j||j.dispatch("fileattachmentannotation",{source:this,filename:ae,content:fe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:D,data:j}=this;let ae;j.hasAppearance||0===j.fillAlpha?ae=document.createElement("div"):(ae=document.createElement("img"),ae.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(j.name)?"paperclip":"pushpin"}.svg`,j.fillAlpha&&j.fillAlpha<1&&(ae.style=`filter: opacity(${Math.round(100*j.fillAlpha)}%);`)),ae.addEventListener("dblclick",_assertClassBrand(ee,this,U).bind(this)),_classPrivateFieldSet(_e,this,ae);const{isMac:fe}=i.FeatureTest.platform;return D.addEventListener("keydown",ge=>{"Enter"===ge.key&&(fe?ge.metaKey:ge.ctrlKey)&&_assertClassBrand(ee,this,U).call(this)}),!j.popupRef&&this.hasPopupData?this._createPopup():ae.classList.add("popupTriggerArea"),D.append(ae),D}getElementsToTriggerPopup(){return _classPrivateFieldGet(_e,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function U(){var be;null===(be=this.downloadManager)||void 0===be||be.openOrDownloadData(this.container,this.content,this.filename)}var me=new WeakMap,Me=new WeakMap,Re=new WeakMap,oe=new WeakSet;function Oe(be,D){var j;const ae=be.firstChild||be;ae.id=`${i.AnnotationPrefix}${D}`,this.div.append(be),null===(j=_classPrivateFieldGet(me,this))||void 0===j||j.moveElementInDOM(this.div,be,ae,!1)}function Ge(){if(!_classPrivateFieldGet(Me,this))return;const be=this.div;for(const[D,j]of _classPrivateFieldGet(Me,this)){const ae=be.querySelector(`[data-annotation-id="${D}"]`);if(!ae)continue;const{firstChild:fe}=ae;fe?"CANVAS"===fe.nodeName?fe.replaceWith(j):fe.before(j):ae.append(j)}_classPrivateFieldGet(Me,this).clear()}s.AnnotationLayer=class xe{constructor({div:D,accessibilityManager:j,annotationCanvasMap:ae,l10n:fe,page:ge,viewport:Pe}){_classPrivateMethodInitSpec(this,oe),_classPrivateFieldInitSpec(this,me,null),_classPrivateFieldInitSpec(this,Me,null),_classPrivateFieldInitSpec(this,Re,new Map),this.div=D,_classPrivateFieldSet(me,this,j),_classPrivateFieldSet(Me,this,ae),this.l10n=fe,this.page=ge,this.viewport=Pe,this.zIndex=0,this.l10n||(this.l10n=F.NullL10n)}render(D){var j=this;return _asyncToGenerator(function*(){const{annotations:ae}=D,fe=j.div;(0,C.setLayerDimensions)(fe,j.viewport);const ge=new Map,Pe={data:null,layer:fe,linkService:D.linkService,downloadManager:D.downloadManager,imageResourcesPath:D.imageResourcesPath||"",renderForms:!1!==D.renderForms,svgFactory:new C.DOMSVGFactory,annotationStorage:D.annotationStorage||new R.AnnotationStorage,enableScripting:!0===D.enableScripting,hasJSActions:D.hasJSActions,fieldObjects:D.fieldObjects,parent:j,elements:null};for(const De of ae){if(De.noHTML)continue;const Ne=De.annotationType===i.AnnotationType.POPUP;if(Ne){const Ie=ge.get(De.id);if(!Ie)continue;Pe.elements=Ie}else{const{width:Ie,height:Te}=Z(De.rect);if(Ie<=0||Te<=0)continue}Pe.data=De;const ke=N.create(Pe);if(!ke.isRenderable)continue;if(!Ne&&De.popupRef){const Ie=ge.get(De.popupRef);Ie?Ie.push(ke):ge.set(De.popupRef,[ke])}ke.annotationEditorType>0&&_classPrivateFieldGet(Re,j).set(ke.data.id,ke);const Le=ke.render();De.hidden&&(Le.style.visibility="hidden"),_assertClassBrand(oe,j,Oe).call(j,Le,De.id)}_assertClassBrand(oe,j,Ge).call(j),yield j.l10n.translate(fe)})()}update({viewport:D}){const j=this.div;this.viewport=D,(0,C.setLayerDimensions)(j,{rotation:D.rotation}),_assertClassBrand(oe,this,Ge).call(this),j.hidden=!1}getEditableAnnotations(){return Array.from(_classPrivateFieldGet(Re,this).values())}getEditableAnnotation(D){return _classPrivateFieldGet(Re,this).get(D)}}},(X,s)=>{function L(R){return Math.floor(255*Math.max(0,Math.min(1,R))).toString(16).padStart(2,"0")}function i(R){return Math.max(0,Math.min(255,255*R))}Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0,s.ColorConverters=class C{static CMYK_G([z,F,w,p]){return["G",1-Math.min(1,.3*z+.59*w+.11*F+p)]}static G_CMYK([z]){return["CMYK",0,0,0,1-z]}static G_RGB([z]){return["RGB",z,z,z]}static G_rgb([z]){return[z=i(z),z,z]}static G_HTML([z]){const F=L(z);return`#${F}${F}${F}`}static RGB_G([z,F,w]){return["G",.3*z+.59*F+.11*w]}static RGB_rgb(z){return z.map(i)}static RGB_HTML(z){return`#${z.map(L).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([z,F,w,p]){return["RGB",1-Math.min(1,z+p),1-Math.min(1,w+p),1-Math.min(1,F+p)]}static CMYK_rgb([z,F,w,p]){return[i(1-Math.min(1,z+p)),i(1-Math.min(1,w+p)),i(1-Math.min(1,F+p))]}static CMYK_HTML(z){const F=this.CMYK_RGB(z).slice(1);return this.RGB_HTML(F)}static RGB_CMYK([z,F,w]){const p=1-z,b=1-F,$=1-w;return["CMYK",p,b,$,Math.min(p,b,$)]}}},(X,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=i;const L={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function i(z,F){switch(z){case"find_match_count":z=`find_match_count[${1===F.total?"one":"other"}]`;break;case"find_match_count_limit":z=`find_match_count_limit[${1===F.limit?"one":"other"}]`}return L[z]||""}L.print_progress_percent="{{progress}}%",s.NullL10n={getLanguage:()=>_asyncToGenerator(function*(){return"en-us"})(),getDirection:()=>_asyncToGenerator(function*(){return"ltr"})(),get:(z,F=null,w=i(z,F))=>_asyncToGenerator(function*(){return function C(z,F){return F?z.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(w,p)=>p in F?F[p]:"{{"+p+"}}"):z}(w,F)})(),translate:z=>_asyncToGenerator(function*(){})()}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var i=L(25);s.XfaLayer=class C{static setupStorage(z,F,w,p,b){const $=p.getValue(F,{value:null});switch(w.name){case"textarea":if(null!==$.value&&(z.textContent=$.value),"print"===b)break;z.addEventListener("input",Z=>{p.setValue(F,{value:Z.target.value})});break;case"input":if("radio"===w.attributes.type||"checkbox"===w.attributes.type){if($.value===w.attributes.xfaOn?z.setAttribute("checked",!0):$.value===w.attributes.xfaOff&&z.removeAttribute("checked"),"print"===b)break;z.addEventListener("change",Z=>{p.setValue(F,{value:Z.target.getAttribute(Z.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==$.value&&z.setAttribute("value",$.value),"print"===b)break;z.addEventListener("input",Z=>{p.setValue(F,{value:Z.target.value})})}break;case"select":if(null!==$.value){z.setAttribute("value",$.value);for(const Z of w.children)Z.attributes.value===$.value?Z.attributes.selected=!0:Z.attributes.hasOwnProperty("selected")&&delete Z.attributes.selected}z.addEventListener("input",Z=>{const N=Z.target.options;p.setValue(F,{value:-1===N.selectedIndex?"":N[N.selectedIndex].value})})}}static setAttributes({html:z,element:F,storage:w=null,intent:p,linkService:b}){const{attributes:$}=F,Z=z instanceof HTMLAnchorElement;"radio"===$.type&&($.name=`${$.name}-${p}`);for(const[N,y]of Object.entries($))if(null!=y)switch(N){case"class":y.length&&z.setAttribute(N,y.join(" "));break;case"dataId":break;case"id":z.setAttribute("data-element-id",y);break;case"style":Object.assign(z.style,y);break;case"textContent":z.textContent=y;break;default:(!Z||"href"!==N&&"newWindow"!==N)&&z.setAttribute(N,y)}Z&&b.addLinkAttributes(z,$.href,$.newWindow),w&&$.dataId&&this.setupStorage(z,$.dataId,F,w)}static render(z){const F=z.annotationStorage,w=z.linkService,p=z.xfaHtml,b=z.intent||"display",$=document.createElement(p.name);p.attributes&&this.setAttributes({html:$,element:p,intent:b,linkService:w});const Z=[[p,-1,$]],N=z.div;if(N.append($),z.viewport){const d=`matrix(${z.viewport.transform.join(",")})`;N.style.transform=d}"richText"!==b&&N.setAttribute("class","xfaLayer xfaFont");const y=[];for(;Z.length>0;){var c;const[d,a,u]=Z.at(-1);if(a+1===d.children.length){Z.pop();continue}const v=d.children[++Z.at(-1)[1]];if(null===v)continue;const{name:A}=v;if("#text"===A){const n=document.createTextNode(v.value);y.push(n),u.append(n);continue}const o=null!=v&&null!==(c=v.attributes)&&void 0!==c&&c.xmlns?document.createElementNS(v.attributes.xmlns,A):document.createElement(A);if(u.append(o),v.attributes&&this.setAttributes({html:o,element:v,storage:F,intent:b,linkService:w}),v.children&&v.children.length>0)Z.push([v,-1,o]);else if(v.value){const n=document.createTextNode(v.value);i.XfaText.shouldBuildText(A)&&y.push(n),o.append(n)}}for(const d of N.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:y}}static update(z){const F=`matrix(${z.viewport.transform.join(",")})`;z.div.style.transform=F,z.div.hidden=!1}}},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var i=L(1),C=L(4),R=L(29),z=L(6),F=L(5);s.InkEditor=(()=>{var p,b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakMap,v=new WeakMap,A=new WeakMap,o=new WeakMap,n=new WeakMap,M=new WeakMap,B=new WeakSet;class k extends C.AnnotationEditor{constructor(te){super({...te,name:"inkEditor"}),_classPrivateMethodInitSpec(this,B),_classPrivateFieldInitSpec(this,b,0),_classPrivateFieldInitSpec(this,$,0),_classPrivateFieldInitSpec(this,Z,this.canvasPointermove.bind(this)),_classPrivateFieldInitSpec(this,N,this.canvasPointerleave.bind(this)),_classPrivateFieldInitSpec(this,y,this.canvasPointerup.bind(this)),_classPrivateFieldInitSpec(this,c,this.canvasPointerdown.bind(this)),_classPrivateFieldInitSpec(this,d,new Path2D),_classPrivateFieldInitSpec(this,a,!1),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,A,null),_classPrivateFieldInitSpec(this,o,0),_classPrivateFieldInitSpec(this,n,0),_classPrivateFieldInitSpec(this,M,null),this.color=te.color||null,this.thickness=te.thickness||null,this.opacity=te.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(te){C.AnnotationEditor.initialize(te,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(te,W){switch(te){case i.AnnotationEditorParamsType.INK_THICKNESS:k._defaultThickness=W;break;case i.AnnotationEditorParamsType.INK_COLOR:k._defaultColor=W;break;case i.AnnotationEditorParamsType.INK_OPACITY:k._defaultOpacity=W/100}}updateParams(te,W){switch(te){case i.AnnotationEditorParamsType.INK_THICKNESS:_assertClassBrand(B,this,Y).call(this,W);break;case i.AnnotationEditorParamsType.INK_COLOR:_assertClassBrand(B,this,r).call(this,W);break;case i.AnnotationEditorParamsType.INK_OPACITY:_assertClassBrand(B,this,l).call(this,W)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,k._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,k._defaultColor||C.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*k._defaultOpacity)]]}get propertiesToUpdate(){var te;return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||k._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||k._defaultColor||C.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(te=this.opacity)&&void 0!==te?te:k._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(_assertClassBrand(B,this,f).call(this),_assertClassBrand(B,this,g).call(this)),this.isAttachedToDOM||(this.parent.add(this),_assertClassBrand(B,this,m).call(this)),_assertClassBrand(B,this,ye).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(A,this).disconnect(),_classPrivateFieldSet(A,this,null),super.remove())}setParent(te){!this.parent&&te?this._uiManager.removeShouldRescale(this):this.parent&&null===te&&this._uiManager.addShouldRescale(this),super.setParent(te)}onScaleChanging(){const[te,W]=this.parentDimensions;this.setDimensions(this.width*te,this.height*W)}enableEditMode(){_classPrivateFieldGet(a,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(c,this)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(c,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(a,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(a,this,!0),this.div.classList.add("disabled"),_assertClassBrand(B,this,ye).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(te){this._focusEventsAllowed&&(super.focusin(te),this.enableEditMode())}canvasPointerdown(te){0!==te.button||!this.isInEditMode()||_classPrivateFieldGet(a,this)||(this.setInForeground(),te.preventDefault(),"mouse"!==te.type&&this.div.focus(),_assertClassBrand(B,this,G).call(this,te.offsetX,te.offsetY))}canvasPointermove(te){te.preventDefault(),_assertClassBrand(B,this,K).call(this,te.offsetX,te.offsetY)}canvasPointerup(te){te.preventDefault(),_assertClassBrand(B,this,t).call(this,te)}canvasPointerleave(te){_assertClassBrand(B,this,t).call(this,te)}get isResizable(){return!this.isEmpty()&&_classPrivateFieldGet(a,this)}render(){if(this.div)return this.div;let te,W;this.width&&(te=this.x,W=this.y),super.render(),C.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(I=>{var Ee;return null===(Ee=this.div)||void 0===Ee?void 0:Ee.setAttribute("aria-label",I)});const[se,ce,Ae,Fe]=_assertClassBrand(B,this,h).call(this);if(this.setAt(se,ce,0,0),this.setDims(Ae,Fe),_assertClassBrand(B,this,f).call(this),this.width){const[I,Ee]=this.parentDimensions;this.setAspectRatio(this.width*I,this.height*Ee),this.setAt(te*I,W*Ee,this.width*I,this.height*Ee),_classPrivateFieldSet(v,this,!0),_assertClassBrand(B,this,m).call(this),this.setDims(this.width*I,this.height*Ee),_assertClassBrand(B,this,e).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _assertClassBrand(B,this,g).call(this),this.div}setDimensions(te,W){const se=Math.round(te),ce=Math.round(W);if(_classPrivateFieldGet(o,this)===se&&_classPrivateFieldGet(n,this)===ce)return;_classPrivateFieldSet(o,this,se),_classPrivateFieldSet(n,this,ce),this.canvas.style.visibility="hidden";const[Ae,Fe]=this.parentDimensions;this.width=te/Ae,this.height=W/Fe,this.fixAndSetPosition(),_classPrivateFieldGet(a,this)&&_assertClassBrand(B,this,T).call(this,te,W),_assertClassBrand(B,this,m).call(this),_assertClassBrand(B,this,e).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(te,W,se){if(te instanceof R.InkAnnotationElement)return null;const ce=super.deserialize(te,W,se);ce.thickness=te.thickness,ce.color=i.Util.makeHexColor(...te.color),ce.opacity=te.opacity;const[Ae,Fe]=ce.pageDimensions,I=ce.width*Ae,Ee=ce.height*Fe,ve=ce.parentScale,Se=te.thickness/2;_classPrivateFieldSet(a,ce,!0),_classPrivateFieldSet(o,ce,Math.round(I)),_classPrivateFieldSet(n,ce,Math.round(Ee));const{paths:Be,rect:pe,rotation:ne}=te;for(let{bezier:_}of Be){_=he.call(k,_,pe,ne);const H=[];ce.paths.push(H);let re=ve*(_[0]-Se),_e=ve*(_[1]-Se);for(let q=2,U=_.length;q<U;q+=6){const xe=ve*(_[q+4]-Se),Oe=ve*(_[q+5]-Se);H.push([[re,_e],[ve*(_[q]-Se),ve*(_[q+1]-Se)],[ve*(_[q+2]-Se),ve*(_[q+3]-Se)],[xe,Oe]]),re=xe,_e=Oe}const ee=_assertClassBrand(k,this,ie).call(this,H);ce.bezierPath2D.push(ee)}const O=_assertClassBrand(B,ce,Ce).call(ce);return _classPrivateFieldSet($,ce,Math.max(C.AnnotationEditor.MIN_SIZE,O[2]-O[0])),_classPrivateFieldSet(b,ce,Math.max(C.AnnotationEditor.MIN_SIZE,O[3]-O[1])),_assertClassBrand(B,ce,T).call(ce,I,Ee),ce}serialize(){if(this.isEmpty())return null;const te=this.getRect(0,0),W=C.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:W,thickness:this.thickness,opacity:this.opacity,paths:_assertClassBrand(B,this,le).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,te),pageIndex:this.pageIndex,rect:te,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Y(ue){const te=this.thickness;this.addCommands({cmd:()=>{this.thickness=ue,_assertClassBrand(B,this,ye).call(this)},undo:()=>{this.thickness=te,_assertClassBrand(B,this,ye).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function r(ue){const te=this.color;this.addCommands({cmd:()=>{this.color=ue,_assertClassBrand(B,this,e).call(this)},undo:()=>{this.color=te,_assertClassBrand(B,this,e).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function l(ue){ue/=100;const te=this.opacity;this.addCommands({cmd:()=>{this.opacity=ue,_assertClassBrand(B,this,e).call(this)},undo:()=>{this.opacity=te,_assertClassBrand(B,this,e).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function h(){const{parentRotation:ue,parentDimensions:[te,W]}=this;switch(ue){case 90:return[0,W,W,te];case 180:return[te,W,te,W];case 270:return[te,0,W,te];default:return[0,0,te,W]}}function P(){const{ctx:ue,color:te,opacity:W,thickness:se,parentScale:ce,scaleFactor:Ae}=this;ue.lineWidth=se*ce/Ae,ue.lineCap="round",ue.lineJoin="round",ue.miterLimit=10,ue.strokeStyle=`${te}${(0,F.opacityToHex)(W)}`}function G(ue,te){var W;this.canvas.addEventListener("contextmenu",z.noContextMenu),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(N,this)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(Z,this)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(y,this)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(c,this)),this.isEditing=!0,_classPrivateFieldGet(v,this)||(_classPrivateFieldSet(v,this,!0),_assertClassBrand(B,this,m).call(this),this.thickness||(this.thickness=p._defaultThickness),this.color||(this.color=p._defaultColor||C.AnnotationEditor._defaultLineColor),null!==(W=this.opacity)&&void 0!==W||(this.opacity=p._defaultOpacity)),this.currentPath.push([ue,te]),_classPrivateFieldSet(u,this,!1),_assertClassBrand(B,this,P).call(this),_classPrivateFieldSet(M,this,()=>{_assertClassBrand(B,this,x).call(this),_classPrivateFieldGet(M,this)&&window.requestAnimationFrame(_classPrivateFieldGet(M,this))}),window.requestAnimationFrame(_classPrivateFieldGet(M,this))}function K(ue,te){const[W,se]=this.currentPath.at(-1);if(this.currentPath.length>1&&ue===W&&te===se)return;const ce=this.currentPath;let Ae=_classPrivateFieldGet(d,this);if(ce.push([ue,te]),_classPrivateFieldSet(u,this,!0),ce.length<=2)return Ae.moveTo(...ce[0]),void Ae.lineTo(ue,te);3===ce.length&&(_classPrivateFieldSet(d,this,Ae=new Path2D),Ae.moveTo(...ce[0])),_assertClassBrand(B,this,V).call(this,Ae,...ce.at(-3),...ce.at(-2),ue,te)}function J(){if(0===this.currentPath.length)return;const ue=this.currentPath.at(-1);_classPrivateFieldGet(d,this).lineTo(...ue)}function Q(ue,te){let W;if(_classPrivateFieldSet(M,this,null),ue=Math.min(Math.max(ue,0),this.canvas.width),te=Math.min(Math.max(te,0),this.canvas.height),_assertClassBrand(B,this,K).call(this,ue,te),_assertClassBrand(B,this,J).call(this),1!==this.currentPath.length)W=_assertClassBrand(B,this,S).call(this);else{const I=[ue,te];W=[[I,I.slice(),I.slice(),I]]}const se=_classPrivateFieldGet(d,this),ce=this.currentPath;this.currentPath=[],_classPrivateFieldSet(d,this,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(ce),this.paths.push(W),this.bezierPath2D.push(se),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_assertClassBrand(B,this,f).call(this),_assertClassBrand(B,this,g).call(this)),_assertClassBrand(B,this,ye).call(this))},mustExec:!0})}function x(){if(!_classPrivateFieldGet(u,this))return;_classPrivateFieldSet(u,this,!1),Math.ceil(this.thickness*this.parentScale);const te=this.currentPath.slice(-3),W=te.map(ve=>ve[0]),se=te.map(ve=>ve[1]),{ctx:Ee}=(Math.min(...W),Math.max(...W),Math.min(...se),Math.max(...se),this);Ee.save(),Ee.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ve of this.bezierPath2D)Ee.stroke(ve);Ee.stroke(_classPrivateFieldGet(d,this)),Ee.restore()}function V(ue,te,W,se,ce,Ae,Fe){const I=(te+se)/2,Ee=(W+ce)/2,ve=(se+Ae)/2,Se=(ce+Fe)/2;ue.bezierCurveTo(I+2*(se-I)/3,Ee+2*(ce-Ee)/3,ve+2*(se-ve)/3,Se+2*(ce-Se)/3,ve,Se)}function S(){const ue=this.currentPath;if(ue.length<=2)return[[ue[0],ue[0],ue.at(-1),ue.at(-1)]];const te=[];let W,[se,ce]=ue[0];for(W=1;W<ue.length-2;W++){const[Be,pe]=ue[W],[ne,O]=ue[W+1],_=(Be+ne)/2,H=(pe+O)/2;te.push([[se,ce],[se+2*(Be-se)/3,ce+2*(pe-ce)/3],[_+2*(Be-_)/3,H+2*(pe-H)/3],[_,H]]),[se,ce]=[_,H]}const[Ae,Fe]=ue[W],[I,Ee]=ue[W+1];return te.push([[se,ce],[se+2*(Ae-se)/3,ce+2*(Fe-ce)/3],[I+2*(Ae-I)/3,Ee+2*(Fe-Ee)/3],[I,Ee]]),te}function e(){if(this.isEmpty())return void _assertClassBrand(B,this,E).call(this);_assertClassBrand(B,this,P).call(this);const{canvas:ue,ctx:te}=this;te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,ue.width,ue.height),_assertClassBrand(B,this,E).call(this);for(const W of this.bezierPath2D)te.stroke(W)}function t(ue){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(N,this)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(Z,this)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(y,this)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(c,this)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",z.noContextMenu)},10),_assertClassBrand(B,this,Q).call(this,ue.offsetX,ue.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function f(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",C.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(ue=>{var te;return null===(te=this.canvas)||void 0===te?void 0:te.setAttribute("aria-label",ue)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function g(){_classPrivateFieldSet(A,this,new ResizeObserver(ue=>{const te=ue[0].contentRect;te.width&&te.height&&this.setDimensions(te.width,te.height)})),_classPrivateFieldGet(A,this).observe(this.div)}function m(){if(!_classPrivateFieldGet(v,this))return;const[ue,te]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ue),this.canvas.height=Math.ceil(this.height*te),_assertClassBrand(B,this,E).call(this)}function T(ue,te){const W=_assertClassBrand(B,this,we).call(this),se=(ue-W)/_classPrivateFieldGet($,this),ce=(te-W)/_classPrivateFieldGet(b,this);this.scaleFactor=Math.min(se,ce)}function E(){const ue=_assertClassBrand(B,this,we).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ue,this.translationY*this.scaleFactor+ue)}function ie(ue){const te=new Path2D;for(let W=0,se=ue.length;W<se;W++){const[ce,Ae,Fe,I]=ue[W];0===W&&te.moveTo(...ce),te.bezierCurveTo(Ae[0],Ae[1],Fe[0],Fe[1],I[0],I[1])}return te}function de(ue,te,W){const[se,ce,Ae,Fe]=te;switch(W){case 0:for(let I=0,Ee=ue.length;I<Ee;I+=2)ue[I]+=se,ue[I+1]=Fe-ue[I+1];break;case 90:for(let I=0,Ee=ue.length;I<Ee;I+=2){const ve=ue[I];ue[I]=ue[I+1]+se,ue[I+1]=ve+ce}break;case 180:for(let I=0,Ee=ue.length;I<Ee;I+=2)ue[I]=Ae-ue[I],ue[I+1]+=ce;break;case 270:for(let I=0,Ee=ue.length;I<Ee;I+=2){const ve=ue[I];ue[I]=Ae-ue[I+1],ue[I+1]=Fe-ve}break;default:throw new Error("Invalid rotation")}return ue}function he(ue,te,W){const[se,ce,Ae,Fe]=te;switch(W){case 0:for(let I=0,Ee=ue.length;I<Ee;I+=2)ue[I]-=se,ue[I+1]=Fe-ue[I+1];break;case 90:for(let I=0,Ee=ue.length;I<Ee;I+=2){const ve=ue[I];ue[I]=ue[I+1]-ce,ue[I+1]=ve-se}break;case 180:for(let I=0,Ee=ue.length;I<Ee;I+=2)ue[I]=Ae-ue[I],ue[I+1]-=ce;break;case 270:for(let I=0,Ee=ue.length;I<Ee;I+=2){const ve=ue[I];ue[I]=Fe-ue[I+1],ue[I+1]=Ae-ve}break;default:throw new Error("Invalid rotation")}return ue}function le(ue,te,W,se){const ce=[],Ae=this.thickness/2,Fe=ue*te+Ae,I=ue*W+Ae;for(const Ee of this.paths){const ve=[],Se=[];for(let Be=0,pe=Ee.length;Be<pe;Be++){const[ne,O,_,H]=Ee[Be],re=ue*ne[0]+Fe,_e=ue*ne[1]+I,ee=ue*O[0]+Fe,q=ue*O[1]+I,U=ue*_[0]+Fe,me=ue*_[1]+I,Me=ue*H[0]+Fe,Re=ue*H[1]+I;0===Be&&(ve.push(re,_e),Se.push(re,_e)),ve.push(ee,q,U,me,Me,Re),Se.push(ee,q),Be===pe-1&&Se.push(Me,Re)}ce.push({bezier:de.call(p,ve,se,this.rotation),points:de.call(p,Se,se,this.rotation)})}return ce}function Ce(){let ue=1/0,te=-1/0,W=1/0,se=-1/0;for(const ce of this.paths)for(const[Ae,Fe,I,Ee]of ce){const ve=i.Util.bezierBoundingBox(...Ae,...Fe,...I,...Ee);ue=Math.min(ue,ve[0]),W=Math.min(W,ve[1]),te=Math.max(te,ve[2]),se=Math.max(se,ve[3])}return[ue,W,te,se]}function we(){return _classPrivateFieldGet(a,this)?Math.ceil(this.thickness*this.parentScale):0}function ye(ue=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(a,this))return void _assertClassBrand(B,this,e).call(this);const te=_assertClassBrand(B,this,Ce).call(this),W=_assertClassBrand(B,this,we).call(this);_classPrivateFieldSet($,this,Math.max(C.AnnotationEditor.MIN_SIZE,te[2]-te[0])),_classPrivateFieldSet(b,this,Math.max(C.AnnotationEditor.MIN_SIZE,te[3]-te[1]));const se=Math.ceil(W+_classPrivateFieldGet($,this)*this.scaleFactor),ce=Math.ceil(W+_classPrivateFieldGet(b,this)*this.scaleFactor),[Ae,Fe]=this.parentDimensions;this.width=se/Ae,this.height=ce/Fe,this.setAspectRatio(se,ce);const I=this.translationX,Ee=this.translationY;this.translationX=-te[0],this.translationY=-te[1],_assertClassBrand(B,this,m).call(this),_assertClassBrand(B,this,e).call(this),_classPrivateFieldSet(o,this,se),_classPrivateFieldSet(n,this,ce),this.setDims(se,ce);const ve=ue?W/this.scaleFactor/2:0;this.translate(I-this.translationX-ve,Ee-this.translationY-ve)}return p=k,_defineProperty(k,"_defaultColor",null),_defineProperty(k,"_defaultOpacity",1),_defineProperty(k,"_defaultThickness",1),_defineProperty(k,"_type","ink"),k})()},(X,s,L)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var i=L(1),C=L(4),R=L(6),z=L(29);s.StampEditor=(()=>{var w,p=new WeakMap,b=new WeakMap,$=new WeakMap,Z=new WeakMap,N=new WeakMap,y=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakMap,u=new WeakMap,v=new WeakSet;class A extends C.AnnotationEditor{constructor(G){super({...G,name:"stampEditor"}),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,p,null),_classPrivateFieldInitSpec(this,b,null),_classPrivateFieldInitSpec(this,$,null),_classPrivateFieldInitSpec(this,Z,null),_classPrivateFieldInitSpec(this,N,null),_classPrivateFieldInitSpec(this,y,null),_classPrivateFieldInitSpec(this,c,null),_classPrivateFieldInitSpec(this,d,null),_classPrivateFieldInitSpec(this,a,!1),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldSet(Z,this,G.bitmapUrl),_classPrivateFieldSet(N,this,G.bitmapFile)}static initialize(G){C.AnnotationEditor.initialize(G)}static get supportedTypes(){return(0,i.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(K=>`image/${K}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(G){return this.supportedTypes.includes(G)}static paste(G,K){K.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:G.getAsFile()})}remove(){var G,K;_classPrivateFieldGet(b,this)&&(_classPrivateFieldSet(p,this,null),this._uiManager.imageManager.deleteId(_classPrivateFieldGet(b,this)),null===(G=_classPrivateFieldGet(y,this))||void 0===G||G.remove(),_classPrivateFieldSet(y,this,null),null===(K=_classPrivateFieldGet(c,this))||void 0===K||K.disconnect(),_classPrivateFieldSet(c,this,null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(_classPrivateFieldGet(b,this)&&_assertClassBrand(v,this,M).call(this),this.isAttachedToDOM||this.parent.add(this))):_classPrivateFieldGet(b,this)&&_assertClassBrand(v,this,M).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_classPrivateFieldGet($,this)||_classPrivateFieldGet(p,this)||_classPrivateFieldGet(Z,this)||_classPrivateFieldGet(N,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let G,K;if(this.width&&(G=this.x,K=this.y),super.render(),this.div.hidden=!0,_classPrivateFieldGet(p,this)?_assertClassBrand(v,this,B).call(this):_assertClassBrand(v,this,M).call(this),this.width){const[J,Q]=this.parentDimensions;this.setAt(G*J,K*Q,this.width*J,this.height*Q)}return this.div}static deserialize(G,K,J){if(G instanceof z.StampAnnotationElement)return null;const Q=super.deserialize(G,K,J),{rect:x,bitmapUrl:V,bitmapId:S,isSvg:e,accessibilityData:t}=G;S&&J.imageManager.isValidId(S)?_classPrivateFieldSet(b,Q,S):_classPrivateFieldSet(Z,Q,V),_classPrivateFieldSet(a,Q,e);const[f,g]=Q.pageDimensions;return Q.width=(x[2]-x[0])/f,Q.height=(x[3]-x[1])/g,t&&(Q.altTextData=t),Q}serialize(G=!1,K=null){if(this.isEmpty())return null;const J={annotationType:i.AnnotationEditorType.STAMP,bitmapId:_classPrivateFieldGet(b,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_classPrivateFieldGet(a,this),structTreeParentId:this._structTreeParentId};if(G)return J.bitmapUrl=_assertClassBrand(v,this,l).call(this,!0),J.accessibilityData=this.altTextData,J;const{decorative:Q,altText:x}=this.altTextData;if(!Q&&x&&(J.accessibilityData={type:"Figure",alt:x}),null===K)return J;K.stamps||(K.stamps=new Map);const V=_classPrivateFieldGet(a,this)?(J.rect[2]-J.rect[0])*(J.rect[3]-J.rect[1]):null;if(K.stamps.has(_classPrivateFieldGet(b,this))){if(_classPrivateFieldGet(a,this)){const S=K.stamps.get(_classPrivateFieldGet(b,this));V>S.area&&(S.area=V,S.serialized.bitmap.close(),S.serialized.bitmap=_assertClassBrand(v,this,l).call(this,!1))}}else K.stamps.set(_classPrivateFieldGet(b,this),{area:V,serialized:J}),J.bitmap=_assertClassBrand(v,this,l).call(this,!1);return J}}function o(P,G=!1){P?(_classPrivateFieldSet(p,this,P.bitmap),G||(_classPrivateFieldSet(b,this,P.id),_classPrivateFieldSet(a,this,P.isSvg)),_assertClassBrand(v,this,B).call(this)):this.remove()}function n(){_classPrivateFieldSet($,this,null),this._uiManager.enableWaiting(!1),_classPrivateFieldGet(y,this)&&this.div.focus()}function M(){var P=this;if(_classPrivateFieldGet(b,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(_classPrivateFieldGet(b,this)).then(K=>_assertClassBrand(v,this,o).call(this,K,!0)).finally(()=>_assertClassBrand(v,this,n).call(this));if(_classPrivateFieldGet(Z,this)){const K=_classPrivateFieldGet(Z,this);return _classPrivateFieldSet(Z,this,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet($,this,this._uiManager.imageManager.getFromUrl(K).then(J=>_assertClassBrand(v,this,o).call(this,J)).finally(()=>_assertClassBrand(v,this,n).call(this)))}if(_classPrivateFieldGet(N,this)){const K=_classPrivateFieldGet(N,this);return _classPrivateFieldSet(N,this,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet($,this,this._uiManager.imageManager.getFromFile(K).then(J=>_assertClassBrand(v,this,o).call(this,J)).finally(()=>_assertClassBrand(v,this,n).call(this)))}const G=document.createElement("input");G.type="file",G.accept=w.supportedTypesStr,_classPrivateFieldSet($,this,new Promise(K=>{G.addEventListener("change",_asyncToGenerator(function*(){if(G.files&&0!==G.files.length){P._uiManager.enableWaiting(!0);const J=yield P._uiManager.imageManager.getFromFile(G.files[0]);_assertClassBrand(v,P,o).call(P,J)}else P.remove();K()})),G.addEventListener("cancel",()=>{this.remove(),K()})}).finally(()=>_assertClassBrand(v,this,n).call(this))),G.click()}function B(){const{div:P}=this;let{width:G,height:K}=_classPrivateFieldGet(p,this);const[J,Q]=this.pageDimensions,x=.75;if(this.width)G=this.width*J,K=this.height*Q;else if(G>x*J||K>x*Q){const t=Math.min(x*J/G,x*Q/K);G*=t,K*=t}const[V,S]=this.parentDimensions;this.setDims(G*V/J,K*S/Q),this._uiManager.enableWaiting(!1);const e=_classPrivateFieldSet(y,this,document.createElement("canvas"));P.append(e),P.hidden=!1,_assertClassBrand(v,this,r).call(this,G,K),_assertClassBrand(v,this,h).call(this),_classPrivateFieldGet(u,this)||(this.parent.addUndoableEditor(this),_classPrivateFieldSet(u,this,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}function k(P,G){var K;const[J,Q]=this.parentDimensions;this.width=P/J,this.height=G/Q,this.setDims(P,G),null!==(K=this._initialOptions)&&void 0!==K&&K.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==_classPrivateFieldGet(d,this)&&clearTimeout(_classPrivateFieldGet(d,this)),_classPrivateFieldSet(d,this,setTimeout(()=>{_classPrivateFieldSet(d,this,null),_assertClassBrand(v,this,r).call(this,P,G)},200))}function Y(P,G){const{width:K,height:J}=_classPrivateFieldGet(p,this);let Q=K,x=J,V=_classPrivateFieldGet(p,this);for(;Q>2*P||x>2*G;){const S=Q,e=x;Q>2*P&&(Q=Q>=16384?Math.floor(Q/2)-1:Math.ceil(Q/2)),x>2*G&&(x=x>=16384?Math.floor(x/2)-1:Math.ceil(x/2));const t=new OffscreenCanvas(Q,x);t.getContext("2d").drawImage(V,0,0,S,e,0,0,Q,x),V=t.transferToImageBitmap()}return V}function r(P,G){P=Math.ceil(P),G=Math.ceil(G);const K=_classPrivateFieldGet(y,this);if(!K||K.width===P&&K.height===G)return;K.width=P,K.height=G;const J=_classPrivateFieldGet(a,this)?_classPrivateFieldGet(p,this):_assertClassBrand(v,this,Y).call(this,P,G),Q=K.getContext("2d");Q.filter=this._uiManager.hcmFilter,Q.drawImage(J,0,0,J.width,J.height,0,0,P,G)}function l(P){if(P){if(_classPrivateFieldGet(a,this)){const J=this._uiManager.imageManager.getSvgUrl(_classPrivateFieldGet(b,this));if(J)return J}const G=document.createElement("canvas");return({width:G.width,height:G.height}=_classPrivateFieldGet(p,this)),G.getContext("2d").drawImage(_classPrivateFieldGet(p,this),0,0),G.toDataURL()}if(_classPrivateFieldGet(a,this)){const[G,K]=this.pageDimensions,J=Math.round(this.width*G*R.PixelsPerInch.PDF_TO_CSS_UNITS),Q=Math.round(this.height*K*R.PixelsPerInch.PDF_TO_CSS_UNITS),x=new OffscreenCanvas(J,Q);return x.getContext("2d").drawImage(_classPrivateFieldGet(p,this),0,0,_classPrivateFieldGet(p,this).width,_classPrivateFieldGet(p,this).height,0,0,J,Q),x.transferToImageBitmap()}return structuredClone(_classPrivateFieldGet(p,this))}function h(){_classPrivateFieldSet(c,this,new ResizeObserver(P=>{const G=P[0].contentRect;G.width&&G.height&&_assertClassBrand(v,this,k).call(this,G.width,G.height)})),_classPrivateFieldGet(c,this).observe(this.div)}return w=A,_defineProperty(A,"_type","stamp"),A})()}],__webpack_module_cache__={};function __w_pdfjs_require__(X){var s=__webpack_module_cache__[X];if(void 0!==s)return s.exports;var L=__webpack_module_cache__[X]={exports:{}};return __webpack_modules__[X](L,L.exports,__w_pdfjs_require__),L.exports}var __nested_webpack_exports__={};return(()=>{var X=__nested_webpack_exports__;Object.defineProperty(X,"__esModule",{value:!0}),Object.defineProperty(X,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(X,"AnnotationEditorLayer",{enumerable:!0,get:function(){return R.AnnotationEditorLayer}}),Object.defineProperty(X,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(X,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(X,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return z.AnnotationEditorUIManager}}),Object.defineProperty(X,"AnnotationLayer",{enumerable:!0,get:function(){return F.AnnotationLayer}}),Object.defineProperty(X,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(X,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(X,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(X,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(X,"GlobalWorkerOptions",{enumerable:!0,get:function(){return w.GlobalWorkerOptions}}),Object.defineProperty(X,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(X,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(X,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(X,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(X,"PDFDataRangeTransport",{enumerable:!0,get:function(){return L.PDFDataRangeTransport}}),Object.defineProperty(X,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(X,"PDFWorker",{enumerable:!0,get:function(){return L.PDFWorker}}),Object.defineProperty(X,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(X,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(X,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(X,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(X,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(X,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(X,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(X,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(X,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(X,"XfaLayer",{enumerable:!0,get:function(){return p.XfaLayer}}),Object.defineProperty(X,"build",{enumerable:!0,get:function(){return L.build}}),Object.defineProperty(X,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(X,"getDocument",{enumerable:!0,get:function(){return L.getDocument}}),Object.defineProperty(X,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(X,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(X,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(X,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(X,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(X,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(X,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(X,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(X,"renderTextLayer",{enumerable:!0,get:function(){return C.renderTextLayer}}),Object.defineProperty(X,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(X,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(X,"updateTextLayer",{enumerable:!0,get:function(){return C.updateTextLayer}}),Object.defineProperty(X,"version",{enumerable:!0,get:function(){return L.version}});var s=__w_pdfjs_require__(1),L=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),C=__w_pdfjs_require__(26),R=__w_pdfjs_require__(27),z=__w_pdfjs_require__(5),F=__w_pdfjs_require__(29),w=__w_pdfjs_require__(14),p=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=s.pdfjsLib=L()},33876:(X,s,L)=>{var $,Z,i=L(29293).default,C=L(93312).default,R=L(42459).default,z=L(183).default,F=L(16668).default,w=L(81756).default,p=L(37088).default;$=globalThis,Z=()=>(()=>{"use strict";var b=[,(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var a=d(2),u=d(3),v=d(4);const A={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=A;const B={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},k=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let Y;const r=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]+/gu,l=/([.*+?^${}()|[\]\\])|([!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{10F86}-\u{10F89}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{116B9}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11B00}-\u{11B09}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11F43}-\u{11F4F}\u{11FFF}\u{12470}-\u{12474}\u{12FF1}\u{12FF2}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}])|(\s+)|([\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])|([A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{10340}\u{10342}-\u{10349}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FC4}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11FB0}\u{12000}-\u{12399}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A70}-\u{16ABE}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E4D0}-\u{1E4EB}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}])/gu,h=/([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,P=/^[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])/u,G=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,K=new Map,J="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Q=new Map;let x=null,V=null;function S(pe){const ne=[];let O,_;for(;null!==(O=G.exec(pe));){let{index:oe}=O;for(const xe of O[0]){let Oe=K.get(xe);Oe||(Oe=xe.normalize("NFD").length,K.set(xe,Oe)),ne.push([Oe,oe++])}}if(0===ne.length&&x)_=x;else if(ne.length>0&&V)_=V;else{const be=`([${Object.keys(B).join("")}])|([${(0,u.getNormalizeWithNFKC)()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;_=0===ne.length?x=new RegExp(be+"|(\\u0000)","gum"):V=new RegExp(be+`|(${J})`,"gum")}const H=[];for(;null!==(O=r.exec(pe));)H.push([O[0].length,O.index]);let re=pe.normalize("NFD");const _e=[[0,0]];let ee=0,q=0,U=0,me=0,Me=0,Re=!1;return re=re.replace(_,(oe,xe,Oe,Ge,be,D,j,ae,fe,ge)=>{var Pe,De;if(ge-=me,xe){const ke=B[xe],Le=ke.length;for(let Ie=1;Ie<Le;Ie++)_e.push([ge-U+Ie,U-Ie]);return U-=Le-1,ke}if(Oe){let ke=Q.get(Oe);ke||(ke=Oe.normalize("NFKC"),Q.set(Oe,ke));const Le=ke.length;for(let Ie=1;Ie<Le;Ie++)_e.push([ge-U+Ie,U-Ie]);return U-=Le-1,ke}if(Ge)return Re=!0,ge+Me===(null===(De=H[ee])||void 0===De?void 0:De[1])?++ee:(_e.push([ge-1-U+1,U-1]),U-=1,me+=1),_e.push([ge-U+1,U]),me+=1,Me+=1,Ge.charAt(0);if(be){var Ne;const ke=be.endsWith("\n"),Le=ke?be.length-2:be.length;Re=!0;let Ie=Le;ge+Me===(null===(Ne=H[ee])||void 0===Ne?void 0:Ne[1])&&(Ie-=H[ee][0],++ee);for(let Te=1;Te<=Ie;Te++)_e.push([ge-1-U+Te,U-Te]);return U-=Ie,me+=Ie,ke?(_e.push([(ge+=Le-1)-U+1,1+U]),U+=1,me+=1,Me+=1,be.slice(0,Le)):be}if(D)return _e.push([ge-U+(D.length-2),1+U]),U+=1,me+=1,Me+=1,D.slice(0,-2);if(j)return _e.push([ge-U+(j.length-1),U]),me+=1,Me+=1,j.slice(0,-1);if(ae)return _e.push([ge-U+1,U-1]),U-=1,me+=1,Me+=1," ";if(ge+Me===(null===(Pe=ne[q])||void 0===Pe?void 0:Pe[1])){const ke=ne[q][0]-1;++q;for(let Le=1;Le<=ke;Le++)_e.push([ge-(U-Le),U-Le]);U-=ke,me+=ke}return fe}),_e.push([re.length,U]),[re,_e,Re]}function e(pe,ne,O){if(!pe)return[ne,O];const _=ne,H=ne+O-1;let re=(0,a.binarySearchFirstItem)(pe,me=>me[0]>=_);pe[re][0]>_&&--re;let _e=(0,a.binarySearchFirstItem)(pe,me=>me[0]>=H,re);pe[_e][0]>H&&--_e;const ee=_+pe[re][1];return[ee,H+pe[_e][1]+1-ee]}var t=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakSet;function E(pe){if(!pe)return;!1===pe.phraseSearch&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),"string"==typeof pe.query&&(pe.query=pe.query.match(/\S+/g)));const ne=this._pdfDocument,{type:O}=pe;(null===F(t,this)||w(m,this,he).call(this,pe))&&(this._dirtyMatch=!0),p(t,this,pe),"highlightallchange"!==O&&w(m,this,Be).call(this,A.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ne&&this._pdfDocument!==ne)return;w(m,this,ue).call(this);const _=!this._highlightMatches,H=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),O?this._dirtyMatch?w(m,this,se).call(this):"again"===O?(w(m,this,se).call(this),_&&F(t,this).highlightAll&&w(m,this,W).call(this)):"highlightallchange"===O?(H?w(m,this,se).call(this):this._highlightMatches=!0,w(m,this,W).call(this)):w(m,this,se).call(this):this._findTimeout=setTimeout(()=>{w(m,this,se).call(this),this._findTimeout=null},250)})}function ie(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],p(g,this,0),p(t,this,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new v.PromiseCapability}function de(pe){const{query:ne}=F(t,pe);return"string"==typeof ne?(ne!==pe._rawQuery&&(pe._rawQuery=ne,[pe._normalizedQuery]=S(ne)),pe._normalizedQuery):(ne||[]).filter(O=>!!O).map(O=>S(O)[0])}function he(pe){var ne,O;const _=pe.query,H=F(t,this).query,re=typeof _;if(re!==typeof H)return!0;if("string"===re){if(_!==H)return!0}else if(JSON.stringify(_)!==JSON.stringify(H))return!0;switch(pe.type){case"again":const ee=this._selected.pageIdx+1,q=this._linkService;return ee>=1&&ee<=q.pagesCount&&ee!==q.page&&!(null===(ne=null===(O=this.onIsPageVisible)||void 0===O?void 0:O.call(this,ee))||void 0===ne||ne);case"highlightallchange":return!1}return!0}function le(pe,ne,O){let _=pe.slice(0,ne).match(h);if(_){const H=pe.charCodeAt(ne),re=_[1].charCodeAt(0);if((0,u.getCharacterType)(H)===(0,u.getCharacterType)(re))return!1}if(_=pe.slice(ne+O).match(P),_){const H=pe.charCodeAt(ne+O-1),re=_[1].charCodeAt(0);if((0,u.getCharacterType)(H)===(0,u.getCharacterType)(re))return!1}return!0}function Ce(pe,ne,O,_){const H=this._pageMatches[O]=[],re=this._pageMatchesLength[O]=[];if(!pe)return;const _e=this._pageDiffs[O];let ee;for(;null!==(ee=pe.exec(_));){if(ne&&!w(m,this,le).call(this,_,ee.index,ee[0].length))continue;const[q,U]=e(_e,ee.index,ee[0].length);U&&(H.push(q),re.push(U))}}function we(pe,ne){const{matchDiacritics:O}=F(t,this);let _=!1;return(pe=pe.replaceAll(l,(re,_e,ee,q,U,me)=>_e?`[ ]*\\${_e}[ ]*`:ee?`[ ]*${ee}[ ]*`:q?"[ ]+":O?U||me:U?k.has(U.charCodeAt(0))?U:"":ne?(_=!0,`${me}\\p{M}*`):me)).endsWith("[ ]*")&&(pe=pe.slice(0,pe.length-4)),O&&ne&&(Y||(Y=String.fromCharCode(...k)),_=!0,pe=`${pe}(?=[${Y}]|[^\\p{M}]|$)`),[_,pe]}function ye(pe){var ne;let O=z(m,this,de);if(0===O.length)return;const{caseSensitive:_,entireWord:H}=F(t,this),re=this._pageContents[pe],_e=this._hasDiacritics[pe];let ee=!1;"string"==typeof O?[ee,O]=w(m,this,we).call(this,O,_e):O=O.sort().reverse().map(me=>{const[Me,Re]=w(m,this,we).call(this,me,_e);return ee||(ee=Me),`(${Re})`}).join("|"),O=O?new RegExp(O,`g${ee?"u":""}${_?"":"i"}`):null,w(m,this,Ce).call(this,O,H,pe,re),F(t,this).highlightAll&&w(m,this,te).call(this,pe),this._resumePageIdx===pe&&(this._resumePageIdx=null,w(m,this,Ae).call(this));const U=this._pageMatches[pe].length;this._matchesCountTotal+=U,F(f,this)?U>0&&w(m,this,Se).call(this):p(g,this,(ne=F(g,this),++ne))===this._linkService.pagesCount&&w(m,this,Se).call(this)}function ue(){if(this._extractTextPromises.length>0)return;let pe=Promise.resolve();const ne={disableNormalization:!0};for(let O=0,_=this._linkService.pagesCount;O<_;O++){const H=new v.PromiseCapability;this._extractTextPromises[O]=H.promise,pe=pe.then(()=>this._pdfDocument.getPage(O+1).then(re=>re.getTextContent(ne)).then(re=>{const _e=[];for(const ee of re.items)_e.push(ee.str),ee.hasEOL&&_e.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=S(_e.join("")),H.resolve()},re=>{console.error(`Unable to get text content for page ${O+1}`,re),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,H.resolve()}))}}function te(pe){this._scrollMatches&&this._selected.pageIdx===pe&&(this._linkService.page=pe+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:pe})}function W(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function se(){const pe=F(t,this).findPrevious,ne=this._linkService.page-1,O=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ne,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,p(g,this,0),this._matchesCountTotal=0,w(m,this,W).call(this);for(let re=0;re<O;re++)this._pendingFindMatches.has(re)||(this._pendingFindMatches.add(re),this._extractTextPromises[re].then(()=>{this._pendingFindMatches.delete(re),w(m,this,ye).call(this,re)}))}if(0===z(m,this,de).length)return void w(m,this,Be).call(this,A.FOUND);if(this._resumePageIdx)return;const H=this._offset;if(this._pagesToSearch=O,null!==H.matchIdx){if(!pe&&H.matchIdx+1<this._pageMatches[H.pageIdx].length||pe&&H.matchIdx>0)return H.matchIdx=pe?H.matchIdx-1:H.matchIdx+1,void w(m,this,I).call(this,!0);w(m,this,Fe).call(this,pe)}w(m,this,Ae).call(this)}function ce(pe){const ne=this._offset,O=pe.length,_=F(t,this).findPrevious;return O?(ne.matchIdx=_?O-1:0,w(m,this,I).call(this,!0),!0):(w(m,this,Fe).call(this,_),!!(ne.wrapped&&(ne.matchIdx=null,this._pagesToSearch<0))&&(w(m,this,I).call(this,!1),!0))}function Ae(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let pe=null;do{const ne=this._offset.pageIdx;if(pe=this._pageMatches[ne],!pe){this._resumePageIdx=ne;break}}while(!w(m,this,ce).call(this,pe))}function Fe(pe){const ne=this._offset,O=this._linkService.pagesCount;ne.pageIdx=pe?ne.pageIdx-1:ne.pageIdx+1,ne.matchIdx=null,this._pagesToSearch--,(ne.pageIdx>=O||ne.pageIdx<0)&&(ne.pageIdx=pe?O-1:0,ne.wrapped=!0)}function I(pe=!1){let ne=A.NOT_FOUND;const O=this._offset.wrapped;if(this._offset.wrapped=!1,pe){const _=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ne=O?A.WRAPPED:A.FOUND,-1!==_&&_!==this._selected.pageIdx&&w(m,this,te).call(this,_)}w(m,this,Be).call(this,ne,F(t,this).findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,w(m,this,te).call(this,this._selected.pageIdx))}function Ee(pe){const ne=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ne&&this._pdfDocument!==ne||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),w(m,this,Be).call(this,A.FOUND),this._highlightMatches=!1,w(m,this,W).call(this))})}function ve(){const{pageIdx:pe,matchIdx:ne}=this._selected;let O=0,_=this._matchesCountTotal;if(-1!==ne){for(let re=0;re<pe;re++){var H;O+=(null===(H=this._pageMatches[re])||void 0===H?void 0:H.length)||0}O+=ne+1}return(O<1||O>_)&&(O=_=0),{current:O,total:_}}function Se(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:w(m,this,ve).call(this)})}function Be(pe,ne=!1){var O,_;!F(f,this)&&(F(g,this)!==this._linkService.pagesCount||pe===A.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:pe,previous:ne,matchesCount:w(m,this,ve).call(this),rawQuery:null!==(O=null===(_=F(t,this))||void 0===_?void 0:_.query)&&void 0!==O?O:null})}c.PDFFindController=class T{constructor({linkService:ne,eventBus:O,updateMatchesCountOnProgress:_=!0}){C(this,m),R(this,t,null),R(this,f,!0),R(this,g,0),this._linkService=ne,this._eventBus=O,p(f,this,_),this.onIsPageVisible=null,w(m,this,ie).call(this),O._on("find",w(m,this,E).bind(this)),O._on("findbarclose",w(m,this,Ee).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return F(t,this)}setDocument(ne){this._pdfDocument&&w(m,this,ie).call(this),ne&&(this._pdfDocument=ne,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ne=null,selectedLeft:O=0,pageIndex:_=-1,matchIndex:H=-1}){this._scrollMatches&&ne&&-1!==H&&H===this._selected.matchIdx&&-1!==_&&_===this._selected.pageIdx&&(this._scrollMatches=!1,(0,a.scrollIntoView)(ne,{top:-50,left:O+-400},!0))}}},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.CursorTool=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function ve(ne){let O=h.VERTICAL,_=P.NONE;switch(ne){case"SinglePage":O=h.PAGE;break;case"OneColumn":break;case"TwoPageLeft":O=h.PAGE;case"TwoColumnLeft":_=P.ODD;break;case"TwoPageRight":O=h.PAGE;case"TwoColumnRight":_=P.EVEN}return{scrollMode:O,spreadMode:_}},c.apiPageModeToSidebarView=function Se(ne){switch(ne){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},c.approximateFraction=function f(ne){if(Math.floor(ne)===ne)return[ne,1];const O=1/ne;if(O>8)return[1,8];if(Math.floor(O)===O)return[1,O];const H=ne>1?O:ne;let U,re=0,_e=1,ee=1,q=1;for(;;){const me=re+ee,Me=_e+q;if(Me>8)break;H<=me/Me?(ee=me,q=Me):(re=me,_e=Me)}return U=H-re/_e<ee/q-H?H===ne?[re,_e]:[_e,re]:H===ne?[ee,q]:[q,ee],U},c.backtrackBeforeAllVisibleElements=T,c.binarySearchFirstItem=t,c.docStyle=void 0,c.getActiveOrFocusedElement=function Ee(){let ne=document,O=ne.activeElement||ne.querySelector(":focus");for(;null!==(_=O)&&void 0!==_&&_.shadowRoot;){var _;ne=O.shadowRoot,O=ne.activeElement||ne.querySelector(":focus")}return O},c.getPageSizeInches=function m({view:ne,userUnit:O,rotate:_}){const[H,re,_e,ee]=ne,q=_%180!=0,U=(_e-H)/72*O,me=(ee-re)/72*O;return{width:q?me:U,height:q?U:me}},c.getVisibleElements=function E({scrollEl:ne,views:O,sortByVisibility:_=!1,horizontal:H=!1,rtl:re=!1}){const _e=ne.scrollTop,ee=_e+ne.clientHeight,q=ne.scrollLeft,U=q+ne.clientWidth,Re=[],oe=new Set,xe=O.length;let Oe=t(O,H?function Me(j){const ae=j.div,fe=ae.offsetLeft+ae.clientLeft;return re?fe<U:fe+ae.clientWidth>q}:function me(j){const ae=j.div;return ae.offsetTop+ae.clientTop+ae.clientHeight>_e});Oe>0&&Oe<xe&&!H&&(Oe=T(Oe,O,_e));let Ge=H?U:-1;for(let j=Oe;j<xe;j++){const ae=O[j],fe=ae.div,ge=fe.offsetLeft+fe.clientLeft,Pe=fe.offsetTop+fe.clientTop,De=fe.clientWidth,Ne=fe.clientHeight,ke=ge+De,Le=Pe+Ne;if(-1===Ge)Le>=ee&&(Ge=Le);else if((H?ge:Pe)>Ge)break;if(Le<=_e||Pe>=ee||ke<=q||ge>=U)continue;const Ie=Math.max(0,_e-Pe)+Math.max(0,Le-ee),We=(De-(Math.max(0,q-ge)+Math.max(0,ke-U)))/De;Re.push({id:ae.id,x:ge,y:Pe,view:ae,percent:(Ne-Ie)/Ne*We*100|0,widthPercent:100*We|0}),oe.add(ae.id)}const be=Re[0],D=Re.at(-1);return _&&Re.sort(function(j,ae){const fe=j.percent-ae.percent;return Math.abs(fe)>.001?-fe:j.id-ae.id}),{first:be,last:D,views:Re,ids:oe}},c.isPortraitOrientation=function we(ne){return ne.width<=ne.height},c.isValidRotation=function he(ne){return Number.isInteger(ne)&&ne%90==0},c.isValidScrollMode=function le(ne){return Number.isInteger(ne)&&Object.values(h).includes(ne)&&ne!==h.UNKNOWN},c.isValidSpreadMode=function Ce(ne){return Number.isInteger(ne)&&Object.values(P).includes(ne)&&ne!==P.UNKNOWN},c.normalizeWheelEventDelta=function de(ne){const O=ne.deltaMode;let _=ie(ne);return O===WheelEvent.DOM_DELTA_PIXEL?_/=900:O===WheelEvent.DOM_DELTA_LINE&&(_/=30),_},c.normalizeWheelEventDirection=ie,c.parseQueryString=function V(ne){const O=new Map;for(const[_,H]of new URLSearchParams(ne))O.set(_.toLowerCase(),H);return O},c.removeNullCharacters=function e(ne,O=!1){return"string"!=typeof ne?(console.error("The argument must be a string."),ne):(O&&(ne=ne.replaceAll(S," ")),ne.replaceAll("\0",""))},c.roundToDivide=function g(ne,O){const _=ne%O;return 0===_?ne:Math.round(ne-_+O)},c.scrollIntoView=function Q(ne,O,_=!1){let H=ne.offsetParent;if(!H)return void console.error("offsetParent is not set -- cannot scroll");let re=ne.offsetTop+ne.clientTop,_e=ne.offsetLeft+ne.clientLeft;for(;H.clientHeight===H.scrollHeight&&H.clientWidth===H.scrollWidth||_&&(H.classList.contains("markedContent")||"hidden"===getComputedStyle(H).overflow);)if(re+=H.offsetTop,_e+=H.offsetLeft,H=H.offsetParent,!H)return;O&&(void 0!==O.top&&(re+=O.top),void 0!==O.left&&(_e+=O.left,H.scrollLeft=_e)),H.scrollTop=re},c.toggleCheckedBtn=function Be(ne,O,_=null){ne.classList.toggle("toggled",O),ne.setAttribute("aria-checked",O),null==_||_.classList.toggle("hidden",!O)},c.toggleExpandedBtn=function pe(ne,O,_=null){ne.classList.toggle("toggled",O),ne.setAttribute("aria-expanded",O),null==_||_.classList.toggle("hidden",!O)},c.watchScroll=function x(ne,O){const _=function(_e){re||(re=window.requestAnimationFrame(function(){re=null;const q=ne.scrollLeft,U=H.lastX;q!==U&&(H.right=q>U),H.lastX=q;const me=ne.scrollTop,Me=H.lastY;me!==Me&&(H.down=me>Me),H.lastY=me,O(H)}))},H={right:!0,down:!0,lastX:ne.scrollLeft,lastY:ne.scrollTop,_eventHandler:_};let re=null;return ne.addEventListener("scroll",_,!0),H},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=r,c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};const h={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=h;const P={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=P,c.CursorTool={SELECT:0,HAND:1,ZOOM:2},c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class J{constructor(){const O=window.devicePixelRatio||1;this.sx=O,this.sy=O}get scaled(){return 1!==this.sx||1!==this.sy}};const S=/[\x01-\x1F]/g;function t(ne,O,_=0){let H=_,re=ne.length-1;if(re<0||!O(ne[re]))return ne.length;if(O(ne[H]))return H;for(;H<re;){const _e=H+re>>1;O(ne[_e])?re=_e:H=_e+1}return H}function T(ne,O,_){if(ne<2)return ne;let H=O[ne].div,re=H.offsetTop+H.clientTop;re>=_&&(H=O[ne-1].div,re=H.offsetTop+H.clientTop);for(let _e=ne-2;_e>=0&&(H=O[_e].div,!(H.offsetTop+H.clientTop+H.clientHeight<=re));--_e)ne=_e;return ne}function ie(ne){let O=Math.hypot(ne.deltaX,ne.deltaY);const _=Math.atan2(ne.deltaY,ne.deltaX);return-.25*Math.PI<_&&_<.75*Math.PI&&(O=-O),O}const ye=new Promise(function(ne){window.requestAnimationFrame(ne)});c.animationStarted=ye;const ue=document.documentElement.style;c.docStyle=ue;var W=new WeakMap,se=new WeakMap,ce=new WeakMap,Ae=new WeakMap,Fe=new WeakMap;c.ProgressBar=class I{constructor(O){R(this,W,null),R(this,se,null),R(this,ce,0),R(this,Ae,null),R(this,Fe,!0),p(W,this,O.classList),p(Ae,this,O.style)}get percent(){return F(ce,this)}set percent(O){p(ce,this,function te(ne,O,_){return Math.min(Math.max(ne,O),_)}(O,0,100)),isNaN(O)?F(W,this).add("indeterminate"):(F(W,this).remove("indeterminate"),F(Ae,this).setProperty("--progressBar-percent",`${F(ce,this)}%`))}setWidth(O){if(!O)return;const H=O.parentNode.offsetWidth-O.offsetWidth;H>0&&F(Ae,this).setProperty("--progressBar-end-offset",`${H}px`)}setDisableAutoFetch(O=5e3){isNaN(F(ce,this))||(F(se,this)&&clearTimeout(F(se,this)),this.show(),p(se,this,setTimeout(()=>{p(se,this,null),this.hide()},O)))}hide(){F(Fe,this)&&(p(Fe,this,!1),F(W,this).add("hidden"))}show(){F(Fe,this)||(p(Fe,this,!0),F(W,this).remove("hidden"))}}},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function r(P){return function a(P){return P<11904}(P)?function u(P){return!(65408&P)}(P)?function o(P){return 32===P||9===P||13===P||10===P}(P)?d.SPACE:function v(P){return P>=97&&P<=122||P>=65&&P<=90}(P)||function A(P){return P>=48&&P<=57}(P)||95===P?d.ALPHA_LETTER:d.PUNCT:function Y(P){return 3584==(65408&P)}(P)?d.THAI_LETTER:160===P?d.SPACE:d.ALPHA_LETTER:function n(P){return P>=13312&&P<=40959||P>=63744&&P<=64255}(P)?d.HAN_LETTER:function M(P){return P>=12448&&P<=12543}(P)?d.KATAKANA_LETTER:function B(P){return P>=12352&&P<=12447}(P)?d.HIRAGANA_LETTER:function k(P){return P>=65376&&P<=65439}(P)?d.HALFWIDTH_KATAKANA_LETTER:d.ALPHA_LETTER},c.getNormalizeWithNFKC=function h(){return l||(l="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6"),l};const d={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};let l;c.CharacterType=d},y=>{y.exports=globalThis.pdfjsLib},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var a=d(2);const v={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(r,{url:l,target:h,rel:P,enabled:G=!0}={}){if(!l||"string"!=typeof l)throw new Error('A valid "url" parameter must provided.');G?r.href=r.title=l:(r.href="",r.title=`Disabled: ${l}`,r.onclick=()=>!1);let K="";switch(h){case v.NONE:break;case v.SELF:K="_self";break;case v.BLANK:K="_blank";break;case v.PARENT:K="_parent";break;case v.TOP:K="_top"}r.target=K,r.rel="string"==typeof P?P:"noopener noreferrer nofollow"}c.LinkTarget=v;var o=new WeakMap,n=new WeakSet;class M{constructor({eventBus:l,externalLinkTarget:h=null,externalLinkRel:P=null,ignoreDestinationZoom:G=!1}={}){C(this,n),R(this,o,new Map),this.eventBus=l,this.externalLinkTarget=h,this.externalLinkRel=P,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=G,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(l,h=null){this.baseUrl=h,this.pdfDocument=l,F(o,this).clear()}setViewer(l){this.pdfViewer=l}setHistory(l){this.pdfHistory=l}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(l){this.pdfViewer.currentPageNumber=l}get rotation(){return this.pdfViewer.pagesRotation}set rotation(l){this.pdfViewer.pagesRotation=l}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}goToDestination(l){var h=this;return i(function*(){if(!h.pdfDocument)return;let P,G;"string"==typeof l?(P=l,G=yield h.pdfDocument.getDestination(l)):(P=null,G=yield l),Array.isArray(G)?w(n,h,B).call(h,l,P,G):console.error(`PDFLinkService.goToDestination: "${G}" is not a valid destination array, for dest="${l}".`)})()}goToPage(l){if(!this.pdfDocument)return;const h="string"==typeof l&&this.pdfViewer.pageLabelToPageNumber(l)||0|l;Number.isInteger(h)&&h>0&&h<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(h)),this.pdfViewer.scrollPageIntoView({pageNumber:h})):console.error(`PDFLinkService.goToPage: "${l}" is not a valid page.`)}addLinkAttributes(l,h,P=!1){A(l,{url:h,target:P?v.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(l){if("string"==typeof l){if(l.length>0)return this.getAnchorUrl("#"+escape(l))}else if(Array.isArray(l)){const h=JSON.stringify(l);if(h.length>0)return this.getAnchorUrl("#"+escape(h))}return this.getAnchorUrl("")}getAnchorUrl(l){return this.baseUrl?this.baseUrl+l:l}setHash(l){if(!this.pdfDocument)return;let h,P;if(l.includes("=")){const G=(0,a.parseQueryString)(l);if(G.has("search")){const K=G.get("search").replaceAll('"',""),J="true"===G.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:J?K:K.match(/\S+/g)})}if(G.has("page")&&(h=0|G.get("page")||1),G.has("zoom")){const K=G.get("zoom").split(","),J=K[0],Q=parseFloat(J);J.includes("Fit")?"Fit"===J||"FitB"===J?P=[null,{name:J}]:"FitH"===J||"FitBH"===J||"FitV"===J||"FitBV"===J?P=[null,{name:J},K.length>1?0|K[1]:null]:"FitR"===J?5!==K.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):P=[null,{name:J},0|K[1],0|K[2],0|K[3],0|K[4]]:console.error(`PDFLinkService.setHash: "${J}" is not a valid zoom value.`):P=[null,{name:"XYZ"},K.length>1?0|K[1]:null,K.length>2?0|K[2]:null,Q?Q/100:J]}P?this.pdfViewer.scrollPageIntoView({pageNumber:h||this.page,destArray:P,allowNegativeOffset:!0}):h&&(this.page=h),G.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:G.get("pagemode")}),G.has("nameddest")&&this.goToDestination(G.get("nameddest"))}else{P=unescape(l);try{P=JSON.parse(P),Array.isArray(P)||(P=P.toString())}catch{}if("string"==typeof P||k.call(M,P))return void this.goToDestination(P);console.error(`PDFLinkService.setHash: "${unescape(l)}" is not a valid destination.`)}}executeNamedAction(l){var h,P;switch(l){case"GoBack":null===(h=this.pdfHistory)||void 0===h||h.back();break;case"GoForward":null===(P=this.pdfHistory)||void 0===P||P.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:l})}executeSetOCGState(l){var h=this;return i(function*(){const P=h.pdfDocument,G=yield h.pdfViewer.optionalContentConfigPromise;if(P!==h.pdfDocument)return;let K;for(const J of l.state){switch(J){case"ON":case"OFF":case"Toggle":K=J;continue}switch(K){case"ON":G.setVisibility(J,!0);break;case"OFF":G.setVisibility(J,!1);break;case"Toggle":const Q=G.getGroup(J);Q&&G.setVisibility(J,!Q.visible)}}h.pdfViewer.optionalContentConfigPromise=Promise.resolve(G)})()}cachePageRef(l,h){if(!h)return;const P=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;F(o,this).set(P,l)}_cachedPageNumber(l){if(!l)return null;const h=0===l.gen?`${l.num}R`:`${l.num}R${l.gen}`;return F(o,this).get(h)||null}}function B(r,l=null,h){const P=h[0];let G;if("object"==typeof P&&null!==P){if(G=this._cachedPageNumber(P),!G)return void this.pdfDocument.getPageIndex(P).then(K=>{this.cachePageRef(K+1,P),w(n,this,B).call(this,r,l,h)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid page reference, for dest="${r}".`)})}else{if(!Number.isInteger(P))return void console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid destination reference, for dest="${r}".`);G=P+1}!G||G<1||G>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${G}" is not a valid page number, for dest="${r}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:l,explicitDest:h,pageNumber:G})),this.pdfViewer.scrollPageIntoView({pageNumber:G,destArray:h,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function k(r){if(!Array.isArray(r))return!1;const l=r.length;if(l<2)return!1;const h=r[0];if(!("object"==typeof h&&Number.isInteger(h.num)&&Number.isInteger(h.gen)||Number.isInteger(h)&&h>=0))return!1;const P=r[1];if("object"!=typeof P||"string"!=typeof P.name)return!1;let G=!0;switch(P.name){case"XYZ":if(5!==l)return!1;break;case"Fit":case"FitB":return 2===l;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==l)return!1;break;case"FitR":if(6!==l)return!1;G=!1;break;default:return!1}for(let K=2;K<l;K++){const J=r[K];if(!("number"==typeof J||G&&null===J))return!1}return!0}c.PDFLinkService=M,c.SimpleLinkService=class Y{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(l){}get rotation(){return 0}set rotation(l){}get isInPresentationMode(){return!1}goToDestination(l){return i(function*(){})()}goToPage(l){}addLinkAttributes(l,h,P=!1){A(l,{url:h,enabled:this.externalLinkEnabled})}getDestinationHash(l){return"#"}getAnchorUrl(l){return"#"}setHash(l){}executeNamedAction(l){}executeSetOCGState(l){}cachePageRef(l,h){}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var a=d(4),u=d(7),v=d(2),A=new WeakMap,o=new WeakSet;function M(B){if(!this.div)return;let k=!1;switch(B){case v.PresentationModeState.FULLSCREEN:k=!0;break;case v.PresentationModeState.NORMAL:break;default:return}for(const Y of this.div.childNodes)Y.hasAttribute("data-internal-link")||(Y.inert=k)}c.AnnotationLayerBuilder=class n{constructor({pageDiv:k,pdfPage:Y,linkService:r,downloadManager:l,annotationStorage:h=null,imageResourcesPath:P="",renderForms:G=!0,l10n:K=u.NullL10n,enableScripting:J=!1,hasJSActionsPromise:Q=null,fieldObjectsPromise:x=null,annotationCanvasMap:V=null,accessibilityManager:S=null}){C(this,o),R(this,A,null),this.pageDiv=k,this.pdfPage=Y,this.linkService=r,this.downloadManager=l,this.imageResourcesPath=P,this.renderForms=G,this.l10n=K,this.annotationStorage=h,this.enableScripting=J,this._hasJSActionsPromise=Q||Promise.resolve(!1),this._fieldObjectsPromise=x||Promise.resolve(null),this._annotationCanvasMap=V,this._accessibilityManager=S,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=r.eventBus}render(k,Y="display"){var r=this;return i(function*(){if(r.div){if(r._cancelled||!r.annotationLayer)return;return void r.annotationLayer.update({viewport:k.clone({dontFlip:!0})})}const[l,h,P]=yield Promise.all([r.pdfPage.getAnnotations({intent:Y}),r._hasJSActionsPromise,r._fieldObjectsPromise]);if(r._cancelled)return;const G=r.div=document.createElement("div");var K;G.className="annotationLayer",r.pageDiv.append(G),0!==l.length?(r.annotationLayer=new a.AnnotationLayer({div:G,accessibilityManager:r._accessibilityManager,annotationCanvasMap:r._annotationCanvasMap,l10n:r.l10n,page:r.pdfPage,viewport:k.clone({dontFlip:!0})}),yield r.annotationLayer.render({annotations:l,imageResourcesPath:r.imageResourcesPath,renderForms:r.renderForms,linkService:r.linkService,downloadManager:r.downloadManager,annotationStorage:r.annotationStorage,enableScripting:r.enableScripting,hasJSActions:h,fieldObjects:P}),r.linkService.isInPresentationMode&&w(o,r,M).call(r,v.PresentationModeState.FULLSCREEN),F(A,r)||(p(A,r,J=>{w(o,r,M).call(r,J.state)}),null===(K=r._eventBus)||void 0===K||K._on("presentationmodechanged",F(A,r)))):r.hide()})()}cancel(){var k;this._cancelled=!0,F(A,this)&&(null===(k=this._eventBus)||void 0===k||k._off("presentationmodechanged",F(A,this)),p(A,this,null))}hide(){this.div&&(this.div.hidden=!0)}}},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.getL10nFallback=a;const d={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function a(A,o){switch(A){case"find_match_count":A=`find_match_count[${1===o.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===o.limit?"one":"other"}]`}return d[A]||""}d.print_progress_percent="{{progress}}%",c.NullL10n={getLanguage:()=>i(function*(){return"en-us"})(),getDirection:()=>i(function*(){return"ltr"})(),get:(A,o=null,n=a(A,o))=>i(function*(){return function u(A,o){return o?A.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(n,M)=>M in o?o[M]:"{{"+M+"}}"):A}(n,o)})(),translate:A=>i(function*(){})()}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var a=d(4);function u(o,n){const M=document.createElement("a");if(!M.click)throw new Error('DownloadManager: "a.click()" is not supported.');M.href=o,M.target="_parent","download"in M&&(M.download=n),(document.body||document.documentElement).append(M),M.click(),M.remove()}var v=new WeakMap;c.DownloadManager=class A{constructor(){R(this,v,new WeakMap)}downloadUrl(n,M,B){(0,a.createValidAbsoluteUrl)(n,"http://example.com")?u(n+"#pdfjs.action=download",M):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,M,B){u(URL.createObjectURL(new Blob([n],{type:B})),M)}openOrDownloadData(n,M,B){const Y=(0,a.isPdfFile)(B)?"application/pdf":"";return this.downloadData(M,B,Y),!1}download(n,M,B,k){u(URL.createObjectURL(n),B)}}},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function a({target:o,name:n,delay:M=0}){return new Promise(function(B,k){if("object"!=typeof o||!n||"string"!=typeof n||!(Number.isInteger(M)&&M>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Y(P){o instanceof v?o._off(n,r):o.removeEventListener(n,r),h&&clearTimeout(h),B(P)}const r=Y.bind(null,d.EVENT);o instanceof v?o._on(n,r):o.addEventListener(n,r);const l=Y.bind(null,d.TIMEOUT),h=setTimeout(l,M)})};const d={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=d;var u=new WeakMap;class v{constructor(){R(this,u,Object.create(null))}on(n,M,B=null){this._on(n,M,{external:!0,once:null==B?void 0:B.once})}off(n,M,B=null){this._off(n,M,{external:!0,once:null==B?void 0:B.once})}dispatch(n,M){const B=F(u,this)[n];if(!B||0===B.length)return;let k;for(const{listener:Y,external:r,once:l}of B.slice(0))l&&this._off(n,Y),r?(k||(k=[])).push(Y):Y(M);if(k){for(const Y of k)Y(M);k=null}}_on(n,M,B=null){var k;((k=F(u,this))[n]||(k[n]=[])).push({listener:M,external:!0===(null==B?void 0:B.external),once:!0===(null==B?void 0:B.once)})}_off(n,M,B=null){const k=F(u,this)[n];if(k)for(let Y=0,r=k.length;Y<r;Y++)if(k[Y].listener===M)return void k.splice(Y,1)}}c.EventBus=v,c.AutomationEventBus=class A extends v{dispatch(n,M){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,d(11);var a=d(7);const u={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.GenericL10n=class A{constructor(n){const{webL10n:M}=document;this._lang=n,this._ready=new Promise((B,k)=>{M.setLanguage(function v(o){return u[null==o?void 0:o.toLowerCase()]||o}(n),()=>{B(M)})})}getLanguage(){var n=this;return i(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return i(function*(){return(yield n._ready).getDirection()})()}get(n,M=null,B=(0,a.getL10nFallback)(n,M)){var k=this;return i(function*(){return(yield k._ready).get(n,M,B)})()}translate(n){var M=this;return i(function*(){return(yield M._ready).translate(n)})()}}},()=>{document.webL10n=function(y,c){var d={},a="",u="textContent",v="",A={},o="loading",n=!0;function r(e,t,f){t=t||function(T){},f=f||function(){};var g=new XMLHttpRequest;g.open("GET",e,n),g.overrideMimeType&&g.overrideMimeType("text/plain; charset=utf-8"),g.onreadystatechange=function(){4==g.readyState&&(200==g.status||0===g.status?t(g.responseText):f())},g.onerror=f,g.ontimeout=f;try{g.send(null)}catch{f()}}function h(e,t){e&&(e=e.toLowerCase()),t=t||function(){},function P(){d={},a="",v=""}(),v=e;var f=function M(){return c.querySelectorAll('link[type="application/l10n"]')}(),g=f.length;if(0!==g){var ie,de=0;ie=function(){++de>=g&&(t(),o="complete")};for(var le=0;le<g;le++)new he(f[le]).load(e,ie)}else{var m=function B(){var e=c.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}();if(m&&m.locales&&m.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(d=m.locales[e])){var T=m.default_locale.toLowerCase();for(var E in m.locales){if((E=E.toLowerCase())===e){d=m.locales[e];break}E===T&&(d=m.locales[T])}}t()}else console.log("no resource to load, early way out");o="complete"}function he(we){var ye=we.href;this.load=function(ue,te){!function l(e,t,f,g){var m=e.replace(/[^\/]*$/,"")||"./";function T(ie){return ie.lastIndexOf("\\")<0?ie:ie.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(e,function(ie){a+=ie,function E(ie,de){var he={},le=/^\s*|\s*$/,Ce=/^\s*#|^\s*$/,we=/^\s*\[(.*)\]\s*$/,ye=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function te(se,ce,Ae){var Fe=se.replace(le,"").split(/[\r\n]+/),I="*",Ee=t.split("-",1)[0],ve=!1,Se="";!function Be(){for(;;){if(!Fe.length)return void Ae();var pe=Fe.shift();if(!Ce.test(pe)){if(ce){if(Se=we.exec(pe)){I=Se[1].toLowerCase(),ve="*"!==I&&I!==t&&I!==Ee;continue}if(ve)continue;if(Se=ye.exec(pe))return void W(m+Se[1],Be)}var ne=pe.match(ue);ne&&3==ne.length&&(he[ne[1]]=T(ne[2]))}}}()}function W(se,ce){r(se,function(Ae){te(Ae,!1,ce)},function(){console.warn(se+" not found."),ce()})}te(ie,!0,function(){de(he)})}(ie,function(de){for(var he in de){var le,Ce,we=he.lastIndexOf(".");we>0?(le=he.substring(0,we),Ce=he.substring(we+1)):(le=he,Ce=u),d[le]||(d[le]={}),d[le][Ce]=de[he]}f&&f()})},g)}(ye,ue,te,function(){console.warn(ye+" not found."),console.warn('"'+ue+'" resource not found'),v="",te()})}}}function K(e,t,f){var g=d[e];if(!g){if(console.warn("#"+e+" is undefined."),!f)return null;g=f}var m={};for(var T in g){var E=g[T];E=Q(E=J(E,t,e,T),t,e),m[T]=E}return m}function J(e,t,f,g){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!T||!T.length)return e;var de,E=T[1],ie=T[2];return t&&ie in t?de=t[ie]:ie in d&&(de=d[ie]),E in A&&(e=(0,A[E])(e,de,f,g)),e}function Q(e,t,f){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,function(m,T){return t&&T in t?t[T]:T in d?d[T]:(console.log("argument {{"+T+"}} for #"+f+" is undefined."),m)})}function x(e){var t=function Y(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),f=e.getAttribute("data-l10n-args"),g={};if(f)try{g=JSON.parse(f)}catch{console.warn("could not parse arguments for #"+t)}return{id:t,args:g}}(e);if(t.id){var f=K(t.id,t.args);if(!f)return void console.warn("#"+t.id+" is undefined.");if(f[u]){if(0===function V(e){if(e.children)return e.children.length;if(typeof e.childElementCount<"u")return e.childElementCount;for(var t=0,f=0;f<e.childNodes.length;f++)t+=1===e.nodeType?1:0;return t}(e))e[u]=f[u];else{for(var g=e.childNodes,m=!1,T=0,E=g.length;T<E;T++)3===g[T].nodeType&&/\S/.test(g[T].nodeValue)&&(m?g[T].nodeValue="":(g[T].nodeValue=f[u],m=!0));if(!m){var ie=c.createTextNode(f[u]);e.prepend(ie)}}delete f[u]}for(var de in f)e[de]=f[de]}}return A.plural=function(e,t,f,g){var m=parseFloat(t);if(isNaN(m)||g!=u)return e;A._pluralRules||(A._pluralRules=function G(e){function f(E,ie){return-1!==ie.indexOf(E)}function g(E,ie,de){return ie<=E&&E<=de}var m={0:function(E){return"other"},1:function(E){return g(E%100,3,10)?"few":0===E?"zero":g(E%100,11,99)?"many":2==E?"two":1==E?"one":"other"},2:function(E){return 0!==E&&E%10==0?"many":2==E?"two":1==E?"one":"other"},3:function(E){return 1==E?"one":"other"},4:function(E){return g(E,0,1)?"one":"other"},5:function(E){return g(E,0,2)&&2!=E?"one":"other"},6:function(E){return 0===E?"zero":E%10==1&&E%100!=11?"one":"other"},7:function(E){return 2==E?"two":1==E?"one":"other"},8:function(E){return g(E,3,6)?"few":g(E,7,10)?"many":2==E?"two":1==E?"one":"other"},9:function(E){return 0===E||1!=E&&g(E%100,1,19)?"few":1==E?"one":"other"},10:function(E){return g(E%10,2,9)&&!g(E%100,11,19)?"few":E%10!=1||g(E%100,11,19)?"other":"one"},11:function(E){return g(E%10,2,4)&&!g(E%100,12,14)?"few":E%10==0||g(E%10,5,9)||g(E%100,11,14)?"many":E%10==1&&E%100!=11?"one":"other"},12:function(E){return g(E,2,4)?"few":1==E?"one":"other"},13:function(E){return g(E%10,2,4)&&!g(E%100,12,14)?"few":1!=E&&g(E%10,0,1)||g(E%10,5,9)||g(E%100,12,14)?"many":1==E?"one":"other"},14:function(E){return g(E%100,3,4)?"few":E%100==2?"two":E%100==1?"one":"other"},15:function(E){return 0===E||g(E%100,2,10)?"few":g(E%100,11,19)?"many":1==E?"one":"other"},16:function(E){return E%10==1&&11!=E?"one":"other"},17:function(E){return 3==E?"few":0===E?"zero":6==E?"many":2==E?"two":1==E?"one":"other"},18:function(E){return 0===E?"zero":g(E,0,2)&&0!==E&&2!=E?"one":"other"},19:function(E){return g(E,2,10)?"few":g(E,0,1)?"one":"other"},20:function(E){return!g(E%10,3,4)&&E%10!=9||g(E%100,10,19)||g(E%100,70,79)||g(E%100,90,99)?E%1e6==0&&0!==E?"many":E%10!=2||f(E%100,[12,72,92])?E%10!=1||f(E%100,[11,71,91])?"other":"one":"two":"few"},21:function(E){return 0===E?"zero":1==E?"one":"other"},22:function(E){return g(E,0,1)||g(E,11,99)?"one":"other"},23:function(E){return g(E%10,1,2)||E%20==0?"one":"other"},24:function(E){return g(E,3,10)||g(E,13,19)?"few":f(E,[2,12])?"two":f(E,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return T in m?m[T]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(v));var T="["+A._pluralRules(m)+"]";return 0===m&&f+"[zero]"in d?e=d[f+"[zero]"][g]:1==m&&f+"[one]"in d?e=d[f+"[one]"][g]:2==m&&f+"[two]"in d?e=d[f+"[two]"][g]:f+T in d?e=d[f+T][g]:f+"[other]"in d&&(e=d[f+"[other]"][g]),e},{get:function(e,t,f){var T,g=e.lastIndexOf("."),m=u;g>0&&(m=e.substring(g+1),e=e.substring(0,g)),f&&((T={})[m]=f);var E=K(e,t,T);return E&&m in E?E[m]:"{{"+e+"}}"},getData:function(){return d},getText:function(){return a},getLanguage:function(){return v},setLanguage:function(e,t){h(e,function(){t&&t()})},getDirection:function(){var t=v.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function S(e){for(var t=function k(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||c.documentElement),f=t.length,g=0;g<f;g++)x(t[g]);x(e)},getReadyState:function(){return o},ready:function(e){e&&("complete"==o||"interactive"==o?y.setTimeout(function(){e()}):c.addEventListener&&c.addEventListener("localized",function t(){c.removeEventListener("localized",t),e()}))}}}(window,document)},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=k,c.isDestHashesEqual=B;var a=d(2),u=d(9);function n(){return document.location.hash}function B(Y,r){return"string"==typeof Y&&"string"==typeof r&&(Y===r||(0,a.parseQueryString)(Y).get("nameddest")===r)}function k(Y,r){function l(h,P){if(typeof h!=typeof P||Array.isArray(h)||Array.isArray(P))return!1;if(null!==h&&"object"==typeof h&&null!==P){if(Object.keys(h).length!==Object.keys(P).length)return!1;for(const G in h)if(!l(h[G],P[G]))return!1;return!0}return h===P||Number.isNaN(h)&&Number.isNaN(P)}if(!Array.isArray(Y)||!Array.isArray(r)||Y.length!==r.length)return!1;for(let h=0,P=Y.length;h<P;h++)if(!l(Y[h],r[h]))return!1;return!0}c.PDFHistory=class M{constructor({linkService:r,eventBus:l}){this.linkService=r,this.eventBus=l,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",h=>{this._isPagesLoaded=!!h.pagesCount},{once:!0})})}initialize({fingerprint:r,resetHistory:l=!1,updateUrl:h=!1}){if(!r||"string"!=typeof r)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const P=""!==this._fingerprint&&this._fingerprint!==r;this._fingerprint=r,this._updateUrl=!0===h,this._initialized=!0,this._bindEvents();const G=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(G,!0)||l){const{hash:J,page:Q,rotation:x}=this._parseCurrentHash(!0);return!J||P||l?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:J,page:Q,rotation:x},!0)}const K=G.destination;this._updateInternalState(K,G.uid,!0),void 0!==K.rotation&&(this._initialRotation=K.rotation),K.dest?(this._initialBookmark=JSON.stringify(K.dest),this._destination.page=null):K.hash?this._initialBookmark=K.hash:K.page&&(this._initialBookmark=`page=${K.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:r=null,explicitDest:l,pageNumber:h}){if(!this._initialized)return;if(r&&"string"!=typeof r)return void console.error(`PDFHistory.push: "${r}" is not a valid namedDest parameter.`);if(!Array.isArray(l))return void console.error(`PDFHistory.push: "${l}" is not a valid explicitDest parameter.`);if(!this._isValidPage(h)&&(null!==h||this._destination))return void console.error(`PDFHistory.push: "${h}" is not a valid pageNumber parameter.`);const P=r||JSON.stringify(l);if(!P)return;let G=!1;if(this._destination&&(B(this._destination.hash,P)||k(this._destination.dest,l))){if(this._destination.page)return;G=!0}this._popStateInProgress&&!G||(this._pushOrReplaceState({dest:l,hash:P,page:h,rotation:this.linkService.rotation},G),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(r){var l;if(this._initialized){if(!this._isValidPage(r))return void console.error(`PDFHistory.pushPage: "${r}" is not a valid page number.`);(null===(l=this._destination)||void 0===l?void 0:l.page)!==r&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${r}`,page:r,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const r=window.history.state;this._isValidState(r)&&r.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const r=window.history.state;this._isValidState(r)&&r.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(r,l=!1){const h=l||!this._destination,P={fingerprint:this._fingerprint,uid:h?this._uid:this._uid+1,destination:r};let G;if(this._updateInternalState(r,P.uid),this._updateUrl&&null!=r&&r.hash){const K=document.location.href.split("#")[0];K.startsWith("file://")||(G=`${K}#${r.hash}`)}h?window.history.replaceState(P,"",G):window.history.pushState(P,"",G)}_tryPushCurrentPosition(r=!1){if(!this._position)return;let l=this._position;if(r&&(l=Object.assign(Object.create(null),this._position),l.temporary=!0),!this._destination)return void this._pushOrReplaceState(l);if(this._destination.temporary)return void this._pushOrReplaceState(l,!0);if(this._destination.hash===l.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let h=!1;if(this._destination.page>=l.first&&this._destination.page<=l.page){if(void 0!==this._destination.dest||!this._destination.first)return;h=!0}this._pushOrReplaceState(l,h)}_isValidPage(r){return Number.isInteger(r)&&r>0&&r<=this.linkService.pagesCount}_isValidState(r,l=!1){if(!r)return!1;if(r.fingerprint!==this._fingerprint){if(!l)return!1;{if("string"!=typeof r.fingerprint||r.fingerprint.length!==this._fingerprint.length)return!1;const[h]=performance.getEntriesByType("navigation");if("reload"!==(null==h?void 0:h.type))return!1}}return!(!Number.isInteger(r.uid)||r.uid<0||null===r.destination||"object"!=typeof r.destination)}_updateInternalState(r,l,h=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),h&&null!=r&&r.temporary&&delete r.temporary,this._destination=r,this._uid=l,this._maxUid=Math.max(this._maxUid,l),this._numPositionUpdates=0}_parseCurrentHash(r=!1){const l=unescape(n()).substring(1),h=(0,a.parseQueryString)(l),P=h.get("nameddest")||"";let G=0|h.get("page");return(!this._isValidPage(G)||r&&P.length>0)&&(G=null),{hash:l,page:G,rotation:this.linkService.rotation}}_updateViewarea({location:r}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:r.pdfOpenParams.substring(1),page:this.linkService.page,first:r.pageNumber,rotation:r.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:r}){const l=n(),h=this._currentHash!==l;if(this._currentHash=l,!r){this._uid++;const{hash:G,page:K,rotation:J}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:G,page:K,rotation:J},!0)}if(!this._isValidState(r))return;this._popStateInProgress=!0,h&&(this._blockHashChange++,(0,u.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const P=r.destination;this._updateInternalState(P,r.uid,!0),(0,a.isValidRotation)(P.rotation)&&(this.linkService.rotation=P.rotation),P.dest?this.linkService.goToDestination(P.dest):P.hash?this.linkService.setHash(P.hash):P.page&&(this.linkService.page=P.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var a=d(4),u=d(2),v=d(14),A=d(6),o=d(15),n=d(7),M=d(5),B=d(16),k=d(17),Y=d(18),r=d(19),l=d(20);const h=o.compatibilityParams.maxCanvasPixels||16777216,P=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new M.SimpleLinkService}});var G=new WeakMap,K=new WeakMap,J=new WeakMap,Q=new WeakMap,x=new WeakMap,V=new WeakMap,S=new WeakMap,e=new WeakMap,t=new WeakMap,f=new WeakMap,g=new WeakSet;function T(){const{viewport:Fe}=this;if(this.pdfPage){if(F(x,this)===Fe.rotation)return;p(x,this,Fe.rotation)}(0,a.setLayerDimensions)(this.div,Fe,!0,!1)}function E(){return ie.apply(this,arguments)}function ie(){return(ie=i(function*(){let Fe=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(I){console.error(`#renderAnnotationLayer: "${I}".`),Fe=I}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:Fe})}})).apply(this,arguments)}function de(){return he.apply(this,arguments)}function he(){return(he=i(function*(){let Fe=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(I){console.error(`#renderAnnotationEditorLayer: "${I}".`),Fe=I}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:Fe})}})).apply(this,arguments)}function le(){return Ce.apply(this,arguments)}function Ce(){return(Ce=i(function*(){let Fe=null;try{const I=yield this.xfaLayer.render(this.viewport,"display");null!=I&&I.textDivs&&this._textHighlighter&&w(g,this,W).call(this,I.textDivs)}catch(I){console.error(`#renderXfaLayer: "${I}".`),Fe=I}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:Fe})}})).apply(this,arguments)}function we(){return ye.apply(this,arguments)}function ye(){return(ye=i(function*(){const{pdfPage:Fe,textLayer:I,viewport:Ee}=this;if(!I)return;let ve=null;try{if(!I.renderingDone){const Se=Fe.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});I.setTextContentSource(Se)}yield I.render(Ee)}catch(Se){if(Se instanceof a.AbortException)return;console.error(`#renderTextLayer: "${Se}".`),ve=Se}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:I.numTextDivs,error:ve}),w(g,this,ue).call(this)})).apply(this,arguments)}function ue(){return te.apply(this,arguments)}function te(){return(te=i(function*(){var Fe,I;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new B.StructTreeLayerBuilder);const Ee=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),ve=null===(Fe=this.structTreeLayer)||void 0===Fe?void 0:Fe.render(Ee);var Se;ve&&(null===(Se=this.canvas)||void 0===Se||Se.append(ve)),null===(I=this.structTreeLayer)||void 0===I||I.show()})).apply(this,arguments)}function W(Fe){return se.apply(this,arguments)}function se(){return(se=i(function*(Fe){const I=yield this.pdfPage.getTextContent(),Ee=[];for(const ve of I.items)Ee.push(ve.str);this._textHighlighter.setTextMapping(Fe,Ee),this._textHighlighter.enable()})).apply(this,arguments)}function ce(Fe){return Ae.apply(this,arguments)}function Ae(){return(Ae=i(function*(Fe,I=null){if(Fe===this.renderTask&&(this.renderTask=null),I instanceof a.RenderingCancelledException)p(V,this,null);else if(p(V,this,I),this.renderingState=u.RenderingStates.FINISHED,this._resetZoomLayer(!0),F(t,this).regularAnnotations=!Fe.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:F(V,this)}),I)throw I})).apply(this,arguments)}c.PDFPageView=class m{constructor(I){var Ee,ve,Se,Be,pe;C(this,g),R(this,G,a.AnnotationMode.ENABLE_FORMS),R(this,K,!1),R(this,J,null),R(this,Q,null),R(this,x,null),R(this,V,null),R(this,S,u.RenderingStates.INITIAL),R(this,e,u.TextLayerMode.ENABLE),R(this,t,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}),R(this,f,new WeakMap);const ne=I.container,O=I.defaultViewport;this.id=I.id,this.renderingId="page"+this.id,p(J,this,I.layerProperties||P),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=I.scale||u.DEFAULT_SCALE,this.viewport=O,this.pdfPageRotate=O.rotation,this._optionalContentConfigPromise=I.optionalContentConfigPromise||null,p(e,this,null!==(Ee=I.textLayerMode)&&void 0!==Ee?Ee:u.TextLayerMode.ENABLE),p(G,this,null!==(ve=I.annotationMode)&&void 0!==ve?ve:a.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=I.imageResourcesPath||"",this.isOffscreenCanvasSupported=null===(Se=I.isOffscreenCanvasSupported)||void 0===Se||Se,this.maxCanvasPixels=null!==(Be=I.maxCanvasPixels)&&void 0!==Be?Be:h,this.pageColors=I.pageColors||null,this.eventBus=I.eventBus,this.renderingQueue=I.renderingQueue,this.l10n=I.l10n||n.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!(null!==(pe=this.renderingQueue)&&void 0!==pe&&pe.hasViewer()),this._container=ne,I.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const _=document.createElement("div");if(_.className="page",_.setAttribute("data-page-number",this.id),_.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(H=>{_.setAttribute("aria-label",H)}),this.div=_,w(g,this,T).call(this),null==ne||ne.append(_),this._isStandalone){null==ne||ne.style.setProperty("--scale-factor",this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:H}=I;H&&H.then(re=>{H===this._optionalContentConfigPromise&&(F(t,this).initialOptionalContent=re.hasInitialVisibility)})}}get renderingState(){return F(S,this)}set renderingState(I){if(I!==F(S,this))switch(p(S,this,I),F(Q,this)&&(clearTimeout(F(Q,this)),p(Q,this,null)),I){case u.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case u.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),p(Q,this,setTimeout(()=>{this.div.classList.add("loading"),p(Q,this,null)},0));break;case u.RenderingStates.INITIAL:case u.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading")}}setPdfPage(I){var Ee,ve,Se;!this._isStandalone||"CanvasText"!==(null===(Ee=this.pageColors)||void 0===Ee?void 0:Ee.foreground)&&"Canvas"!==(null===(ve=this.pageColors)||void 0===ve?void 0:ve.background)||null===(Se=this._container)||void 0===Se||Se.style.setProperty("--hcm-highligh-filter",I.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=I,this.pdfPageRotate=I.rotate,this.viewport=I.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),w(g,this,T).call(this),this.reset()}destroy(){var I;this.reset(),null===(I=this.pdfPage)||void 0===I||I.cleanup()}get _textHighlighter(){return(0,a.shadow)(this,"_textHighlighter",new Y.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:F(J,this).call(this).findController}))}_resetZoomLayer(I=!1){if(!this.zoomLayer)return;const Ee=this.zoomLayer.firstChild;F(f,this).delete(Ee),Ee.width=0,Ee.height=0,I&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:I=!1,keepAnnotationLayer:Ee=!1,keepAnnotationEditorLayer:ve=!1,keepXfaLayer:Se=!1,keepTextLayer:Be=!1}={}){var pe,ne,O,_,H;this.cancelRendering({keepAnnotationLayer:Ee,keepAnnotationEditorLayer:ve,keepXfaLayer:Se,keepTextLayer:Be}),this.renderingState=u.RenderingStates.INITIAL;const re=this.div,_e=re.childNodes,ee=I&&this.zoomLayer||null,q=Ee&&(null===(pe=this.annotationLayer)||void 0===pe?void 0:pe.div)||null,U=ve&&(null===(ne=this.annotationEditorLayer)||void 0===ne?void 0:ne.div)||null,me=Se&&(null===(O=this.xfaLayer)||void 0===O?void 0:O.div)||null,Me=Be&&(null===(_=this.textLayer)||void 0===_?void 0:_.div)||null;for(let Re=_e.length-1;Re>=0;Re--){const oe=_e[Re];switch(oe){case ee:case q:case U:case me:case Me:continue}oe.remove()}re.removeAttribute("data-loaded"),q&&this.annotationLayer.hide(),U&&this.annotationEditorLayer.hide(),me&&this.xfaLayer.hide(),Me&&this.textLayer.hide(),null===(H=this.structTreeLayer)||void 0===H||H.hide(),ee||(this.canvas&&(F(f,this).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:I=0,rotation:Ee=null,optionalContentConfigPromise:ve=null,drawingDelay:Se=-1}){var pe;if(this.scale=I||this.scale,"number"==typeof Ee&&(this.rotation=Ee),ve instanceof Promise&&(this._optionalContentConfigPromise=ve,ve.then(ne=>{ve===this._optionalContentConfigPromise&&(F(t,this).initialOptionalContent=ne.hasInitialVisibility)})),F(t,this).directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),w(g,this,T).call(this),this._isStandalone&&(null===(pe=this._container)||void 0===pe||pe.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let ne=!1;if(F(K,this))if(0===this.maxCanvasPixels)ne=!0;else if(this.maxCanvasPixels>0){const{width:_,height:H}=this.viewport,{sx:re,sy:_e}=this.outputScale;ne=(Math.floor(_)*re|0)*(Math.floor(H)*_e|0)>this.maxCanvasPixels}const O=!ne&&Se>=0&&Se<1e3;if(O||ne){if(O&&this.renderingState!==u.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:Se}),this.renderingState=u.RenderingStates.FINISHED,F(t,this).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!O,hideTextLayer:O}),O)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:F(V,this)})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:I=!1,keepAnnotationEditorLayer:Ee=!1,keepXfaLayer:ve=!1,keepTextLayer:Se=!1,cancelExtraDelay:Be=0}={}){var pe;this.renderTask&&(this.renderTask.cancel(Be),this.renderTask=null),this.resume=null,this.textLayer&&(!Se||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!I||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!Ee||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||ve&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(pe=this._textHighlighter)||void 0===pe||pe.disable())}cssTransform({target:I,redrawAnnotationLayer:Ee=!1,redrawAnnotationEditorLayer:ve=!1,redrawXfaLayer:Se=!1,redrawTextLayer:Be=!1,hideTextLayer:pe=!1}){if(!I.hasAttribute("zooming")){I.setAttribute("zooming",!0);const{style:_}=I;_.width=_.height=""}const ne=F(f,this).get(I);if(this.viewport!==ne){const _=this.viewport.rotation-ne.rotation,H=Math.abs(_);let re=1,_e=1;if(90===H||270===H){const{width:ee,height:q}=this.viewport;re=q/ee,_e=ee/q}I.style.transform=`rotate(${_}deg) scale(${re}, ${_e})`}if(Ee&&this.annotationLayer&&w(g,this,E).call(this),ve&&this.annotationEditorLayer&&w(g,this,de).call(this),Se&&this.xfaLayer&&w(g,this,le).call(this),this.textLayer)if(pe){var O;this.textLayer.hide(),null===(O=this.structTreeLayer)||void 0===O||O.hide()}else Be&&w(g,this,we).call(this)}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(I,Ee){return this.viewport.convertToPdfPoint(I,Ee)}draw(){var I=this;return i(function*(){I.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),I.reset());const{div:Ee,l10n:ve,pageColors:Se,pdfPage:Be,viewport:pe}=I;if(!Be)throw I.renderingState=u.RenderingStates.FINISHED,new Error("pdfPage is not loaded");I.renderingState=u.RenderingStates.RUNNING;const ne=document.createElement("div");if(ne.classList.add("canvasWrapper"),Ee.append(ne),!I.textLayer&&F(e,I)!==u.TextLayerMode.DISABLE&&!Be.isPureXfa&&(I._accessibilityManager||(I._accessibilityManager=new k.TextAccessibilityManager),I.textLayer=new r.TextLayerBuilder({highlighter:I._textHighlighter,accessibilityManager:I._accessibilityManager,isOffscreenCanvasSupported:I.isOffscreenCanvasSupported,enablePermissions:F(e,I)===u.TextLayerMode.ENABLE_PERMISSIONS}),Ee.append(I.textLayer.div)),!I.annotationLayer&&F(G,I)!==a.AnnotationMode.DISABLE){const{annotationStorage:be,downloadManager:D,enableScripting:j,fieldObjectsPromise:ae,hasJSActionsPromise:fe,linkService:ge}=F(J,I).call(I);I._annotationCanvasMap||(I._annotationCanvasMap=new Map),I.annotationLayer=new A.AnnotationLayerBuilder({pageDiv:Ee,pdfPage:Be,annotationStorage:be,imageResourcesPath:I.imageResourcesPath,renderForms:F(G,I)===a.AnnotationMode.ENABLE_FORMS,linkService:ge,downloadManager:D,l10n:ve,enableScripting:j,hasJSActionsPromise:fe,fieldObjectsPromise:ae,annotationCanvasMap:I._annotationCanvasMap,accessibilityManager:I._accessibilityManager})}const{width:_,height:H}=pe,re=document.createElement("canvas");re.setAttribute("role","presentation"),re.hidden=!0;const _e=!(null==Se||!Se.background||null==Se||!Se.foreground);let ee=be=>{(!_e||be)&&(re.hidden=!1,ee=null)};ne.append(re),I.canvas=re;const q=re.getContext("2d",{alpha:!1}),U=I.outputScale=new u.OutputScale;if(0===I.maxCanvasPixels){const be=1/I.scale;U.sx*=be,U.sy*=be,p(K,I,!0)}else if(I.maxCanvasPixels>0){const D=Math.sqrt(I.maxCanvasPixels/(_*H));U.sx>D||U.sy>D?(U.sx=D,U.sy=D,p(K,I,!0)):p(K,I,!1)}const me=(0,u.approximateFraction)(U.sx),Me=(0,u.approximateFraction)(U.sy);re.width=(0,u.roundToDivide)(_*U.sx,me[0]),re.height=(0,u.roundToDivide)(H*U.sy,Me[0]);const{style:Re}=re;Re.width=(0,u.roundToDivide)(_,me[1])+"px",Re.height=(0,u.roundToDivide)(H,Me[1])+"px",F(f,I).set(re,pe);const xe={canvasContext:q,transform:U.scaled?[U.sx,0,0,U.sy,0,0]:null,viewport:pe,annotationMode:F(G,I),optionalContentConfigPromise:I._optionalContentConfigPromise,annotationCanvasMap:I._annotationCanvasMap,pageColors:Se},Oe=I.renderTask=I.pdfPage.render(xe);Oe.onContinue=be=>{var D;if(null===(D=ee)||void 0===D||D(!1),I.renderingQueue&&!I.renderingQueue.isHighestPriority(I))return I.renderingState=u.RenderingStates.PAUSED,void(I.resume=()=>{I.renderingState=u.RenderingStates.RUNNING,be()});be()};const Ge=Oe.promise.then(i(function*(){var be;if(null===(be=ee)||void 0===be||be(!0),yield w(g,I,ce).call(I,Oe),w(g,I,we).call(I),I.annotationLayer&&(yield w(g,I,E).call(I)),!I.annotationEditorLayer){var D;const{annotationEditorUIManager:j}=F(J,I).call(I);if(!j)return;I.annotationEditorLayer=new v.AnnotationEditorLayerBuilder({uiManager:j,pageDiv:Ee,pdfPage:Be,l10n:ve,accessibilityManager:I._accessibilityManager,annotationLayer:null===(D=I.annotationLayer)||void 0===D?void 0:D.annotationLayer})}w(g,I,de).call(I)}),be=>{var D;return be instanceof a.RenderingCancelledException||null===(D=ee)||void 0===D||D(!0),w(g,I,ce).call(I,Oe,be)});if(Be.isPureXfa){if(I.xfaLayer)I.xfaLayer.div&&Ee.append(I.xfaLayer.div);else{const{annotationStorage:be,linkService:D}=F(J,I).call(I);I.xfaLayer=new l.XfaLayerBuilder({pageDiv:Ee,pdfPage:Be,annotationStorage:be,linkService:D})}w(g,I,le).call(I)}return Ee.setAttribute("data-loaded",!0),I.eventBus.dispatch("pagerender",{source:I,pageNumber:I.id}),Ge})()}setPageLabel(I){this.pageLabel="string"==typeof I?I:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:I,initialOptionalContent:Ee,regularAnnotations:ve}=F(t,this);return I&&Ee&&ve?this.canvas:null}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditorLayerBuilder=void 0;var a=d(4),u=d(7),v=new WeakMap,A=new WeakMap;c.AnnotationEditorLayerBuilder=class o{constructor(M){R(this,v,null),R(this,A,void 0),this.pageDiv=M.pageDiv,this.pdfPage=M.pdfPage,this.accessibilityManager=M.accessibilityManager,this.l10n=M.l10n||u.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,p(A,this,M.uiManager),p(v,this,M.annotationLayer||null)}render(M,B="display"){var k=this;return i(function*(){if("display"!==B||k._cancelled)return;const Y=M.clone({dontFlip:!0});if(k.div)return k.annotationEditorLayer.update({viewport:Y}),void k.show();const r=k.div=document.createElement("div");r.className="annotationEditorLayer",r.tabIndex=0,r.hidden=!0,r.dir=F(A,k).direction,k.pageDiv.append(r),k.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:F(A,k),div:r,accessibilityManager:k.accessibilityManager,pageIndex:k.pdfPage.pageNumber-1,l10n:k.l10n,viewport:Y,annotationLayer:F(v,k)}),k.annotationEditorLayer.render({viewport:Y,div:r,annotations:null,intent:B}),k.show()})()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const d=Object.create(null);c.compatibilityParams=d;{const o=navigator.userAgent||"",n=navigator.platform||"",M=navigator.maxTouchPoints||1,B=/Android/.test(o);(/\b(iPad|iPhone|iPod)(?=;)/.test(o)||"MacIntel"===n&&M>1||B)&&(d.maxCanvasPixels=5242880)}const a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=a;const u={annotationEditorMode:{value:0,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomDelay:{value:400,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableStampEditor:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},isOffscreenCanvasSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};u.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},u.disablePreferences={value:!1,kind:a.VIEWER},u.locale={value:navigator.language||"en-US",kind:a.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};const v=Object.create(null);class A{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const M=v[n];if(void 0!==M)return M;const B=u[n];var k;return void 0!==B?null!==(k=d[n])&&void 0!==k?k:B.value:void 0}static getAll(n=null){const M=Object.create(null);for(const k in u){var B;const Y=u[k];if(n){if(!(n&Y.kind))continue;if(n===a.PREFERENCE){const l=Y.value,h=typeof l;if("boolean"===h||"string"===h||"number"===h&&Number.isInteger(l)){M[k]=l;continue}throw new Error(`Invalid type for preference: ${k}`)}}const r=v[k];M[k]=void 0!==r?r:null!==(B=d[k])&&void 0!==B?B:Y.value}return M}static set(n,M){v[n]=M}static setAll(n){for(const M in n)v[M]=n[M]}static remove(n){delete v[n]}}c.AppOptions=A,A._hasUserOptions=function(){return Object.keys(v).length>0}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;var a=d(2);const u={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},v=/^H(\d+)$/;var A=new WeakMap,o=new WeakSet;function M(k,Y){const{alt:r,id:l,lang:h}=k;void 0!==r&&Y.setAttribute("aria-label",(0,a.removeNullCharacters)(r)),void 0!==l&&Y.setAttribute("aria-owns",l),void 0!==h&&Y.setAttribute("lang",(0,a.removeNullCharacters)(h,!0))}function B(k){if(!k)return null;const Y=document.createElement("span");if("role"in k){const{role:r}=k,l=r.match(v);l?(Y.setAttribute("role","heading"),Y.setAttribute("aria-level",l[1])):u[r]&&Y.setAttribute("role",u[r])}if(w(o,this,M).call(this,k,Y),k.children)if(1===k.children.length&&"id"in k.children[0])w(o,this,M).call(this,k.children[0],Y);else for(const r of k.children)Y.append(w(o,this,B).call(this,r));return Y}c.StructTreeLayerBuilder=class n{constructor(){C(this,o),R(this,A,void 0)}get renderingDone(){return void 0!==F(A,this)}render(Y){if(void 0!==F(A,this))return F(A,this);const r=w(o,this,B).call(this,Y);return null==r||r.classList.add("structTree"),p(A,this,r)}hide(){F(A,this)&&!F(A,this).hidden&&(F(A,this).hidden=!0)}show(){var Y;null!==(Y=F(A,this))&&void 0!==Y&&Y.hidden&&(F(A,this).hidden=!1)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextAccessibilityManager=void 0;var a=d(2),u=new WeakMap,v=new WeakMap,A=new WeakMap,o=new WeakMap,n=new WeakSet;class M{constructor(){C(this,n),R(this,u,!1),R(this,v,null),R(this,A,new Map),R(this,o,new Map)}setTextMapping(r){p(v,this,r)}enable(){if(F(u,this))throw new Error("TextAccessibilityManager is already enabled.");if(!F(v,this))throw new Error("Text divs and strings have not been set.");if(p(u,this,!0),p(v,this,F(v,this).slice()),F(v,this).sort(B),F(A,this).size>0){const r=F(v,this);for(const[l,h]of F(A,this))document.getElementById(l)?w(n,this,k).call(this,l,r[h]):F(A,this).delete(l)}for(const[r,l]of F(o,this))this.addPointerInTextLayer(r,l);F(o,this).clear()}disable(){F(u,this)&&(F(o,this).clear(),p(v,this,null),p(u,this,!1))}removePointerInTextLayer(r){var l;if(!F(u,this))return void F(o,this).delete(r);const h=F(v,this);if(!h||0===h.length)return;const{id:P}=r,G=F(A,this).get(P);if(void 0===G)return;const K=h[G];F(A,this).delete(P);let J=K.getAttribute("aria-owns");null!==(l=J)&&void 0!==l&&l.includes(P)&&(J=J.split(" ").filter(Q=>Q!==P).join(" "),J?K.setAttribute("aria-owns",J):(K.removeAttribute("aria-owns"),K.setAttribute("role","presentation")))}addPointerInTextLayer(r,l){const{id:h}=r;if(!h)return null;if(!F(u,this))return F(o,this).set(r,l),null;l&&this.removePointerInTextLayer(r);const P=F(v,this);if(!P||0===P.length)return null;const G=(0,a.binarySearchFirstItem)(P,x=>B.call(M,r,x)<0),K=Math.max(0,G-1),J=P[K];w(n,this,k).call(this,h,J),F(A,this).set(h,K);const Q=J.parentNode;return null!=Q&&Q.classList.contains("markedContent")?Q.id:null}moveElementInDOM(r,l,h,P){const G=this.addPointerInTextLayer(h,P);if(!r.hasChildNodes())return r.append(l),G;const K=Array.from(r.childNodes).filter(x=>x!==l);if(0===K.length)return G;const J=h||l,Q=(0,a.binarySearchFirstItem)(K,x=>B.call(M,J,x)<0);return 0===Q?K[0].before(l):K[Q-1].after(l),G}}function B(Y,r){const l=Y.getBoundingClientRect(),h=r.getBoundingClientRect();if(0===l.width&&0===l.height)return 1;if(0===h.width&&0===h.height)return-1;const K=l.y+l.height/2,x=h.y+h.height/2;return K<=h.y&&x>=l.y+l.height?-1:x<=l.y&&K>=h.y+h.height?1:l.x+l.width/2-(h.x+h.width/2)}function k(Y,r){const l=r.getAttribute("aria-owns");null!=l&&l.includes(Y)||r.setAttribute("aria-owns",l?`${l} ${Y}`:Y),r.removeAttribute("role")}c.TextAccessibilityManager=M},(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class d{constructor({findController:u,eventBus:v,pageIndex:A}){this.findController=u,this.matches=[],this.eventBus=v,this.pageIdx=A,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(u,v){this.textDivs=u,this.textContentItemsStr=v}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=u=>{(u.pageIndex===this.pageIdx||-1===u.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(u,v){if(!u)return[];const{textContentItemsStr:A}=this;let o=0,n=0;const M=A.length-1,B=[];for(let k=0,Y=u.length;k<Y;k++){let r=u[k];for(;o!==M&&r>=n+A[o].length;)n+=A[o].length,o++;o===A.length&&console.error("Could not find a matching mapping");const l={begin:{divIdx:o,offset:r-n}};for(r+=v[k];o!==M&&r>n+A[o].length;)n+=A[o].length,o++;l.end={divIdx:o,offset:r-n},B.push(l)}return B}_renderMatches(u){if(0===u.length)return;const{findController:v,pageIdx:A}=this,{textContentItemsStr:o,textDivs:n}=this,M=A===v.selected.pageIdx,B=v.selected.matchIdx;let Y=null;function l(Q,x){const V=Q.divIdx;return n[V].textContent="",h(V,0,Q.offset,x)}function h(Q,x,V,S){let e=n[Q];if(e.nodeType===Node.TEXT_NODE){const g=document.createElement("span");e.before(g),g.append(e),n[Q]=g,e=g}const t=o[Q].substring(x,V),f=document.createTextNode(t);if(S){const g=document.createElement("span");return g.className=`${S} appended`,g.append(f),e.append(g),S.includes("selected")?g.offsetLeft:0}return e.append(f),0}let P=B,G=P+1;if(v.state.highlightAll)P=0,G=u.length;else if(!M)return;let K=-1,J=-1;for(let Q=P;Q<G;Q++){const x=u[Q],V=x.begin;if(V.divIdx===K&&V.offset===J)continue;K=V.divIdx,J=V.offset;const S=x.end,e=M&&Q===B,t=e?" selected":"";let f=0;if(Y&&V.divIdx===Y.divIdx?h(Y.divIdx,Y.offset,V.offset):(null!==Y&&h(Y.divIdx,Y.offset,undefined),l(V)),V.divIdx===S.divIdx)f=h(V.divIdx,V.offset,S.offset,"highlight"+t);else{f=h(V.divIdx,V.offset,undefined,"highlight begin"+t);for(let g=V.divIdx+1,m=S.divIdx;g<m;g++)n[g].className="highlight middle"+t;l(S,"highlight end"+t)}Y=S,e&&v.scrollMatchIntoView({element:n[V.divIdx],selectedLeft:f,pageIndex:A,matchIndex:B})}Y&&h(Y.divIdx,Y.offset,undefined)}_updateMatches(u=!1){if(!this.enabled&&!u)return;const{findController:v,matches:A,pageIdx:o}=this,{textContentItemsStr:n,textDivs:M}=this;let B=-1;for(const r of A){for(let h=Math.max(B,r.begin.divIdx),P=r.end.divIdx;h<=P;h++){const G=M[h];G.textContent=n[h],G.className=""}B=r.end.divIdx+1}null!=v&&v.highlightMatches&&!u&&(this.matches=this._convertMatches(v.pageMatches[o]||null,v.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var a=d(4),u=d(2),v=new WeakMap,A=new WeakMap,o=new WeakMap,n=new WeakMap,M=new WeakSet;function k(){this.renderingDone=!0;const r=document.createElement("div");r.className="endOfContent",this.div.append(r),w(M,this,Y).call(this)}function Y(){const{div:r}=this;r.addEventListener("mousedown",l=>{const h=r.querySelector(".endOfContent");if(!h)return;let P=l.target!==r;if(P&&(P="none"!==getComputedStyle(h).getPropertyValue("-moz-user-select")),P){const G=r.getBoundingClientRect(),K=Math.max(0,(l.pageY-G.top)/G.height);h.style.top=(100*K).toFixed(2)+"%"}h.classList.add("active")}),r.addEventListener("mouseup",()=>{const l=r.querySelector(".endOfContent");l&&(l.style.top="",l.classList.remove("active"))}),r.addEventListener("copy",l=>{if(!F(v,this)){const h=document.getSelection();l.clipboardData.setData("text/plain",(0,u.removeNullCharacters)((0,a.normalizeUnicode)(h.toString())))}l.preventDefault(),l.stopPropagation()})}c.TextLayerBuilder=class B{constructor({highlighter:l=null,accessibilityManager:h=null,isOffscreenCanvasSupported:P=!0,enablePermissions:G=!1}){C(this,M),R(this,v,!1),R(this,A,0),R(this,o,0),R(this,n,null),this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=l,this.accessibilityManager=h,this.isOffscreenCanvasSupported=P,p(v,this,!0===G),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}render(l){var h=this;return i(function*(){var P,G,K;if(!F(n,h))throw new Error('No "textContentSource" parameter specified.');const J=l.scale*(globalThis.devicePixelRatio||1),{rotation:Q}=l;if(h.renderingDone){const x=Q!==F(A,h),V=J!==F(o,h);return(x||V)&&(h.hide(),(0,a.updateTextLayer)({container:h.div,viewport:l,textDivs:h.textDivs,textDivProperties:h.textDivProperties,isOffscreenCanvasSupported:h.isOffscreenCanvasSupported,mustRescale:V,mustRotate:x}),p(o,h,J),p(A,h,Q)),void h.show()}h.cancel(),null===(P=h.highlighter)||void 0===P||P.setTextMapping(h.textDivs,h.textContentItemsStr),null===(G=h.accessibilityManager)||void 0===G||G.setTextMapping(h.textDivs),h.textLayerRenderTask=(0,a.renderTextLayer)({textContentSource:F(n,h),container:h.div,viewport:l,textDivs:h.textDivs,textDivProperties:h.textDivProperties,textContentItemsStr:h.textContentItemsStr,isOffscreenCanvasSupported:h.isOffscreenCanvasSupported}),yield h.textLayerRenderTask.promise,w(M,h,k).call(h),p(o,h,J),p(A,h,Q),h.show(),null===(K=h.accessibilityManager)||void 0===K||K.enable()})()}hide(){var l;this.div.hidden||(null===(l=this.highlighter)||void 0===l||l.disable(),this.div.hidden=!0)}show(){var l;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,null===(l=this.highlighter)||void 0===l||l.enable())}cancel(){var l,h;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(l=this.highlighter)||void 0===l||l.disable(),null===(h=this.accessibilityManager)||void 0===h||h.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(l){this.cancel(),p(n,this,l)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var a=d(4);c.XfaLayerBuilder=class u{constructor({pageDiv:A,pdfPage:o,annotationStorage:n=null,linkService:M,xfaHtml:B=null}){this.pageDiv=A,this.pdfPage=o,this.annotationStorage=n,this.linkService=M,this.xfaHtml=B,this.div=null,this._cancelled=!1}render(A,o="display"){var n=this;return i(function*(){if("print"===o){const k={viewport:A.clone({dontFlip:!0}),div:n.div,xfaHtml:n.xfaHtml,annotationStorage:n.annotationStorage,linkService:n.linkService,intent:o},Y=document.createElement("div");return n.pageDiv.append(Y),k.div=Y,a.XfaLayer.render(k)}const M=yield n.pdfPage.getXfa();if(n._cancelled||!M)return{textDivs:[]};const B={viewport:A.clone({dontFlip:!0}),div:n.div,xfaHtml:M,annotationStorage:n.annotationStorage,linkService:n.linkService,intent:o};return n.div?a.XfaLayer.update(B):(n.div=document.createElement("div"),n.pageDiv.append(n.div),B.div=n.div,a.XfaLayer.render(B))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var a=d(22),u=d(23);c.PDFScriptingManager=class v extends u.PDFScriptingManager{constructor(o){o.externalServices||window.addEventListener("updatefromsandbox",n=>{o.eventBus.dispatch("updatefromsandbox",{source:window,detail:n.detail})}),o.externalServices||(o.externalServices={createScripting:({sandboxBundleSrc:n})=>new a.GenericScripting(n)}),o.docProperties||(o.docProperties=n=>(0,a.docProperties)(n)),super(o)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docProperties=function u(o){return v.apply(this,arguments)};var a=d(4);function v(){return(v=i(function*(o){const M="".split("#")[0];let{info:B,metadata:k,contentDispositionFilename:Y,contentLength:r}=yield o.getMetadata();if(!r){const{length:l}=yield o.getDownloadInfo();r=l}return{...B,baseURL:M,filesize:r,filename:Y||(0,a.getPdfFilenameFromUrl)(""),metadata:null==k?void 0:k.getRaw(),authors:null==k?void 0:k.get("dc:creator"),numPages:o.numPages,URL:""}})).apply(this,arguments)}c.GenericScripting=class A{constructor(n){this._ready=(0,a.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var M=this;return i(function*(){(yield M._ready).create(n)})()}dispatchEventInSandbox(n){var M=this;return i(function*(){const B=yield M._ready;setTimeout(()=>B.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return i(function*(){(yield n._ready).nukeSandbox()})()}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var a=d(2),u=d(4),v=new WeakMap,A=new WeakMap,o=new WeakMap,n=new WeakMap,M=new WeakMap,B=new WeakMap,k=new WeakMap,Y=new WeakMap,r=new WeakMap,l=new WeakMap,h=new WeakMap,P=new WeakSet;function K(g){return J.apply(this,arguments)}function J(){return(J=i(function*(g){var m;const T=F(k,this),E=T.isInPresentationMode||T.isChangingPresentationMode,{id:ie,siblings:de,command:he,value:le}=g;if(!ie){switch(he){case"clear":console.clear();break;case"error":console.error(le);break;case"layout":if(!E){const ye=(0,a.apiPageLayoutToViewerModes)(le);T.spreadMode=ye.spreadMode}break;case"page-num":T.currentPageNumber=le+1;break;case"print":yield T.pagesPromise,F(n,this).dispatch("print",{source:this});break;case"println":console.log(le);break;case"zoom":E||(T.currentScaleValue=le);break;case"SaveAs":F(n,this).dispatch("download",{source:this});break;case"FirstPage":T.currentPageNumber=1;break;case"LastPage":T.currentPageNumber=T.pagesCount;break;case"NextPage":T.nextPage();break;case"PrevPage":T.previousPage();break;case"ZoomViewIn":E||T.increaseScale();break;case"ZoomViewOut":E||T.decreaseScale();break;case"WillPrintFinished":null===(m=F(h,this))||void 0===m||m.resolve(),p(h,this,null)}return}if(E&&g.focus)return;delete g.id,delete g.siblings;const Ce=de?[ie,...de]:[ie];for(const ye of Ce){const ue=document.querySelector(`[data-element-id="${ye}"]`);var we;ue?ue.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:g})):null===(we=F(B,this))||void 0===we||we.annotationStorage.setValue(ye,g)}})).apply(this,arguments)}function Q(g){return x.apply(this,arguments)}function x(){return(x=i(function*(g,m=!1){var T=this;const E=F(B,this),ie=this._visitedPages;if(m&&p(v,this,new u.PromiseCapability),!F(v,this))return;const de=F(k,this).getPageView(g-1);if((null==de?void 0:de.renderingState)!==a.RenderingStates.FINISHED)return void this._pageOpenPending.add(g);this._pageOpenPending.delete(g);const he=i(function*(){var le,Ce;const we=yield ie.has(g)?null:null===(le=de.pdfPage)||void 0===le?void 0:le.getJSActions();E===F(B,T)&&(yield null===(Ce=F(l,T))||void 0===Ce?void 0:Ce.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:we}))})();ie.set(g,he)})).apply(this,arguments)}function V(g){return S.apply(this,arguments)}function S(){return(S=i(function*(g){var m;const T=F(B,this),E=this._visitedPages;if(!F(v,this)||this._pageOpenPending.has(g))return;const ie=E.get(g);ie&&(E.set(g,null),yield ie,T===F(B,this)&&(yield null===(m=F(l,this))||void 0===m?void 0:m.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:g})))})).apply(this,arguments)}function e(){if(p(A,this,new u.PromiseCapability),F(l,this))throw new Error("#initScripting: Scripting already exists.");return F(M,this).createScripting({sandboxBundleSrc:F(r,this)})}function t(){return f.apply(this,arguments)}function f(){return(f=i(function*(){var g,m,T;if(!F(l,this))return p(B,this,null),void(null===(T=F(A,this))||void 0===T||T.resolve());F(v,this)&&(yield Promise.race([F(v,this).promise,new Promise(E=>{setTimeout(E,1e3)})]).catch(()=>{}),p(v,this,null)),p(B,this,null);try{yield F(l,this).destroySandbox()}catch{}null===(g=F(h,this))||void 0===g||g.reject(new Error("Scripting destroyed.")),p(h,this,null);for(const[E,ie]of this._internalEvents)F(n,this)._off(E,ie);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),p(l,this,null),p(Y,this,!1),null===(m=F(A,this))||void 0===m||m.resolve()})).apply(this,arguments)}c.PDFScriptingManager=class G{constructor({eventBus:m,sandboxBundleSrc:T=null,externalServices:E=null,docProperties:ie=null}){C(this,P),R(this,v,null),R(this,A,null),R(this,o,null),R(this,n,null),R(this,M,null),R(this,B,null),R(this,k,null),R(this,Y,!1),R(this,r,null),R(this,l,null),R(this,h,null),p(n,this,m),p(r,this,T),p(M,this,E),p(o,this,ie)}setViewer(m){p(k,this,m)}setDocument(m){var T=this;return i(function*(){var E;if(F(B,T)&&(yield w(P,T,t).call(T)),p(B,T,m),!m)return;const[ie,de,he]=yield Promise.all([m.getFieldObjects(),m.getCalculationOrderIds(),m.getJSActions()]);if(ie||he){if(m===F(B,T)){try{p(l,T,w(P,T,e).call(T))}catch(le){return console.error(`setDocument: "${le.message}".`),void(yield w(P,T,t).call(T))}T._internalEvents.set("updatefromsandbox",le=>{(null==le?void 0:le.source)===window&&w(P,T,K).call(T,le.detail)}),T._internalEvents.set("dispatcheventinsandbox",le=>{var Ce;null===(Ce=F(l,T))||void 0===Ce||Ce.dispatchEventInSandbox(le.detail)}),T._internalEvents.set("pagechanging",({pageNumber:le,previous:Ce})=>{le!==Ce&&(w(P,T,V).call(T,Ce),w(P,T,Q).call(T,le))}),T._internalEvents.set("pagerendered",({pageNumber:le})=>{T._pageOpenPending.has(le)&&le===F(k,T).currentPageNumber&&w(P,T,Q).call(T,le)}),T._internalEvents.set("pagesdestroy",i(function*(){var le,Ce;yield w(P,T,V).call(T,F(k,T).currentPageNumber),yield null===(le=F(l,T))||void 0===le?void 0:le.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null===(Ce=F(v,T))||void 0===Ce||Ce.resolve()}));for(const[le,Ce]of T._internalEvents)F(n,T)._on(le,Ce);try{const le=yield F(o,T).call(T,m);if(m!==F(B,T))return;yield F(l,T).createSandbox({objects:ie,calculationOrder:de,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...le,actions:he}}),F(n,T).dispatch("sandboxcreated",{source:T})}catch(le){return console.error(`setDocument: "${le.message}".`),void(yield w(P,T,t).call(T))}yield null===(E=F(l,T))||void 0===E?void 0:E.dispatchEventInSandbox({id:"doc",name:"Open"}),yield w(P,T,Q).call(T,F(k,T).currentPageNumber,!0),Promise.resolve().then(()=>{m===F(B,T)&&p(Y,T,!0)})}}else yield w(P,T,t).call(T)})()}dispatchWillSave(){var m=this;return i(function*(){var T;return null===(T=F(l,m))||void 0===T?void 0:T.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var m=this;return i(function*(){var T;return null===(T=F(l,m))||void 0===T?void 0:T.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var m=this;return i(function*(){var T;if(F(l,m)){yield null===(T=F(h,m))||void 0===T?void 0:T.promise,p(h,m,new u.PromiseCapability);try{yield F(l,m).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(E){throw F(h,m).resolve(),p(h,m,null),E}yield F(h,m).promise}})()}dispatchDidPrint(){var m=this;return i(function*(){var T;return null===(T=F(l,m))||void 0===T?void 0:T.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){var m;return(null===(m=F(A,this))||void 0===m?void 0:m.promise)||null}get ready(){return F(Y,this)}get _internalEvents(){return(0,u.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,u.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,u.shadow)(this,"_visitedPages",new Map)}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFSinglePageViewer=void 0;var a=d(2),u=d(25);c.PDFSinglePageViewer=class v extends u.PDFViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(o){}_updateScrollMode(){}set spreadMode(o){}_updateSpreadMode(){}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFViewer=c.PDFPageViewBuffer=void 0;var a=d(4),u=d(2),v=d(7),A=d(13),o=d(26),n=d(5);const B={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function k(O){return Object.values(a.AnnotationEditorType).includes(O)&&O!==a.AnnotationEditorType.DISABLE}c.PagesCountLimit=B;var Y=new WeakMap,r=new WeakMap,l=new WeakSet;class h{constructor(_){C(this,l),R(this,Y,new Set),R(this,r,0),p(r,this,_)}push(_){const H=F(Y,this);H.has(_)&&H.delete(_),H.add(_),H.size>F(r,this)&&w(l,this,P).call(this)}resize(_,H=null){p(r,this,_);const re=F(Y,this);if(H){const _e=re.size;let ee=1;for(const q of re)if(H.has(q.id)&&(re.delete(q),re.add(q)),++ee>_e)break}for(;re.size>F(r,this);)w(l,this,P).call(this)}has(_){return F(Y,this).has(_)}[Symbol.iterator](){return F(Y,this).keys()}}function P(){const O=F(Y,this).keys().next().value;null==O||O.destroy(),F(Y,this).delete(O)}c.PDFPageViewBuffer=h;var G=new WeakMap,K=new WeakMap,J=new WeakMap,Q=new WeakMap,x=new WeakMap,V=new WeakMap,S=new WeakMap,e=new WeakMap,t=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,T=new WeakMap,E=new WeakMap,ie=new WeakMap,de=new WeakMap,he=new WeakMap,le=new WeakSet;function we(){const O=this;return{get annotationEditorUIManager(){return F(Q,O)},get annotationStorage(){var _;return null===(_=O.pdfDocument)||void 0===_?void 0:_.annotationStorage},get downloadManager(){return O.downloadManager},get enableScripting(){return!!O._scriptingManager},get fieldObjectsPromise(){var _;return null===(_=O.pdfDocument)||void 0===_?void 0:_.getFieldObjects()},get findController(){return O.findController},get hasJSActionsPromise(){var _;return null===(_=O.pdfDocument)||void 0===_?void 0:_.hasJSActions()},get linkService(){return O.linkService}}}function ye(O){const _={annotationEditorMode:F(J,this),annotationMode:F(x,this),textLayerMode:F(he,this)};return O&&(!O.includes(a.PermissionFlag.COPY)&&F(he,this)===u.TextLayerMode.ENABLE&&(_.textLayerMode=u.TextLayerMode.ENABLE_PERMISSIONS),O.includes(a.PermissionFlag.MODIFY_CONTENTS)||(_.annotationEditorMode=a.AnnotationEditorType.DISABLE),!O.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!O.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&F(x,this)===a.AnnotationMode.ENABLE_FORMS&&(_.annotationMode=a.AnnotationMode.ENABLE)),_}function ue(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const O=new Promise(_=>{p(ie,this,()=>{"hidden"===document.visibilityState&&(_(),document.removeEventListener("visibilitychange",F(ie,this)),p(ie,this,null))}),document.addEventListener("visibilitychange",F(ie,this))});return Promise.race([this._onePageRenderedCapability.promise,O])}function te(O,_){const H=document.getSelection(),{focusNode:re,anchorNode:_e}=H;if(_e&&re&&H.containsNode(F(f,this))){if(F(t,this)||O===u.TextLayerMode.ENABLE_PERMISSIONS)return _.preventDefault(),void _.stopPropagation();p(t,this,!0);const ee=this.container.style.cursor;this.container.style.cursor="wait";const q=U=>p(g,this,"Escape"===U.key);window.addEventListener("keydown",q),this.getAllText().then(function(){var U=i(function*(me){null!==me&&(yield navigator.clipboard.writeText(me))});return function(me){return U.apply(this,arguments)}}()).catch(U=>{console.warn(`Something goes wrong when extracting the text: ${U.message}`)}).finally(()=>{p(t,this,!1),p(g,this,!1),window.removeEventListener("keydown",q),this.container.style.cursor=ee}),_.preventDefault(),_.stopPropagation()}}function W(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const O=this._currentPageNumber,_=F(E,this),H=this.viewer;if(H.textContent="",_.pages.length=0,this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){const re=new Set,_e=this._spreadMode-1;-1===_e?re.add(O-1):O%2!==_e?(re.add(O-1),re.add(O)):(re.add(O-2),re.add(O-1));const ee=document.createElement("div");if(ee.className="spread",this.isInPresentationMode){const q=document.createElement("div");q.className="dummyPage",ee.append(q)}for(const q of re){const U=this._pages[q];U&&(ee.append(U.div),_.pages.push(U))}H.append(ee)}else{const re=this._pages[O-1];H.append(re.div),_.pages.push(re)}_.scrollDown=O>=_.previousPageNumber,_.previousPageNumber=O}function se(O,_=null){const{div:H,id:re}=O;if(this._currentPageNumber!==re&&this._setCurrentPageNumber(re),this._scrollMode===u.ScrollMode.PAGE&&(w(le,this,W).call(this),this.update()),!_&&!this.isInPresentationMode){const _e=H.offsetLeft+H.clientLeft,ee=_e+H.clientWidth,{scrollLeft:q,clientWidth:U}=this.container;(this._scrollMode===u.ScrollMode.HORIZONTAL||_e<q||ee>q+U)&&(_={left:0,top:0})}(0,u.scrollIntoView)(H,_),!this._currentScaleValue&&this._location&&(this._location=null)}function ce(O){return O===this._currentScale||Math.abs(O-this._currentScale)<1e-15}function Ae(O,_,{noScroll:H=!1,preset:re=!1,drawingDelay:_e=-1}){if(this._currentScaleValue=_.toString(),w(le,this,ce).call(this,O))return void(re&&this.eventBus.dispatch("scalechanging",{source:this,scale:O,presetValue:_}));this.viewer.style.setProperty("--scale-factor",O*a.PixelsPerInch.PDF_TO_CSS_UNITS);const ee=_e>=0&&_e<1e3;if(this.refresh(!0,{scale:O,drawingDelay:ee?_e:-1}),ee&&p(de,this,setTimeout(()=>{p(de,this,null),this.refresh()},_e)),this._currentScale=O,!H){let U,q=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(q=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:q,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:O,presetValue:re?_:void 0}),this.defaultRenderingQueue&&this.update()}function Fe(O){return O._spreadMode!==u.SpreadMode.NONE&&O._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}function I(O,_){let H=parseFloat(O);if(H>0)_.preset=!1,w(le,this,Ae).call(this,H,O,_);else{const re=this._pages[this._currentPageNumber-1];if(!re)return;let _e=u.SCROLLBAR_PADDING,ee=u.VERTICAL_PADDING;this.isInPresentationMode?(_e=ee=4,this._spreadMode!==u.SpreadMode.NONE&&(_e*=2)):this.removePageBorders?_e=ee=0:this._scrollMode===u.ScrollMode.HORIZONTAL&&([_e,ee]=[ee,_e]);const q=(this.container.clientWidth-_e)/re.width*re.scale/z(le,this,Fe),U=(this.container.clientHeight-ee)/re.height*re.scale;switch(O){case"page-actual":H=1;break;case"page-width":H=q;break;case"page-height":H=U;break;case"page-fit":H=Math.min(q,U);break;case"auto":const me=(0,u.isPortraitOrientation)(re)?q:Math.min(U,q);H=Math.min(u.MAX_AUTO_SCALE,me);break;default:return void console.error(`#setScale: "${O}" is an unknown zoom value.`)}_.preset=!0,w(le,this,Ae).call(this,H,O,_)}}function Ee(){const O=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&w(le,this,I).call(this,this._currentScaleValue,{noScroll:!0}),w(le,this,se).call(this,O)}function ve(O){return Se.apply(this,arguments)}function Se(){return(Se=i(function*(O){if(O.pdfPage)return O.pdfPage;try{var _,H;const re=yield this.pdfDocument.getPage(O.id);return O.pdfPage||O.setPdfPage(re),null!==(_=(H=this.linkService)._cachedPageNumber)&&void 0!==_&&_.call(H,re.ref)||this.linkService.cachePageRef(O.id,re.ref),re}catch(re){return console.error("Unable to get page for page view",re),null}})).apply(this,arguments)}function Be(O){var _,H;if(1===(null===(_=O.first)||void 0===_?void 0:_.id))return!0;if((null===(H=O.last)||void 0===H?void 0:H.id)===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return F(E,this).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function pe(O=this.container.clientHeight){O!==F(m,this)&&(p(m,this,O),u.docStyle.setProperty("--viewer-container-height",`${O}px`))}function ne(O){for(const _ of O)if(_.target===this.container){w(le,this,pe).call(this,Math.floor(_.borderBoxSize[0].blockSize)),p(V,this,null);break}}c.PDFViewer=class Ce{constructor(_){var H,re,_e,ee,q,U;C(this,le),R(this,G,null),R(this,K,null),R(this,J,a.AnnotationEditorType.NONE),R(this,Q,null),R(this,x,a.AnnotationMode.ENABLE_FORMS),R(this,V,null),R(this,S,null),R(this,e,!1),R(this,t,!1),R(this,f,null),R(this,g,!1),R(this,m,0),R(this,T,new ResizeObserver(w(le,this,ne).bind(this))),R(this,E,null),R(this,ie,null),R(this,de,null),R(this,he,u.TextLayerMode.ENABLE);const me="3.11.174";if(a.version!==me)throw new Error(`The API version "${a.version}" does not match the Viewer version "${me}".`);if(this.container=_.container,this.viewer=_.viewer||_.container.firstElementChild,"DIV"!==(null===(H=this.container)||void 0===H?void 0:H.tagName)||"DIV"!==(null===(re=this.viewer)||void 0===re?void 0:re.tagName))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");F(T,this).observe(this.container),this.eventBus=_.eventBus,this.linkService=_.linkService||new n.SimpleLinkService,this.downloadManager=_.downloadManager||null,this.findController=_.findController||null,p(K,this,_.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=Me=>this._getVisiblePages().ids.has(Me)),this._scriptingManager=_.scriptingManager||null,p(he,this,null!==(_e=_.textLayerMode)&&void 0!==_e?_e:u.TextLayerMode.ENABLE),p(x,this,null!==(ee=_.annotationMode)&&void 0!==ee?ee:a.AnnotationMode.ENABLE_FORMS),p(J,this,null!==(q=_.annotationEditorMode)&&void 0!==q?q:a.AnnotationEditorType.NONE),this.imageResourcesPath=_.imageResourcesPath||"",this.enablePrintAutoRotate=_.enablePrintAutoRotate||!1,this.removePageBorders=_.removePageBorders||!1,_.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),_.maxCanvasPixels=0),this.isOffscreenCanvasSupported=null===(U=_.isOffscreenCanvasSupported)||void 0===U||U,this.maxCanvasPixels=_.maxCanvasPixels,this.l10n=_.l10n||v.NullL10n,p(e,this,_.enablePermissions||!1),this.pageColors=_.pageColors||null,this.defaultRenderingQueue=!_.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=_.renderingQueue,this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),w(le,this,pe).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:Me,pdfPage:Re})=>{const oe=this._pages[Me-1];F(G,this).has(oe)||null==Re||Re.cleanup()})}get pagesCount(){return this._pages.length}getPageView(_){return this._pages[_]}getCachedPageViews(){return new Set(F(G,this))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(_=>null==_?void 0:_.pdfPage)}get renderForms(){return F(x,this)===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(_){if(!Number.isInteger(_))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(_,!0)||console.error(`currentPageNumber: "${_}" is not a valid page.`))}_setCurrentPageNumber(_,H=!1){var re,_e;if(this._currentPageNumber===_)return H&&w(le,this,Ee).call(this),!0;if(!(0<_&&_<=this.pagesCount))return!1;const ee=this._currentPageNumber;return this._currentPageNumber=_,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:_,pageLabel:null!==(re=null===(_e=this._pageLabels)||void 0===_e?void 0:_e[_-1])&&void 0!==re?re:null,previous:ee}),H&&w(le,this,Ee).call(this),!0}get currentPageLabel(){var _,H;return null!==(_=null===(H=this._pageLabels)||void 0===H?void 0:H[this._currentPageNumber-1])&&void 0!==_?_:null}set currentPageLabel(_){if(!this.pdfDocument)return;let H=0|_;if(this._pageLabels){const re=this._pageLabels.indexOf(_);re>=0&&(H=re+1)}this._setCurrentPageNumber(H,!0)||console.error(`currentPageLabel: "${_}" is not a valid page.`)}get currentScale(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE}set currentScale(_){if(isNaN(_))throw new Error("Invalid numeric scale.");this.pdfDocument&&w(le,this,I).call(this,_,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(_){this.pdfDocument&&w(le,this,I).call(this,_,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(_){if(!(0,u.isValidRotation)(_))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((_%=360)<0&&(_+=360),this._pagesRotation===_))return;this._pagesRotation=_;const H=this._currentPageNumber;this.refresh(!0,{rotation:_}),this._currentScaleValue&&w(le,this,I).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:_,pageNumber:H}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}getAllText(){var _=this;return i(function*(){const H=[],re=[];for(let _e=1,ee=_.pdfDocument.numPages;_e<=ee;++_e){if(F(g,_))return null;re.length=0;const q=yield _.pdfDocument.getPage(_e),{items:U}=yield q.getTextContent();for(const me of U)me.str&&re.push(me.str),me.hasEOL&&re.push("\n");H.push((0,u.removeNullCharacters)(re.join("")))}return H.join("\n")})()}setDocument(_){var re,_e,H=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),null===(re=this.findController)||void 0===re||re.setDocument(null),null===(_e=this._scriptingManager)||void 0===_e||_e.setDocument(null),F(Q,this)&&(F(Q,this).destroy(),p(Q,this,null))),this.pdfDocument=_,!_)return;const ee=_.numPages,q=_.getPage(1),U=_.getOptionalContentConfig(),me=F(e,this)?_.getPermissions():Promise.resolve();if(ee>B.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Me=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Me})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ee})},()=>{}),this._onBeforeDraw=Me=>{const Re=this._pages[Me.pageNumber-1];Re&&F(G,this).push(Re)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Me=>{Me.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Me.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,F(ie,this)&&(document.removeEventListener("visibilitychange",F(ie,this)),p(ie,this,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([q,me]).then(([Me,Re])=>{var oe,xe;if(_!==this.pdfDocument)return;this._firstPageCapability.resolve(Me),this._optionalContentConfigPromise=U;const{annotationEditorMode:Oe,annotationMode:Ge,textLayerMode:be}=w(le,this,ye).call(this,Re);if(be!==u.TextLayerMode.DISABLE){const Pe=p(f,this,document.createElement("div"));Pe.id="hiddenCopyElement",this.viewer.before(Pe)}if(Oe!==a.AnnotationEditorType.DISABLE){const Pe=Oe;_.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):k(Pe)?(p(Q,this,new a.AnnotationEditorUIManager(this.container,this.viewer,F(K,this),this.eventBus,_,this.pageColors)),Pe!==a.AnnotationEditorType.NONE&&F(Q,this).updateMode(Pe)):console.error(`Invalid AnnotationEditor mode: ${Pe}`)}const D=w(le,this,we).bind(this),j=this._scrollMode===u.ScrollMode.PAGE?null:this.viewer,ae=this.currentScale,fe=Me.getViewport({scale:ae*a.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",fe.scale),("CanvasText"===(null===(oe=this.pageColors)||void 0===oe?void 0:oe.foreground)||"Canvas"===(null===(xe=this.pageColors)||void 0===xe?void 0:xe.background))&&this.viewer.style.setProperty("--hcm-highligh-filter",_.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let Pe=1;Pe<=ee;++Pe){const De=new A.PDFPageView({container:j,eventBus:this.eventBus,id:Pe,scale:ae,defaultViewport:fe.clone(),optionalContentConfigPromise:U,renderingQueue:this.renderingQueue,textLayerMode:be,annotationMode:Ge,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:D});this._pages.push(De)}const ge=this._pages[0];ge&&(ge.setPdfPage(Me),this.linkService.cachePageRef(1,Me.ref)),this._scrollMode===u.ScrollMode.PAGE?w(le,this,W).call(this):this._spreadMode!==u.SpreadMode.NONE&&this._updateSpreadMode(),w(le,this,ue).call(this).then(i(function*(){var Pe,De;if(null===(Pe=H.findController)||void 0===Pe||Pe.setDocument(_),null===(De=H._scriptingManager)||void 0===De||De.setDocument(_),F(f,H)&&(p(S,H,w(le,H,te).bind(H,be)),document.addEventListener("copy",F(S,H))),F(Q,H)&&H.eventBus.dispatch("annotationeditormodechanged",{source:H,mode:F(J,H)}),_.loadingParams.disableAutoFetch||ee>B.FORCE_LAZY_PAGE_INIT)return void H._pagesCapability.resolve();let Ne=ee-1;if(Ne<=0)H._pagesCapability.resolve();else for(let ke=2;ke<=ee;++ke){const Le=_.getPage(ke).then(Ie=>{const Te=H._pages[ke-1];Te.pdfPage||Te.setPdfPage(Ie),H.linkService.cachePageRef(ke,Ie.ref),0==--Ne&&H._pagesCapability.resolve()},Ie=>{console.error(`Unable to get page ${ke} to initialize viewer`,Ie),0==--Ne&&H._pagesCapability.resolve()});ke%B.PAUSE_EAGER_PAGE_INIT==0&&(yield Le)}})),this.eventBus.dispatch("pagesinit",{source:this}),_.getMetadata().then(({info:Pe})=>{_===this.pdfDocument&&Pe.Language&&(this.viewer.lang=Pe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Me=>{console.error("Unable to initialize viewer",Me),this._pagesCapability.reject(Me)})}setPageLabels(_){if(this.pdfDocument){_?Array.isArray(_)&&this.pdfDocument.numPages===_.length?this._pageLabels=_:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let _e=0,ee=this._pages.length;_e<ee;_e++){var H,re;this._pages[_e].setPageLabel(null!==(H=null===(re=this._pageLabels)||void 0===re?void 0:re[_e])&&void 0!==H?H:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=u.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,p(G,this,new h(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new a.PromiseCapability,this._onePageRenderedCapability=new a.PromiseCapability,this._pagesCapability=new a.PromiseCapability,this._scrollMode=u.ScrollMode.VERTICAL,this._previousScrollMode=u.ScrollMode.UNKNOWN,this._spreadMode=u.SpreadMode.NONE,p(E,this,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),F(ie,this)&&(document.removeEventListener("visibilitychange",F(ie,this)),p(ie,this,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),F(f,this)&&(document.removeEventListener("copy",F(S,this)),p(S,this,null),F(f,this).remove(),p(f,this,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}pageLabelToPageNumber(_){if(!this._pageLabels)return null;const H=this._pageLabels.indexOf(_);return H<0?null:H+1}scrollPageIntoView({pageNumber:_,destArray:H=null,allowNegativeOffset:re=!1,ignoreDestinationZoom:_e=!1}){if(!this.pdfDocument)return;const ee=Number.isInteger(_)&&this._pages[_-1];if(!ee)return void console.error(`scrollPageIntoView: "${_}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!H)return void this._setCurrentPageNumber(_,!0);let Re,oe,q=0,U=0,me=0,Me=0;const xe=ee.rotation%180!=0,Oe=(xe?ee.height:ee.width)/ee.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,Ge=(xe?ee.width:ee.height)/ee.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS;let be=0;switch(H[1].name){case"XYZ":q=H[2],U=H[3],be=H[4],q=null!==q?q:0,U=null!==U?U:Ge;break;case"Fit":case"FitB":be="page-fit";break;case"FitH":case"FitBH":U=H[2],be="page-width",null===U&&this._location?(q=this._location.left,U=this._location.top):("number"!=typeof U||U<0)&&(U=Ge);break;case"FitV":case"FitBV":q=H[2],me=Oe,Me=Ge,be="page-height";break;case"FitR":q=H[2],U=H[3],me=H[4]-q,Me=H[5]-U;let fe=u.SCROLLBAR_PADDING,ge=u.VERTICAL_PADDING;this.removePageBorders&&(fe=ge=0),Re=(this.container.clientWidth-fe)/me/a.PixelsPerInch.PDF_TO_CSS_UNITS,oe=(this.container.clientHeight-ge)/Me/a.PixelsPerInch.PDF_TO_CSS_UNITS,be=Math.min(Math.abs(Re),Math.abs(oe));break;default:return void console.error(`scrollPageIntoView: "${H[1].name}" is not a valid destination type.`)}if(_e||(be&&be!==this._currentScale?this.currentScaleValue=be:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE)),"page-fit"===be&&!H[4])return void w(le,this,se).call(this,ee);const D=[ee.viewport.convertToViewportPoint(q,U),ee.viewport.convertToViewportPoint(q+me,U+Me)];let j=Math.min(D[0][0],D[1][0]),ae=Math.min(D[0][1],D[1][1]);re||(j=Math.max(j,0),ae=Math.max(ae,0)),w(le,this,se).call(this,ee,{left:j,top:ae})}_updateLocation(_){const H=this._currentScale,re=this._currentScaleValue,_e=parseFloat(re)===H?Math.round(1e4*H)/100:re,ee=_.id,U=this.container,me=this._pages[ee-1].getPagePoint(U.scrollLeft-_.x,U.scrollTop-_.y),Me=Math.round(me[0]),Re=Math.round(me[1]);let oe=`#page=${ee}`;this.isInPresentationMode||(oe+=`&zoom=${_e},${Me},${Re}`),this._location={pageNumber:ee,scale:_e,top:Re,left:Me,rotation:this._pagesRotation,pdfOpenParams:oe}}update(){const _=this._getVisiblePages(),H=_.views,re=H.length;if(0===re)return;const _e=Math.max(10,2*re+1);F(G,this).resize(_e,_.ids),this.renderingQueue.renderHighestPriority(_);const ee=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),q=this._currentPageNumber;let U=!1;for(const me of H){if(me.percent<100)break;if(me.id===q&&ee){U=!0;break}}this._setCurrentPageNumber(U?q:H[0].id),this._updateLocation(_.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(_){return this.container.contains(_)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===u.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const _=this._scrollMode===u.ScrollMode.PAGE?F(E,this).pages:this._pages,H=this._scrollMode===u.ScrollMode.HORIZONTAL;return(0,u.getVisibleElements)({scrollEl:this.container,views:_,sortByVisibility:!0,horizontal:H,rtl:H&&this._isContainerRtl})}cleanup(){for(const _ of this._pages)_.renderingState!==u.RenderingStates.FINISHED&&_.reset()}_cancelRendering(){for(const _ of this._pages)_.cancelRendering()}forceRendering(_){const H=_||this._getVisiblePages(),re=w(le,this,Be).call(this,H),ee=this.renderingQueue.getHighestPriority(H,this._pages,re,this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL);return!!ee&&(w(le,this,ve).call(this,ee).then(()=>{this.renderingQueue.renderView(ee)}),!0)}get hasEqualPageSizes(){const _=this._pages[0];for(let H=1,re=this._pages.length;H<re;++H){const _e=this._pages[H];if(_e.width!==_.width||_e.height!==_.height)return!1}return!0}getPagesOverview(){let _;return this._pages.map(H=>{const re=H.pdfPage.getViewport({scale:1}),_e=(0,u.isPortraitOrientation)(re);if(void 0===_)_=_e;else if(this.enablePrintAutoRotate&&_e!==_)return{width:re.height,height:re.width,rotation:(re.rotation-90)%360};return{width:re.width,height:re.height,rotation:re.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(_){if(!(_ instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${_}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=_,this.refresh(!1,{optionalContentConfigPromise:_}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:_}))}get scrollMode(){return this._scrollMode}set scrollMode(_){if(this._scrollMode!==_){if(!(0,u.isValidScrollMode)(_))throw new Error(`Invalid scroll mode: ${_}`);this.pagesCount>B.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=_,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(_=null){const H=this._scrollMode,re=this.viewer;re.classList.toggle("scrollHorizontal",H===u.ScrollMode.HORIZONTAL),re.classList.toggle("scrollWrapped",H===u.ScrollMode.WRAPPED),this.pdfDocument&&_&&(H===u.ScrollMode.PAGE?w(le,this,W).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&w(le,this,I).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(_,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(_){if(this._spreadMode!==_){if(!(0,u.isValidSpreadMode)(_))throw new Error(`Invalid spread mode: ${_}`);this._spreadMode=_,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:_}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(_=null){if(!this.pdfDocument)return;const H=this.viewer,re=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)w(le,this,W).call(this);else if(H.textContent="",this._spreadMode===u.SpreadMode.NONE)for(const _e of this._pages)H.append(_e.div);else{const _e=this._spreadMode-1;let ee=null;for(let q=0,U=re.length;q<U;++q)null===ee?(ee=document.createElement("div"),ee.className="spread",H.append(ee)):q%2===_e&&(ee=ee.cloneNode(!1),H.append(ee)),ee.append(re[q].div)}_&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&w(le,this,I).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(_,!0),this.update())}_getPageAdvance(_,H=!1){switch(this._scrollMode){case u.ScrollMode.WRAPPED:{const{views:re}=this._getVisiblePages(),_e=new Map;for(const{id:ee,y:q,percent:U,widthPercent:me}of re){if(0===U||me<100)continue;let Me=_e.get(q);Me||_e.set(q,Me||(Me=[])),Me.push(ee)}for(const ee of _e.values()){const q=ee.indexOf(_);if(-1===q)continue;const U=ee.length;if(1===U)break;if(H)for(let me=q-1,Me=0;me>=Me;me--){const oe=ee[me+1]-1;if(ee[me]<oe)return _-oe}else for(let me=q+1,Me=U;me<Me;me++){const oe=ee[me-1]+1;if(ee[me]>oe)return oe-_}if(H){const me=ee[0];if(me<_)return _-me+1}else{const me=ee[U-1];if(me>_)return me-_+1}break}break}case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:{if(this._spreadMode===u.SpreadMode.NONE)break;const re=this._spreadMode-1;if(H&&_%2!==re)break;if(!H&&_%2===re)break;const{views:_e}=this._getVisiblePages(),ee=H?_-1:_+1;for(const{id:q,percent:U,widthPercent:me}of _e)if(q===ee){if(U>0&&100===me)return 2;break}break}}return 1}nextPage(){const _=this._currentPageNumber,H=this.pagesCount;if(_>=H)return!1;const re=this._getPageAdvance(_,!1)||1;return this.currentPageNumber=Math.min(_+re,H),!0}previousPage(){const _=this._currentPageNumber;if(_<=1)return!1;const H=this._getPageAdvance(_,!0)||1;return this.currentPageNumber=Math.max(_-H,1),!0}increaseScale({drawingDelay:_,scaleFactor:H,steps:re}={}){if(!this.pdfDocument)return;let _e=this._currentScale;if(H>1)_e=Math.round(_e*H*100)/100;else{var ee;null!==(ee=re)&&void 0!==ee||(re=1);do{_e=Math.ceil(10*(_e*u.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--re>0&&_e<u.MAX_SCALE)}w(le,this,I).call(this,Math.min(u.MAX_SCALE,_e),{noScroll:!1,drawingDelay:_})}decreaseScale({drawingDelay:_,scaleFactor:H,steps:re}={}){if(!this.pdfDocument)return;let _e=this._currentScale;if(H>0&&H<1)_e=Math.round(_e*H*100)/100;else{var ee;null!==(ee=re)&&void 0!==ee||(re=1);do{_e=Math.floor(10*(_e/u.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--re>0&&_e>u.MIN_SCALE)}w(le,this,I).call(this,Math.max(u.MIN_SCALE,_e),{noScroll:!1,drawingDelay:_})}get containerTopLeft(){return F(V,this)||p(V,this,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return F(Q,this)?F(J,this):a.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:_,editId:H=null}){if(!F(Q,this))throw new Error("The AnnotationEditor is not enabled.");if(F(J,this)!==_){if(!k(_))throw new Error(`Invalid AnnotationEditor mode: ${_}`);this.pdfDocument&&(p(J,this,_),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:_}),F(Q,this).updateMode(_,H))}}set annotationEditorParams({type:_,value:H}){if(!F(Q,this))throw new Error("The AnnotationEditor is not enabled.");F(Q,this).updateParams(_,H)}refresh(_=!1,H=Object.create(null)){if(this.pdfDocument){for(const re of this._pages)re.update(H);null!==F(de,this)&&(clearTimeout(F(de,this)),p(de,this,null)),_||this.update()}}}},(y,c,d)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var a=d(4),u=d(2);c.PDFRenderingQueue=class A{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}renderHighestPriority(n){var M;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&null!==(M=this.pdfThumbnailViewer)&&void 0!==M&&M.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,M,B,k=!1){const Y=n.views,r=Y.length;if(0===r)return null;for(let K=0;K<r;K++){const J=Y[K].view;if(!this.isViewFinished(J))return J}const l=n.first.id,h=n.last.id;if(h-l+1>r){const K=n.ids;for(let J=1,Q=h-l;J<Q;J++){const x=B?l+J:h-J;if(K.has(x))continue;const V=M[x-1];if(!this.isViewFinished(V))return V}}let P=B?h:l-2,G=M[P];return G&&!this.isViewFinished(G)||k&&(P+=B?1:-1,G=M[P],G&&!this.isViewFinished(G))?G:null}isViewFinished(n){return n.renderingState===u.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case u.RenderingStates.FINISHED:return!1;case u.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case u.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case u.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(M=>{M instanceof a.RenderingCancelledException||console.error(`renderView: "${M}"`)})}return!0}}}],$={};function Z(y){var c=$[y];if(void 0!==c)return c.exports;var d=$[y]={exports:{}};return b[y](d,d.exports,Z),d.exports}var N={};return(()=>{var y=N;Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return u.AnnotationLayerBuilder}}),Object.defineProperty(y,"DownloadManager",{enumerable:!0,get:function(){return v.DownloadManager}}),Object.defineProperty(y,"EventBus",{enumerable:!0,get:function(){return A.EventBus}}),Object.defineProperty(y,"FindState",{enumerable:!0,get:function(){return c.FindState}}),Object.defineProperty(y,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(y,"LinkTarget",{enumerable:!0,get:function(){return d.LinkTarget}}),Object.defineProperty(y,"NullL10n",{enumerable:!0,get:function(){return n.NullL10n}}),Object.defineProperty(y,"PDFFindController",{enumerable:!0,get:function(){return c.PDFFindController}}),Object.defineProperty(y,"PDFHistory",{enumerable:!0,get:function(){return M.PDFHistory}}),Object.defineProperty(y,"PDFLinkService",{enumerable:!0,get:function(){return d.PDFLinkService}}),Object.defineProperty(y,"PDFPageView",{enumerable:!0,get:function(){return B.PDFPageView}}),Object.defineProperty(y,"PDFScriptingManager",{enumerable:!0,get:function(){return k.PDFScriptingManager}}),Object.defineProperty(y,"PDFSinglePageViewer",{enumerable:!0,get:function(){return Y.PDFSinglePageViewer}}),Object.defineProperty(y,"PDFViewer",{enumerable:!0,get:function(){return r.PDFViewer}}),Object.defineProperty(y,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(y,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(y,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(y,"SimpleLinkService",{enumerable:!0,get:function(){return d.SimpleLinkService}}),Object.defineProperty(y,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(y,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return l.StructTreeLayerBuilder}}),Object.defineProperty(y,"TextLayerBuilder",{enumerable:!0,get:function(){return h.TextLayerBuilder}}),Object.defineProperty(y,"XfaLayerBuilder",{enumerable:!0,get:function(){return P.XfaLayerBuilder}}),Object.defineProperty(y,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var c=Z(1),d=Z(5),a=Z(2),u=Z(6),v=Z(8),A=Z(9),o=Z(10),n=Z(7),M=Z(12),B=Z(13),k=Z(21),Y=Z(24),r=Z(25),l=Z(16),h=Z(19),P=Z(20)})(),N})(),X.exports=$.pdfjsViewer=Z()},43236:(X,s,L)=>{"use strict";L.d(s,{E:()=>R,b:()=>z});var i=L(96780);const R=new(L(39687).q)(i.R),z=R},17640:()=>{},23237:()=>{},97492:()=>{},31815:()=>{},66671:()=>{},82787:()=>{},81756:X=>{X.exports=function s(L,i,C){if("function"==typeof L?L===i:L.has(i))return arguments.length<3?i:C;throw new TypeError("Private element is not present on this object")},X.exports.__esModule=!0,X.exports.default=X.exports},29293:X=>{function s(i,C,R,z,F,w,p){try{var b=i[w](p),$=b.value}catch(Z){return void R(Z)}b.done?C($):Promise.resolve($).then(z,F)}X.exports=function L(i){return function(){var C=this,R=arguments;return new Promise(function(z,F){var w=i.apply(C,R);function p($){s(w,z,F,p,b,"next",$)}function b($){s(w,z,F,p,b,"throw",$)}p(void 0)})}},X.exports.__esModule=!0,X.exports.default=X.exports},97101:X=>{X.exports=function s(L,i){if(i.has(L))throw new TypeError("Cannot initialize the same private elements twice on an object")},X.exports.__esModule=!0,X.exports.default=X.exports},16668:(X,s,L)=>{var i=L(81756);X.exports=function C(R,z){return R.get(i(R,z))},X.exports.__esModule=!0,X.exports.default=X.exports},42459:(X,s,L)=>{var i=L(97101);X.exports=function C(R,z,F){i(R,z),z.set(R,F)},X.exports.__esModule=!0,X.exports.default=X.exports},37088:(X,s,L)=>{var i=L(81756);X.exports=function C(R,z,F){return R.set(i(R,z),F),F},X.exports.__esModule=!0,X.exports.default=X.exports},183:(X,s,L)=>{var i=L(81756);X.exports=function C(R,z,F){return F(i(R,z))},X.exports.__esModule=!0,X.exports.default=X.exports},93312:(X,s,L)=>{var i=L(97101);X.exports=function C(R,z){i(R,z),z.add(R)},X.exports.__esModule=!0,X.exports.default=X.exports},43693:(X,s,L)=>{var i=L(77736);X.exports=function C(R,z,F){return(z=i(z))in R?Object.defineProperty(R,z,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[z]=F,R},X.exports.__esModule=!0,X.exports.default=X.exports},89045:(X,s,L)=>{var i=L(73738).default;X.exports=function C(R,z){if("object"!=i(R)||!R)return R;var F=R[Symbol.toPrimitive];if(void 0!==F){var w=F.call(R,z||"default");if("object"!=i(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===z?String:Number)(R)},X.exports.__esModule=!0,X.exports.default=X.exports},77736:(X,s,L)=>{var i=L(73738).default,C=L(89045);X.exports=function R(z){var F=C(z,"string");return"symbol"==i(F)?F:String(F)},X.exports.__esModule=!0,X.exports.default=X.exports},73738:X=>{function s(L){return X.exports=s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},X.exports.__esModule=!0,X.exports.default=X.exports,s(L)}X.exports=s,X.exports.__esModule=!0,X.exports.default=X.exports},99842:(X,s,L)=>{"use strict";function i(F){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(F)}function z(F,w,p){return(w=function R(F){var w=function C(F,w){if("object"!=i(F)||!F)return F;var p=F[Symbol.toPrimitive];if(void 0!==p){var b=p.call(F,w||"default");if("object"!=i(b))return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(F)}(F,"string");return"symbol"==i(w)?w:String(w)}(w))in F?Object.defineProperty(F,w,{value:p,enumerable:!0,configurable:!0,writable:!0}):F[w]=p,F}L.d(s,{A:()=>z})}}]);