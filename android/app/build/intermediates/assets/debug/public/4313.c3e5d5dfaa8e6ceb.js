"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4313],{64313:(E,y,s)=>{s.r(y),s.d(y,{CalibrateSoundPage:()=>Y});var a=s(10467),e=s(54438),h=s(60177),u=s(89417),_=s(61494),d=s(35933),b=s(82739),i=s(15293),f=s(96943),l=s(5981),v=s(41319),C=s(35797),M=s(60248),D=s(45877),O=s(7981),A=s(75507),k=s(77917),j=s.n(k),P=s(13903),F=s(56603);const U=["range"];function $(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"ion-text",15),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"button",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.backStep())}),e.nrm(8,"img",17),e.k0s()(),e.j41(9,"div",13)(10,"ion-text",18),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",13)(14,"button",19),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.initRecord())}),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",20),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.backStep())}),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()()}if(2&o){const n=e.XpG();e.R7$(5),e.JRh(e.bMT(6,5,"calibration.notification_title")),e.R7$(6),e.Lme("",e.bMT(12,7,"calibration.notification_description"),"",n.calibrateValueApi,""),e.R7$(4),e.SpI(" ",e.bMT(16,9,"calibration.notification_btn1")," "),e.R7$(3),e.SpI(" ",e.bMT(19,11,"calibration.notification_btn2")," ")}}function B(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",13)(1,"label",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"label",24),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"ion-radio-group",25),e.mxI("ngModelChange",function(r){e.eBV(n);const c=e.XpG(2);return e.DH7(c.referenceDevice,r)||(c.referenceDevice=r),e.Njj(r)}),e.j41(8,"div",13)(9,"ion-radio",26)(10,"lavel",27),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"label",28),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-radio",29)(17,"label",27),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"ion-radio",30)(24,"label",27),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"label",28),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.j41(30,"ion-radio",31)(31,"label",27),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"label",28),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()()()}if(2&o){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,11,"calibration.popupTxt")),e.R7$(3),e.SpI("",e.bMT(6,13,"calibration.select_reference_text")," (*)"),e.R7$(2),e.R50("ngModel",n.referenceDevice),e.R7$(4),e.SpI(" ",e.bMT(12,15,"calibration.sound_level_meter"),": "),e.R7$(3),e.SpI(" ",e.bMT(15,17,"calibration.sound_level_meter_txt")," "),e.R7$(4),e.SpI(" ",e.bMT(19,19,"calibration.external_microphone"),": "),e.R7$(3),e.SpI(" ",e.bMT(22,21,"calibration.external_microphone_txt")," "),e.R7$(4),e.SpI(" ",e.bMT(26,23,"calibration.another_device"),": "),e.R7$(3),e.SpI(" ",e.bMT(29,25,"calibration.another_device_txt")," "),e.R7$(4),e.SpI(" ",e.bMT(33,27,"calibration.no_reference"),": "),e.R7$(3),e.SpI(" ",e.bMT(36,29,"calibration.no_reference_txt")," ")}}function L(o,m){if(1&o&&(e.j41(0,"div",41)(1,"div",42)(2,"label",43)(3,"p"),e.EFF(4),e.k0s()()()()),2&o){const n=e.XpG(3);e.R7$(4),e.JRh(n.timer)}}function w(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",13)(1,"label",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"label",33),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",34)(8,"div",35),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.initRecord())}),e.nrm(9,"div",36)(10,"div",37),e.j41(11,"div",38),e.nrm(12,"ion-icon",39),e.k0s()()(),e.DNE(13,L,5,1,"div",40),e.k0s()}if(2&o){const n=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,4,"calibration.beginCalibrationTitle")," "),e.R7$(3),e.SpI(" ",e.bMT(6,6,"calibration.beginCalibrationTxt"+n.referenceDevice),""),e.R7$(5),e.Y8G("ngClass",n.recording?"animated-circle-full":""),e.R7$(3),e.Y8G("ngIf",n.flagViewControls)}}function G(o,m){if(1&o){const n=e.RV6();e.j41(0,"ion-input",50,0),e.mxI("ngModelChange",function(r){e.eBV(n);const c=e.XpG(3);return e.DH7(c.manualValueCalibration,r)||(c.manualValueCalibration=r),e.Njj(r)}),e.k0s()}if(2&o){const n=e.XpG(3);e.R50("ngModel",n.manualValueCalibration)}}function W(o,m){if(1&o&&(e.j41(0,"div")(1,"div",13)(2,"label",44),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"label",45),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",46)(9,"label",47),e.EFF(10),e.k0s()(),e.j41(11,"div",48)(12,"label",45),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.DNE(15,G,2,1,"ion-input",49),e.k0s()()()),2&o){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,5,"calibration.calibration_value")," "),e.R7$(3),e.SpI(" ",e.bMT(7,7,"calibration.calibration_value_desc")," "),e.R7$(4),e.SpI(" ",n.calibrateValueApi," "),e.R7$(3),e.SpI(" ",e.bMT(14,9,"calibration.calibration_device_"+n.referenceDevice)," "),e.R7$(2),e.Y8G("ngIf",n.referenceDevice>0&&n.referenceDevice<4)}}function V(o,m){if(1&o&&(e.j41(0,"div",21),e.DNE(1,B,37,31,"div",22)(2,w,14,8,"div",22)(3,W,16,11,"div",23),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",0===n.myStep),e.R7$(),e.Y8G("ngIf",1===n.myStep),e.R7$(),e.Y8G("ngIf",n.myStep>1)}}function H(o,m){1&o&&(e.j41(0,"div",51),e.nrm(1,"app-no-user-auth"),e.k0s())}function K(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",54)(1,"div",55)(2,"div",56)(3,"button",57),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.sendValueCalibration())}),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()()}if(2&o){const n=e.XpG(2);e.R7$(3),e.Y8G("disabled",!n.canSendAudio||n.manualValueCalibration<20||n.manualValueCalibration>140)("ngClass",n.canSendAudio?"":"opacity-50"),e.R7$(),e.SpI(" ",e.bMT(5,3,"calibration.btn_save")," ")}}function N(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",54)(1,"div",55)(2,"div",56)(3,"button",57),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.goToStep1())}),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()()}if(2&o){const n=e.XpG(2);e.R7$(3),e.Y8G("disabled",n.referenceDevice<1)("ngClass",n.referenceDevice<1?"opacity-50":""),e.R7$(),e.SpI(" ",e.bMT(5,3,"calibration.btn_next")," ")}}function X(o,m){if(1&o&&(e.j41(0,"ion-footer",52),e.DNE(1,K,6,5,"div",53)(2,N,6,5,"div",53),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isUserAuth&&n.myStep>1),e.R7$(),e.Y8G("ngIf",n.isUserAuth&&0===n.myStep)}}let Y=(()=>{var o;class m{constructor(){this.navController=(0,e.WQX)(_.q9),this.commonService=(0,e.WQX)(M.hf),this.translate=(0,e.WQX)(P.c$),this.observationsService=(0,e.WQX)(O.z),this.recording=!1,this.stoped=!0,this.flagViewControls=!1,this.storedFileNames=[],this.timer="00:00:00",this.seconds=0,this.maxSeconds=12,this.myStep=0,this.canSendAudio=!0,this.path_="",this.progress=0,this.authService=(0,e.WQX)(M.uR),this.jwtTokenName="jwt_token",this.checkManual=!1,this.calibrateValueApi=0,this.manualValueCalibration=40,this.referenceDevice=0,this.displayCuppertino=!1}ngOnInit(){var t=this;return(0,a.A)(function*(){(yield t.commonService.getItem(t.jwtTokenName))&&(t.isUserAuth=!0),t.myStep=0,yield t.clearFilesSystem(),yield i.R.requestAudioRecordingPermission()})()}clearFilesSystem(){var t=this;return(0,a.A)(function*(){b.YA.readdir({path:"",directory:b.__.Data}).then(r=>{r.files.forEach(function(){var g=(0,a.A)(function*(p){yield b.YA.deleteFile({path:p.name,directory:b.__.Data})});return function(p){return g.apply(this,arguments)}}())}),t.storedFileNames=[]})()}goToStep1(){this.referenceDevice>0&&(this.myStep=1)}startRecording(){var t=this;return(0,a.A)(function*(){if((yield i.R.hasAudioRecordingPermission()).value)yield t.startRecordingPart2();else{const r=yield t.translate.instant("sounds.collect.micro_permission");yield t.commonService.presentToast("",r,"warning",3e3,M.xJ.top),yield i.R.requestAudioRecordingPermission(),yield t.startRecordingPart2()}})()}startRecordingPart2(){var t=this;return(0,a.A)(function*(){i.R.startRecording().then(()=>{t.recording=!0,t.stoped=!1,t.flagViewControls=!0,t.startTimer()})})()}stopRecording(){var t=this;this.recording&&(this.recording=!1,this.stoped=!0,this.canSendAudio=!0,this.flagViewControls=!1,i.R.stopRecording().then(function(){var r=(0,a.A)(function*(c){if(c.value&&c.value.recordDataBase64){const g=c.value.recordDataBase64,p=(new Date).getTime()+".wav";yield b.YA.writeFile({path:p,directory:b.__.Data,data:g});const R=Uint8Array.from(atob(g),x=>x.charCodeAt(0)).buffer;yield(new AudioContext).decodeAudioData(R).then(function(){var x=(0,a.A)(function*(I){const z=j()(I),S=new Blob([z],{type:"audio/wav"});t.soundRecordedBlob=S;const T=new File([S],"audio.wav",{type:"audio/wav"});t.audioUrl=URL.createObjectURL(S),t.soundRecorded=T,console.log("Audio audioFile:",T),console.log("Blob:",t.soundRecordedBlob),yield t.sendAudioToProcess()});return function(I){return x.apply(this,arguments)}}()).catch(x=>{console.error("Error al decodificar el audio:",x)}),t.stopTimer()}});return function(c){return r.apply(this,arguments)}}()))}isChecked(t){this.checkManual=!!t.detail.checked}sendAudioToProcess(){var t=this;return(0,a.A)(function*(){yield t.commonService.showLoaderWithMsg("loading_processing_sound");let c=new FormData;c.append("uploaded_file",t.soundRecordedBlob,t.soundRecorded.name),t.observationsService.calibrateSound(c).then(function(){var g=(0,a.A)(function*(p){if(yield null==p?void 0:p.calibrated_value)t.calibrateValueApi=t.commonService.obtenerParteEntera(p.calibrated_value),console.log(t.referenceDevice+" - "+t.calibrateValueApi),4==t.referenceDevice&&(t.calibrateValueApi<25||t.calibrateValueApi>35)?t.displayCuppertino=!0:t.myStep=2;else{const R=t.translate.instant("global_error.label.error_ocurred");t.commonService.alertModal("",R)}yield t.commonService.hideLoader()});return function(p){return g.apply(this,arguments)}}()).catch(g=>{const p=t.translate.instant("global_error.label.error_ocurred");t.commonService.alertModal("",p),t.commonService.hideLoader()}).finally(()=>{t.commonService.hideLoader()})})()}sendValueCalibration(){var t=this;return(0,a.A)(function*(){yield t.commonService.showLoaderWithMsg("saving_data");const c=t.calibrateValueApi-(4==t.referenceDevice?30:t.manualValueCalibration);console.log("diffNumber:",c),t.observationsService.valueCalibration(c).then(function(){var g=(0,a.A)(function*(p){console.log("responseeeeeee save dataaaa:",p),yield t.goToCalibrationOk(),console.error("Error al enviar el valor de la calibraci\xf3n:",p.statusText),yield t.commonService.hideLoader()});return function(p){return g.apply(this,arguments)}}()).catch(g=>{t.commonService.hideLoader(),t.goToCalibrationOk()}).finally(()=>{t.commonService.hideLoader()})})()}startTimer(){this.timerSubscription=(0,D.Y)(1e3).subscribe(()=>{const t=Math.floor(this.seconds/3600),r=Math.floor(this.seconds%3600/60),c=this.seconds%60;this.timer=`${this.formatTime(t)}:${this.formatTime(r)}:${this.formatTime(c)}`,this.seconds++,this.seconds===this.maxSeconds&&(this.seconds=0,this.stopRecording())})}stopTimer(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.seconds<1&&(this.seconds=0,this.timer="00:00:00"))}formatTime(t){return t<10?`0${t}`:`${t}`}ngOnDestroy(){var t=this;return(0,a.A)(function*(){t.stopTimer(),yield t.clearFilesSystem()})()}initRecord(){var t=this;return(0,a.A)(function*(){t.displayCuppertino=!1,t.recording||(yield t.startRecording())})()}goToHome(){var t=this;return(0,a.A)(function*(){yield t.navController.navigateRoot("/tabs/home")})()}goToCalibrationOk(){var t=this;return(0,a.A)(function*(){yield t.navController.navigateRoot("/calibrate-done")})()}backStep(){this.displayCuppertino=!1,this.myStep--}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-calibrate-sound"]],viewQuery:function(t,r){if(1&t&&e.GBs(U,5),2&t){let c;e.mGM(c=e.lsd())&&(r.range=c.first)}},standalone:!0,features:[e.Jv_([l.K,f.N,C.L,v.K,O.z,A.g]),e.aNF],decls:20,vars:8,consts:[["newValueCalibration",""],[1,"ion-no-border"],["color","ligth",1,"ion-no-margin","ion-no-padding","ion-no-border","bg-white"],[1,"flex","items-center","justify-between","px-3"],[1,"H2-22-700","self-start","my-text-header"],["tappable","true","src","assets/images/SoundCollect/Iconos/close.svg","alt","back","width","24",1,"mt-1",3,"click"],["class","qualud-coupertino fixed-bottom d-flex justify-content-center align-items-end",4,"ngIf"],[3,"fullscreen"],["class","flex-col flex w-full justify-between items-center p-3","style","height: 77vh",4,"ngIf"],["class","my-5",4,"ngIf"],["style","background-color: #e7ffff !important",4,"ngIf"],[1,"qualud-coupertino","fixed-bottom","d-flex","justify-content-center","align-items-end"],[1,"content","d-flex","flex-col","p-5"],[1,"w-full","flex","flex-col"],[1,"w-full","flex","justify-between","mb-5"],[1,"H2-22-700"],[3,"click"],["src","/assets/images/SoundCollect/Iconos/close.svg","alt","img","width","32px","height","32px"],[1,"H3-400-26-Calistoga","ion-text-start"],[1,"my-btn-login","my-btn-close-session","mt-8","mx-auto",3,"click"],[1,"H6-14-700-SpaceGrotesk","mt-6","mx-auto",3,"click"],[1,"flex-col","flex","w-full","justify-between","items-center","p-3",2,"height","77vh"],["class","w-full flex flex-col",4,"ngIf"],[4,"ngIf"],[1,"H6-14-400-SpaceGrotesk","my-text-header","mt-6","mb-2"],["required","",3,"ngModelChange","ngModel"],["value","1","labelPlacement","end","justify","start",1,"around","my-1"],[1,"ion-text-wrap","H-16-700"],[1,"ion-text-wrap","H-16-400"],["value","2","labelPlacement","end","justify","start",1,"around","my-1"],["value","3","labelPlacement","end","justify","start",1,"around","my-1"],["value","4","labelPlacement","end","justify","start",1,"around","my-1"],[1,"H-20-700","mt-4","my-text-header","w-full","flex","justify-between","items-center"],[1,"H-16-400","my-text-header","mt-2"],[1,"w-full","flex","justify-center","p-3"],["tappable","",1,"circle-container",3,"click"],[1,"circle","back-circle"],[1,"circle","w-100",3,"ngClass"],[1,"circle","center-circle"],["name","mic",1,"icon-mic-style"],["class","w-full flex flex-col justify-center text-center",4,"ngIf"],[1,"w-full","flex","flex-col","justify-center","text-center"],[1,"flex","justify-center","text-center","mb-5"],[1,"H-20-700","mt-4","my-text-header","flex","items-center"],[1,"H-20-700","mt-4"],[1,"H-16-400","my-3"],[1,"w-full","flex","justify-center","my-5"],[1,"H1-34-600"],[1,"w-100","flex","flex-col"],["class","text-start input px-3 mt-3","autofocus","true","type","number","placeholder","","min","20","max","140","style","background: #f3f6f5",3,"ngModel","ngModelChange",4,"ngIf"],["autofocus","true","type","number","placeholder","","min","20","max","140",1,"text-start","input","px-3","mt-3",2,"background","#f3f6f5",3,"ngModelChange","ngModel"],[1,"my-5"],[2,"background-color","#e7ffff !important"],["class","ion-no-border px-3 pt-2",4,"ngIf"],[1,"ion-no-border","px-3","pt-2"],[1,"flex","w-full","flex-col","justify-evenly","gap-3"],[1,"flex","gap-6","justify-evenly"],[1,"my-btn-login",3,"click","disabled","ngClass"]],template:function(t,r){1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"div",3)(3,"ion-text",4),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"img",5),e.bIt("click",function(){return r.goToHome()}),e.k0s()()(),e.DNE(7,$,20,13,"div",6),e.k0s(),e.j41(8,"ion-content",7),e.DNE(9,V,4,3,"div",8),e.nrm(10,"br")(11,"br")(12,"br")(13,"br")(14,"br")(15,"br")(16,"br")(17,"br"),e.DNE(18,H,2,0,"div",9),e.k0s(),e.DNE(19,X,3,2,"ion-footer",10)),2&t&&(e.R7$(4),e.SpI(" ",e.bMT(5,6,"calibration.popupTitle")," "),e.R7$(3),e.Y8G("ngIf",r.displayCuppertino),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("ngIf",r.isUserAuth),e.R7$(9),e.Y8G("ngIf",!r.isUserAuth),e.R7$(),e.Y8G("ngIf",1!==r.myStep))},dependencies:[d.bv,d.W9,d.M0,d.eU,d.iq,d.$w,d.KO,d.f0,d.IO,d.ai,d.su,d.uR,d.Je,d.T6,d.jL,h.MD,h.YU,h.bT,u.YN,u.BC,u.YS,u.vS,u.X1,P.h,P.D9,F.k],styles:["ion-input[_ngcontent-%COMP%]{--padding-start: 10px}.orange-bg[_ngcontent-%COMP%]{background-color:#fda568}ion-range[_ngcontent-%COMP%]{--bar-height: 6px;--bar-border-radius: 100px;--knob-background: var(--ion-color-primary);--knob-size: 22px;--pin-background: rgba(255, 175, 204, 0);--pin-color: #fff}.img-box[_ngcontent-%COMP%]{width:109px;height:127px;flex-shrink:0;border-radius:20px;border:2px solid #206a71;background-repeat:no-repeat;background-position:center;background-size:cover;overflow:hidden;position:relative}.img-box[_ngcontent-%COMP%]   .delete-image[_ngcontent-%COMP%]{position:absolute;top:7px;right:7px}ion-radio.source[_ngcontent-%COMP%]::part(container){width:20px;height:20px;border-radius:3px!important;border:2px solid #ddd}ion-radio.around[_ngcontent-%COMP%]::part(container){width:20px;height:20px;border-radius:50%!important;border:2px solid #ddd}ion-radio[_ngcontent-%COMP%]::part(mark){background:none;transition:none;transform:none;border-radius:0}ion-radio.source[_ngcontent-%COMP%]::part(mark){background:none;transition:none;transform:none}ion-radio.radio-checked[_ngcontent-%COMP%]::part(container){background:var(--ion-color-primary);border-color:transparent}ion-radio.radio-checked[_ngcontent-%COMP%]::part(mark){width:6px;height:10px;border-width:0 2px 2px 0;border-style:solid;border-color:#fff;transform:rotate(45deg)}.icon-mic-style[_ngcontent-%COMP%]{font-size:300%;display:block;color:#fff}.circle-container[_ngcontent-%COMP%]{position:relative;width:60vw;height:60vw}.circle[_ngcontent-%COMP%]{position:absolute;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00f}.animated-circle-full[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#206a7163;opacity:.5;animation:_ngcontent-%COMP%_decreaseScale 2.5s ease-out infinite,increaseScale 2.5s ease-in infinite}.icon-btn-mic[_ngcontent-%COMP%]{font-size:200%;display:block;color:#fff}.center-circle[_ngcontent-%COMP%]{width:50%;height:50%;background-color:var(--ion-color-primary);display:flex;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_increaseScale{0%{transform:translate(-50%,-50%) scale(.4)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_decreaseScale{0%{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-50%) scale(.4)}}.circle-small[_ngcontent-%COMP%]{width:32px;aspect-ratio:1;border-radius:50%;background:#cbd2f726}.done[_ngcontent-%COMP%]{background:#cfd3c4}.require[_ngcontent-%COMP%]{font-size:small;color:red;position:relative;display:block;margin-top:-4px}button[_ngcontent-%COMP%]:disabled{opacity:.5!important}ion-popover[_ngcontent-%COMP%]{--width: 98vw}.qualud-coupertino[_ngcontent-%COMP%]{width:100vw;max-height:100vh;min-height:100vh;background:#494f50b5;box-sizing:border-box;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:100000;transition:.5ms;align-content:center;position:absolute}.qualud-coupertino[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-radius:20px;width:90vw;min-height:20vh;max-height:90vh;background-color:#fff8f3;display:flex;flex-direction:column;align-items:flex-start;overflow-x:visible;position:absolute;top:30vh;left:5vw}"]}),m})()},75507:(E,y,s)=>{s.d(y,{g:()=>d});var a=s(10467),e=s(54438),h=s(21626),u=s(45312),_=s(93207);let d=(()=>{var b;class i{constructor(){this.http=(0,e.WQX)(h.Qq)}sendSound(l){var v=this;return(0,a.A)(function*(){return(0,_.s)(v.http.post(`${u.c.serverURL}/api/audio-process`,l))})()}calibrateSound(l){var v=this;return(0,a.A)(function*(){return console.log("calibrateSound in repooooo http para enviar: ",l),(0,_.s)(v.http.post(`${u.c.serverCalibrationURL}/calibrate`,l))})()}valueCalibration(l){var v=this;return(0,a.A)(function*(){return(0,_.s)(v.http.post(`${u.c.serverURL}/api/user/autocalibration`,{autocalibration:l}))})()}calSoundParameters(l,v){var C=this;return(0,a.A)(function*(){return console.log("cal parameters: ",l),(0,_.s)(C.http.post(`${u.c.serverCalibrationURL}/convert_audio_into_parameters/${v}`,l))})()}deleteObservation(l){var v=this;return(0,a.A)(function*(){return yield(0,_.s)(v.http.delete(`${u.c.serverURL}/api/observations/${l}`))})()}postObservation(l){var v=this;return(0,a.A)(function*(){return(0,_.s)(v.http.post(`${u.c.serverURL}/api/observations`,l))})()}getObservationByUUID(l){var v=this;return(0,a.A)(function*(){return yield(0,_.s)(v.http.get(`${u.c.serverURL}/api/observations/${l}`))})()}getMyObservations(){var l=this;return(0,a.A)(function*(){return yield(0,_.s)(l.http.get(`${u.c.serverURL}/api/user/observations`))})()}getMapObservations(){var l=this;return(0,a.A)(function*(){return yield(0,_.s)(l.http.get(`${u.c.serverURL}/api/map/observations`))})()}}return(b=i).\u0275fac=function(l){return new(l||b)},b.\u0275prov=e.jDH({token:b,factory:b.\u0275fac}),i})()},7981:(E,y,s)=>{s.d(y,{z:()=>u});var a=s(10467),e=s(54438),h=s(75507);let u=(()=>{var _;class d{constructor(){this.observationsRepoHttp=(0,e.WQX)(h.g)}sendSound(i){var f=this;return(0,a.A)(function*(){return yield f.observationsRepoHttp.sendSound(i)})()}calibrateSound(i){var f=this;return(0,a.A)(function*(){return console.log("calibrateSound in services observationnnnn: ",i),yield f.observationsRepoHttp.calibrateSound(i)})()}valueCalibration(i){var f=this;return(0,a.A)(function*(){return yield f.observationsRepoHttp.valueCalibration(i)})()}calSoundParameters(i,f){var l=this;return(0,a.A)(function*(){return yield l.observationsRepoHttp.calSoundParameters(i,f)})()}deleteObservation(i){var f=this;return(0,a.A)(function*(){return yield f.deleteObservation(i)})()}postObservation(i){var f=this;return(0,a.A)(function*(){return yield f.observationsRepoHttp.postObservation(i)})()}getObservationByUUID(i){var f=this;return(0,a.A)(function*(){return yield f.observationsRepoHttp.getObservationByUUID(i)})()}getMyObservations(){var i=this;return(0,a.A)(function*(){return yield i.observationsRepoHttp.getMyObservations()})()}getMapObservations(){var i=this;return(0,a.A)(function*(){return yield i.observationsRepoHttp.getMapObservations()})()}getPolylineColorByDBA(i){return+i<40?"#d9f2d0":+i<45?"#92d050":+i<50?"#4ea72e":+i<55?"#ffff00":+i<60?"#ffc000":+i<65?"#f2aa84":+i<70?"#ff0000":+i<75?"#c00000":+i<80?"#7030a0":+i<85?"#0f9ed5":"#215f9a"}}return(_=d).\u0275fac=function(i){return new(i||_)},_.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),d})()}}]);